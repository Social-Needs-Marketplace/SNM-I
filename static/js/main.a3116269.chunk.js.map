{"version":3,"sources":["store/defaults.js","store/actions/needActions.js","store/actions/authAction.js","store/reducers/authReducer.js","store/actions/ontologyActions.js","store/reducers/ontologyReducers.js","store/actions/clientActions.js","store/actions/serviceActions.js","store/actions/providerActions.js","store/actions/goodActions.js","store/reducers.js","store/reducers/serviceReducer.js","store/reducers/clientReducer.js","store/reducers/goodReducer.js","store/reducers/needReducers.js","store/reducers/providerReducers.js","store.js","components/shared/GoogleMap.js","components/shared/CSVUploadModal.js","components/shared/DeleteModal.js","components/shared/DropdownMenu.js","components/shared/GenericPage.js","components/shared/FormStepper.js","components/shared/FieldsWrapper.js","components/shared/fields/GeneralField.js","constants/index.js","components/shared/fields/SelectField.js","components/shared/LocationFieldGroup.js","helpers/operation_hour_helpers.js","helpers/formulaHelpers.js","helpers/index.js","constants/provider_fields.js","constants/default_fields.js","components/shared/OtherLocationsFields.js","components/shared/Table/EnhancedTableHead.js","components/shared/Table/EnhancedTableToolbar.js","components/shared/Table/index.js","components/shared/index.js","components/layouts/TopNavbar.js","components/layouts/Footer.js","components/Landing.js","components/Login.js","components/LoginPane.js","components/Dashboard.js","api/mockedApi/browserStore.js","api/index.js","api/mockedApi/clients.js","helpers/location_helpers.js","helpers/phone_number_helpers.js","components/Clients.js","components/client_needs/NeedGroupPanel.js","components/ClientNeeds.js","components/shared/TR.js","stylesheets/profile-table.js","components/clients/client_table/ClientInfoTable.js","components/appointments/AppointmentRow.js","api/mockedApi/clientFields.js","constants/client_fields.js","api/eligibilityApi.js","components/clients/client_form/FamilyFields.js","components/shared/fields/RadioField.js","components/shared/fields/CheckboxField.js","components/shared/fields/MultiSelectField.js","components/shared/FieldGroup.js","helpers/client_verify_form.js","components/clients/ClientForm.js","api/userApi.js","constants/userFields.js","components/users/UserForm.js","components/client_needs/NeedForm.js","helpers/select_field_helpers.jsx","components/appointments/AppointmentModal.js","store/actions/appointmentActions.js","components/client_needs/MatchedServices.js","components/client_needs/ServiceListItem.js","components/client_needs/ServiceList.js","components/client_needs/ServiceSearchBar.js","components/client_needs/Need.js","components/routes/PrivateRoute.js","components/routes/AdminRoute.js","api/mockedApi/providers.js","components/Providers.js","components/providers/AddServicePrompt.js","helpers/provider_verify_form.js","api/mockedApi/providerFields.js","components/shared/OperationHoursFieldGroup.js","components/providers/ProviderForm.js","components/providers/provider_table/ProviderInfoTable.js","components/providers/ProviderRatingForm.js","components/Services.js","helpers/eligibility_condition_helpers.js","components/services/Service.js","components/services/conditionConfig.js","components/services/EligibilityCondition.js","api/formulaApi.js","components/services/ServiceForm.js","components/Goods.js","components/goods/Good.js","components/goods/GoodForm.js","api/adminLogApi.js","components/AdminLogs.js","components/Reporting.js","components/additionalFIelds/Eligibilities.js","api/questionApi.js","components/settings/ManageFields.js","components/additionalFIelds/Questions.js","routes.js","components/clients/Client.js","components/users/User.js","components/Users.js","components/providers/ProviderProfile.js","App.js","index.js"],"names":["serverHost","window","location","hostname","module","exports","Object","freeze","torontoCoordinates","lat","lng","countryOptions","languageOptions","genderOptions","maritalStatusOptions","statusInCanadaOptions","educationLevelOptions","incomeSourceOptions","matchStatusOptions","familyRelationshipOptions","needStatusOptions","serviceTypeOptions","serviceSharedWithOptions","provinceOptions","ACTION_SUCCESS","ACTION_ERROR","RECEIVE_CLIENT_NEEDS","RECEIVE_CLIENT_NEED","REMOVE_CLIENT_NEED","REQUEST_NEED","REQUEST_NEEDS","RECEIVE_NEEDS","RECEIVE_CLIENT_NEED_GROUP","RECEIVE_CLIENT_NEED_INFO","receiveClientNeed","clientId","need","needGroup","type","receiveClientNeedInfo","needId","updateClientNeedGroup","needGroupId","params","dispatch","url","fetch","method","body","JSON","stringify","headers","localStorage","getItem","then","response","json","receiveClientNeedGroup","deleteClientNeed","status","removeClientNeed","fetchNeed","callback","client_id","id","LOGIN_SUCCESS","LOGIN_FAILURE","LOGGED_OUT","UPDATE_ORGANIZATION","login","console","log","a","error","Error","decoded_token","jwt_decode","token","user","user_id","username","email","is_admin","organization","provider_id","name","organization_name","setItem","login_success","catch","err","alert","message","login_failure","logout","sessionExpired","logged_out","removeItem","DEFAULT_STATE","currentUser","isLoggedin","RECEIVE_CATEGORIES","fetchOntologyCategories","categories","category_type","receiveCategories","DEFAULT_CATEGORY_STATE","loaded","REQUEST_CLIENT","RECEIVE_CLIENT","REQUEST_CLIENTS","REMOVE_CLIENT","RECEIVE_CLIENTS","SEARCH_CLIENTS","REQUEST_SERVICE","RECEIVE_SERVICE","REQUEST_SERVICES","REMOVE_SERVICE","RECEIVE_SERVICES","SEARCH_SERVICES","receiveService","service","receiveServices","services","fetchService","requestService","fetchServices","deleteService","removeService","REQUEST_PROVIDERS","RECEIVE_PROVIDERS","REMOVE_PROVIDER","RECEIVE_PROVIDER","REQUEST_PROVIDER","SEARCH_PROVIDERS","receiveProviders","providers","receivedAt","Date","now","fetchProviders","REQUEST_GOOD","RECEIVE_GOOD","REQUEST_GOODS","RECEIVE_ALL_GOODS","REMOVE_GOOD","RECEIVE_GOODS","GOOD_ERROR","GOOD_SUCCESS","SEARCH_GOODS","receiveGood","good","receiveGoods","goods","fetchGood","requestGood","fetchGoods","deleteGood","removeGood","appReducer","combineReducers","nextById","sortedServices","nextIndex","state","index","filteredServices","servicesLoaded","byId","action","newServicesById","_","keyBy","clone","remove","n","sortType","sort","b","toLowerCase","localeCompare","provider","profile","first_name","desc","category","searchValue","searchType","filter","includes","company","last_name","clients","sortedClients","filteredClients","clientsLoaded","newClientsById","client","reverse","address","sortedGoods","filteredGoods","goodsLoaded","newGoodsById","needs","nextNeedGroup","needGroupIndex","needGroups","map","indexOf","toString","need_group_id","needIndex","length","splice","sortedProviders","providersByType","providerLoaded","value","filteredProviders","providersById","displayType","primary_phone_number","auth","assign","ontology","languages","initialState","persistConfig","key","storage","persistedReducer","persistReducer","authMiddleware","store","next","getState","expired_at","google","maps","Map","Marker","InfoWindow","Size","createInfoWindow","markerElement","marker","history","idx","infoWindow","content","position","pixelOffset","addListener","e","render","ReactInfoWindow","document","getElementById","clicked","show","querySelector","open","close","event","title","link","Link","style","cursor","onClick","push","Typography","color","GoogleMap","props","useHistory","defaultCenter","useMemo","zoom","center","markers","useState","setMap","useEffect","i","currMarker","Paper","elevation","width","height","marginTop","info","CSVUploadModal","onHide","submit","Dialog","onClose","DialogTitle","DialogContent","InputBase","DialogActions","Button","DeleteModal","objectId","reason","form","setForm","fullWidth","TextField","label","sx","mt","onChange","target","delete","DropdownMenu","urlPrefix","handleDelete","hideViewOption","anchorEl","setAnchorEl","Boolean","handleClose","handleLink","IconButton","currentTarget","size","MoreVert","Menu","keepMounted","PaperProps","maxHeight","ITEM_HEIGHT","MenuItem","ListItemIcon","OpenInBrowser","fontSize","variant","Edit","Delete","GenericPage","fetchData","deleteItem","generateMarkers","nameFormatter","columnsWithoutOptions","charAt","toUpperCase","slice","useDispatch","showUploadDialog","showDeleteDialog","deleteId","deleteDialogTitle","data","pageNumber","rowsPerPage","loading","setState","hideDialog","useCallback","success","item","columns","tableOptions","customToolbar","CustomToolbar","handleAdd","handleUpload","onDelete","ids","onChangePage","onChangeRowsPerPage","Loading","Fade","in","Container","file","contentType","useStyles","makeStyles","theme","buttons","margin","paddingTop","paddingBottom","button","marginRight","spacing","backButton","FormStepper","stepNames","handleFinish","getStepContent","classes","React","activeStep","setActiveStep","Stepper","alternativeLabel","nonLinear","Step","StepButton","step","className","Alert","severity","disabled","prevActiveStep","root","paper","display","paddingLeft","minWidth","children","gutterBottom","dateFormat","GeneralField","defaultValue","parse","setValue","handleChange","val","onChangeDate","date","onAcceptDate","formattedDate","format","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","onAccept","renderInput","TimePicker","UN_SET","defaultField","component","validator","required","formControl","SelectField","InputLabelProps","options","noDefaultStyle","noEmpty","controlled","defaultOptionTitle","formControlProps","helperText","undefined","FormControl","InputLabel","Select","Array","isArray","option","entries","FormHelperText","LocationFieldGroup","errMsg","apt_number","street_address","city","province","postal_code","defaultTimeSlot","defaultOperationHour","mapping","hour","hourStringam","minutes","timeSlot","operationHourMapping","operationHourListToObject","operation_hour_list","operation_hours","each","operation_hour","weekday","start_time","end_time","operationHourObjectToList","operation_hour_obj","times","day","time","week_day","OperationHourTable","operationHourObj","transformToFrontendType","condition_clauses","condition","clauses","field_name","left_operand","right_operand","operator","escapeString","string","replace","unescapeList","array","recursiveAssign","obj","forEach","isFieldEmpty","field","isAvailabilityEmpty","availability","keys","time_slot","verifyAddressField","result","fieldName","verifyOtherAddressesFields","validateAddressPostalCode","errsContainer","parentField","test","verifyEmail","concat","verifyPhoneNumber","validateContactFormat","alt_phone_number","verifyFamilyFields","families","family","emailRegex","phoneNumberRegex","passwordRegex","postalCodeRegex","Validator","phone","password","postalCode","providerFormTypes","allForms","providerCategoryValue2Key","ret","objectFlip","providerFields","commitment","gender","main_address","notes","other_addresses","own_car","primary_contact","reference1_email","reference1_name","reference1_phone","reference2_email","reference2_name","reference2_phone","referrer","secondary_contact","skills","start_date","visibility","sponsor","defaultProfileFields","middle_name","preferred_name","birth_date","defaultContactFields","defaultLocationFields","defaultUserFields","is_superuser","LocationFields","handleRemove","update","FormLabel","FieldsWrapper","OtherLocationsFields","otherLocations","forceUpdate","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","inputProps","headCell","sortDirection","sortBy","TableSortLabel","active","direction","getFieldValueFn","sortSpan","useToolbarStyles","paddingRight","highlight","palette","mode","primary","main","backgroundColor","lighten","light","text","secondary","dark","flex","EnhancedTableToolbar","Toolbar","clsx","Tooltip","descendingComparator","getValue","extraData","getComparator","stableSort","comparator","stabilizedThis","el","table","visuallyHidden","tableRow","EnhancedTable","rowsPerPageOptions","idField","defaultOrderBy","rowStyle","setOrder","setOrderBy","selected","setSelected","page","setPage","setRowsPerPage","findIndex","_id","emptyRows","Math","max","TableContainer","Table","stickyHeader","TableBody","row","isItemSelected","isSelected","hover","role","tabIndex","selectedIndex","newSelected","handleClick","cell","colSpan","TablePagination","count","onPageChange","newPage","onRowsPerPageChange","parseInt","textDecorationLine","linkWithHover","fontWeight","progress","chipButton","marginLeft","Chip","icon","Add","formType","textAlign","CircularProgress","StyledTabs","styled","Tabs","justifyContent","transition","StyledTab","Tab","textTransform","typography","fontWeightRegular","pxToRem","NavTab","TopNavBar","useSelector","tabNames","pathname","AppBar","flexGrow","newValue","indicatorColor","Box","whiteSpace","to","left","bottom","borderRadius","alignContent","href","textDecoration","Landing","Component","container","maxWidth","Login","Grid","alignItems","marginBottom","LoginPane","prev","onKeyPress","Divider","NavButton","startIcon","Dashboard","Create","People","BrowserStore","this","rawData","BrowserCounterStore","startNumber","Number","normalizeError","getJson","sendJson","rawResponse","postJson","putJson","deleteJson","sleep","milliseconds","Promise","resolve","setTimeout","clientsStore","clientCnt","fetchClients","fetchClient","find","createClient","newClientData","newClient","nextCnt","need_groups","appointments","updateClient","updatedClient","save","deleteClient","formatLocation","format_location","formatPhoneNumber","number","codes","match","TYPE","NeedGroupPanel","needGroupCategory","handleShow","hasUrgentNeed","anyUrgentNeed","needsUnderCat","innerBox","xs","is_urgent","flexDirection","Alarm","highPriority","description","need_group","changeNeedGroupCategoryStatus","Accordion","panel","AccordionSummary","expandIcon","ExpandMoreOutlined","column","heading","PriorityHigh","secondaryHeading","AccordionDetails","panelDetail","outerBox","flexBasis","ClientNeeds","selectedId","needGroupData","showDeletedDiaglog","needsByNeedGroup","deleteNeedInData","copy","need_cat","TR","scope","align","useProfileTableStyles","title2","ClientInfoTable","rowTitle","rowValue","infoFields","clientFields","infoRows","infoField","join","AppointmentRow","appointment","clientFieldsStore","fetchClientFields","updateClientFields","updatedClientFields","arrival_date","completed_education_level","country_of_last_residence","country_of_origin","current_education_level","ngo_conditions","file_id","first_language","has_children","immigration_doc_number","income_source","landing_date","marital_status","num_of_children","num_of_dependants","other_languages","pr_number","status_in_canada","fetchEligibilities","deleteEligibility","FamilyMemberFields","member","handleRemoveFamily","handleChangeMember","person","relationship","FamilyFields","members","top","formControlRow","labelRow","RadioField","noStar","parentValue","tryCastBool","RadioGroup","FormControlLabel","control","Radio","labelPlacement","CheckboxField","optionsArray","values","FormGroup","Dropdown","Autocomplete","multiple","getOptionLabel","FieldGroup","client_verify_form","steps","format_messages","verifyFormFormat","required_field_msg","step_page_fields","verifyRequiredField","ClientForm","useParams","all_ngo_conditions","dispatchErrorMsg","fieldErrorMsg","fields","generateClientField","promises","steps_order","form_structure","all","res","splits","split","parent","isProfile","updateUser","fetchUser","deleteUser","userFormFields","Yes","No","UserForm","errors","validate","isEmpty","msg","handleSubmit","NeedForm","need_id","needsById","needed_by","formValChange","bind","handleMultiSelectChange","nextForm","selectedOption","actionMeta","preValue","removedValue","newMultiSelectFieldValue","needInfo","createClientNeed","p","formTitle","Row","Col","sm","Form","horizontal","controlId","componentClass","Check","defaultChecked","inline","needsCategories","languagesCategories","multiline","smOffset","connect","categoriesLoaded","withRouter","AppointmentModal","serviceId","Modal","bsSize","Header","closeButton","Title","service_id","Body","reminder_type","reminder_frequency","Footer","MatchedServices","activeKey","matchStatusForm","noteForm","modalShow","appointmentServiceId","handleSelect","matchStatusChange","textAreaChange","submitMatchStatus","submitNote","handleModalHide","handleModalShow","matchId","updateMatchStatus","object_id","model","modalshow","matches","Card","eventKey","bsStyle","toggle","Label","Collapse","collapsible","placeholder","note","ServiceListItem","matchClientNeed","ListGroupItem","round","distance","GMap","withGoogleMap","latlng","parseFloat","ServiceList","containerElement","mapElement","ServiceSearchBar","queryTerm","handleFormValChange","InputGroup","enableQueryTerm","Addon","search","Need","searchResult","recommendedServices","recommended_services","handleSearchService","handleSearchRecommendedServices","Headers","DeletedLabel","is_deleted","UrgentLabel","striped","bordered","condensed","defaultActiveKey","rest","isAdmin","providersStore","providerCnt","fetchProvider","createProvider","newProviderData","newProvider","reviews","providerId","updateProvider","updatedProvider","deleteProvider","formatProviderName","AddServicePrompt","provider_verify_form","verifyContactEmptiness","verifyRequiredFieldByFormType","contactType","providerFieldsStore","fetchProviderFields","reformat","providerType","formStructure","stepName","updateProviderFields","updatedProviderFields","alignSelf","select","arrow","OperationHoursFieldGroup","operationHours","operationDates","handleOperationHourOnClick","weekDay","pop","slotIndex","startDate","endDate","end_date","timeSlots","addressPaper","ProviderForm","eligibilities","providerCategory","operation_dates","responses","generateProviderFields","load","errorMessage","cat","newForm","contactField","fieldProps","ProviderInfoTable","fieldId","question_id","ProviderRatingForm","handleStarSelection","handleCommentChange","handleTextRating","rating","comment","nextValue","rateProvider","starCount","onStarClick","indexLoaded","formatProvider","formatEligibilityConditions","condType","condValue","Service","servicesById","print","Print","eligibility","available_from","available_to","max_capacity","current_capacity","frequency","billable","price","method_of_delivery","method_of_registration","registration","omit","eligibility_conditions","lower_age_limit","upper_age_limit","is_public","share_with","serviceLoaded","compareOps","IN","defaultConfig","operators","eligibilityConditionHideItems","eligibilityConditionConfigs","age","multipleSelect","CustomEligibilityField","rightOperand","list","leftOperand","changes","config","ops","EligibilityCondition","originalValue","setFields","fieldsObj","dynamic_fields","functions","m","handleFieldChange","clause","handleAddField","handleRemoveField","conditionIdx","fieldIdx","handleRemoveCondition","conditionComponents","field_components","float","ServiceForm","eligibility_criteria","conditionClauses","conditionClause","transformToBackendType","validateForm","createService","formIsValid","location_same_as_provider","provider_locations","isNaN","locations","location2Obj","loc","showAlert","error_messages","divider","reduce","errorText","servicesCategories","min","Online","Group","immigration_status","languagesLoaded","providersLoaded","providerIndex","withStyles","viewColumns","searchable","customBodyRender","rowData","Good","goodsById","transportation","material","quantity","diameter","goodLoaded","GoodForm","goodId","is_provider_location","locationChange","indicatorChange","titleizedField","createGood","action_time","toLocaleString","object_repr","change_message","START_YEARS","Report","total_clients","number_of_clients_by_gender","number_of_clients_by_birth_year","number_of_clients_by_marital_status","number_of_clients_by_language","number_of_providers_by_status","number_of_providers_by_type","number_of_individual_providers_by_category","selectedCategory","selectedAttribute","handleSelectChange","barChartDataBirthYear","labels","start_year","datasets","barChartOptions","scales","yAxes","ticks","beginAtZero","barChartDataLanguage","pieChartDataGender","pieChartDataProviderStatus","pieChartDataIndividualProviderCategory","pieChartDataProviderType","barChartDataMaritalStatus","pieChartOptions","maintainAspectRatio","responsive","legend","boxWidth","GenderStats","totalClientsCount","ClientsCountByGender","LanguageStats","ClientsCountByLanguage","MaritalStatusStats","ClientsCountByMaritalStatus","BirthYearStats","ClientsCountByBirthYear","ProviderStatusStats","ProvidersCountByStatus","ProviderTypeStats","ProvidersCountByType","IndividualProviderCategoryStats","IndividualProvidersCountByCategory","startYear","ADD_TITLE","AddEditDialog","handleConfirm","setErr","autoFocus","newErr","check","fetchQuestions","deleteQuestion","droppable","submitButton","radioButtonOptions","StepFields","stepFields","handleRadioChange","handleDeleteField","draggableId","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","isDragging","EDIT_TITLE","contentTypeOptions","content_type","routes","exact","path","CF","CN","paddingY","setLoading","setUser","secondary_phone_number","setData","fetchAdminLogs","formSetting","reviewValue","review","first","second","RateReview","mb","borderColor","Rating","Reporting","dialogTitle","showAddEditDialog","shoeEditDialog","newItem","handleEdit","showEditDialog","stepToAdd","selectedStep","selectedField","questions","stepsOrder","stepsList","submitFunction","newFormStructure","initialOptions","fieldOptions","availableOptions","curr_field","handleRemoveStep","newStepComponent","newFieldComponent","fieldsComponents","droppableId","droppableProps","onDragEnd","source","destination","targetStepName","sourceStepName","sourceSteps","targetSteps","removed","startIndex","endIndex","reorder","createTheme","blue","pink","App","StyledEngineProvider","injectFirst","ThemeProvider","TopNavbar","preloadedState","createStore","applyMiddleware","thunkMiddleware","persistor","persistStore","configureStore","ReactDOM"],"mappings":"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","file":"static/js/main.a3116269.chunk.js","sourcesContent":["const hostname = window && window.location && window.location.hostname;\n\nlet serverHost;\nif (hostname === 'jias.snmi.ca') {\n  // serverHost = 'https://3.97.37.175:8000';\n  // Obsolete\n  serverHost = 'https://jias-server.snmi.ca';\n}\nelse {\n  serverHost = 'http://127.0.0.1:8000';\n  // serverHost = 'https://3.97.37.175:8000';\n  // serverHost = 'https://jias-server.snmi.ca';\n}\n\n\nconst ACTION_SUCCESS = 'ACTION_SUCCESS';\nconst ACTION_ERROR = 'ACTION_ERROR';\n\nconst torontoCoordinates = { lat: 43.6497, lng: -79.3763 };\n\nconst countryOptions = ['Afghanistan', 'Åland Islands', 'Albania', 'Algeria', 'American Samoa', 'Andorra',\n  'Angola', 'Anguilla', 'Antarctica', 'Antigua & Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Ascension Island',\n  'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium',\n  'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia & Herzegovina', 'Botswana', 'Brazil',\n  'British Indian Ocean Territory', 'British Virgin Islands', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi',\n  'Cambodia', 'Cameroon', 'Canada', 'Canary Islands', 'Cape Verde', 'Caribbean Netherlands', 'Cayman Islands',\n  'Central African Republic', 'Ceuta & Melilla', 'Chad', 'Chile', 'China', 'Christmas Island', 'Cocos (Keeling) Islands',\n  'Colombia', 'Comoros', 'Congo - Brazzaville', 'Congo - Kinshasa', 'Cook Islands', 'Costa Rica', 'Côte d’Ivoire',\n  'Croatia', 'Cuba', 'Curaçao', 'Cyprus', 'Czechia', 'Denmark', 'Diego Garcia', 'Djibouti', 'Dominica',\n  'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini',\n  'Ethiopia', 'Falkland Islands', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Guiana', 'French Polynesia',\n  'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland',\n  'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras',\n  'Hong Kong SAR China', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Isle of Man', 'Israel',\n  'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Kosovo', 'Kuwait', 'Kyrgyzstan',\n  'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg',\n  'Macao SAR China', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique',\n  'Mauritania', 'Mauritius', 'Mayotte', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro',\n  'Montserrat', 'Morocco', 'Mozambique', 'Myanmar (Burma)', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia',\n  'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island', 'North Korea', 'North Macedonia',\n  'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestinian Territories', 'Panama',\n  'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Pitcairn Islands', 'Poland', 'Portugal', 'Pseudo-Accents',\n  'Pseudo-Bidi', 'Puerto Rico', 'Qatar', 'Réunion', 'Romania', 'Russia', 'Rwanda', 'Samoa', 'San Marino',\n  'São Tomé & Príncipe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten',\n  'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Georgia & South Sandwich Islands',\n  'South Korea', 'South Sudan', 'Spain', 'Sri Lanka', 'St. Barthélemy', 'St. Helena', 'St. Kitts & Nevis', 'St. Lucia',\n  'St. Martin', 'St. Pierre & Miquelon', 'St. Vincent & Grenadines', 'Sudan', 'Suriname', 'Svalbard & Jan Mayen', 'Sweden',\n  'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor-Leste', 'Togo', 'Tokelau', 'Tonga',\n  'Trinidad & Tobago', 'Tristan da Cunha', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks & Caicos Islands', 'Tuvalu',\n  'U.S. Outlying Islands', 'U.S. Virgin Islands', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom',\n  'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Wallis & Futuna',\n  'Western Sahara', 'Yemen', 'Zambia', 'Zimbabwe']\n\nconst languageOptions = ['Abkhazian (ab)', 'Achinese (ace)', 'Acoli (ach)', 'Adangme (ada)', 'Adyghe (ady)',\n  'Afar (aa)', 'Afrihili (afh)', 'Afrikaans (af)', 'Aghem (agq)', 'Ainu (ain)', 'Akan (ak)', 'Akkadian (akk)',\n  'Akoose (bss)', 'Alabama (akz)', 'Albanian (sq)', 'Aleut (ale)', 'Algerian Arabic (arq)', 'American English (en_US)',\n  'American Sign Language (ase)', 'Amharic (am)', 'Ancient Egyptian (egy)', 'Ancient Greek (grc)', 'Angika (anp)',\n  'Ao Naga (njo)', 'Arabic (ar)', 'Aragonese (an)', 'Aramaic (arc)', 'Araona (aro)', 'Arapaho (arp)', 'Arawak (arw)',\n  'Armenian (hy)', 'Aromanian (rup)', 'Arpitan (frp)', 'Assamese (as)', 'Asturian (ast)', 'Asu (asa)', 'Atsam (cch)',\n  'Australian English (en_AU)', 'Austrian German (de_AT)', 'Avaric (av)', 'Avestan (ae)', 'Awadhi (awa)', 'Aymara (ay)',\n  'Azerbaijani (az)', 'Badaga (bfq)', 'Bafia (ksf)', 'Bafut (bfd)', 'Bakhtiari (bqi)', 'Balinese (ban)', 'Baluchi (bal)',\n  'Bambara (bm)', 'Bamun (bax)', 'Banjar (bjn)', 'Basaa (bas)', 'Bashkir (ba)', 'Basque (eu)', 'Batak Toba (bbc)',\n  'Bavarian (bar)', 'Beja (bej)', 'Belarusian (be)', 'Bemba (bem)', 'Bena (bez)', 'Bengali (bn)', 'Betawi (bew)',\n  'Bhojpuri (bho)', 'Bikol (bik)', 'Bini (bin)', 'Bishnupriya (bpy)', 'Bislama (bi)', 'Blin (byn)', 'Blissymbols (zbl)',\n  'Bodo (brx)', 'Bosnian (bs)', 'Brahui (brh)', 'Braj (bra)', 'Brazilian Portuguese (pt_BR)', 'Breton (br)', \n  'British English (en_GB)', 'Buginese (bug)', 'Bulgarian (bg)', 'Bulu (bum)', 'Buriat (bua)', 'Burmese (my)',\n  'Caddo (cad)', 'Cajun French (frc)', 'Canadian English (en_CA)', 'Canadian French (fr_CA)', 'Cantonese (yue)',\n  'Capiznon (cps)', 'Carib (car)', 'Catalan (ca)', 'Cayuga (cay)', 'Cebuano (ceb)', 'Central Atlas Tamazight (tzm)',\n  'Central Dusun (dtp)', 'Central Kurdish (ckb)', 'Central Yupik (esu)', 'Chadian Arabic (shu)', 'Chagatai (chg)',\n  'Chamorro (ch)', 'Chechen (ce)', 'Cherokee (chr)', 'Cheyenne (chy)', 'Chibcha (chb)', 'Chiga (cgg)',\n  'Chimborazo Highland Quichua (qug)', 'Chinese (zh)', 'Chinook Jargon (chn)', 'Chipewyan (chp)', 'Choctaw (cho)',\n  'Church Slavic (cu)', 'Chuukese (chk)', 'Chuvash (cv)', 'Classical Newari (nwc)', 'Classical Syriac (syc)',\n  'Colognian (ksh)', 'Comorian (swb)', 'Congo Swahili (swc)', 'Coptic (cop)', 'Cornish (kw)', 'Corsican (co)',\n  'Cree (cr)', 'Creek (mus)', 'Crimean Turkish (crh)', 'Croatian (hr)', 'Czech (cs)', 'Dakota (dak)', 'Danish (da)',\n  'Dargwa (dar)', 'Dazaga (dzg)', 'Delaware (del)', 'Dinka (din)', 'Divehi (dv)', 'Dogri (doi)', 'Dogrib (dgr)',\n  'Duala (dua)', 'Dutch (nl)', 'Dyula (dyu)', 'Dzongkha (dz)', 'Eastern Frisian (frs)', 'Efik (efi)',\n  'Egyptian Arabic (arz)', 'Ekajuk (eka)', 'Elamite (elx)', 'Embu (ebu)', 'Emilian (egl)', 'English (en)',\n  'Erzya (myv)', 'Esperanto (eo)', 'Estonian (et)', 'European Portuguese (pt_PT)', 'European Spanish (es_ES)',\n  'Ewe (ee)', 'Ewondo (ewo)', 'Extremaduran (ext)', 'Fang (fan)', 'Fanti (fat)', 'Faroese (fo)', 'Fiji Hindi (hif)',\n  'Fijian (fj)', 'Filipino (fil)', 'Finnish (fi)', 'Flemish (nl_BE)', 'Fon (fon)', 'Frafra (gur)', 'French (fr)',\n  'Friulian (fur)', 'Fulah (ff)', 'Ga (gaa)', 'Gagauz (gag)', 'Galician (gl)', 'Gan Chinese (gan)', 'Ganda (lg)',\n  'Gayo (gay)', 'Gbaya (gba)', 'Geez (gez)', 'Georgian (ka)', 'German (de)', 'Gheg Albanian (aln)', 'Ghomala (bbj)',\n  'Gilaki (glk)', 'Gilbertese (gil)', 'Goan Konkani (gom)', 'Gondi (gon)', 'Gorontalo (gor)', 'Gothic (got)',\n  'Grebo (grb)', 'Greek (el)', 'Guarani (gn)', 'Gujarati (gu)', 'Gusii (guz)', 'Gwichʼin (gwi)', 'Haida (hai)',\n  'Haitian (ht)', 'Hakka Chinese (hak)', 'Hausa (ha)', 'Hawaiian (haw)', 'Hebrew (he)', 'Herero (hz)',\n  'Hiligaynon (hil)', 'Hindi (hi)', 'Hiri Motu (ho)', 'Hittite (hit)', 'Hmong (hmn)', 'Hungarian (hu)',\n  'Hupa (hup)', 'Iban (iba)', 'Ibibio (ibb)', 'Icelandic (is)', 'Ido (io)', 'Igbo (ig)', 'Iloko (ilo)',\n  'Inari Sami (smn)', 'Indonesian (id)', 'Ingrian (izh)', 'Ingush (inh)', 'Interlingua (ia)', \n  'Interlingue (ie)', 'Inuktitut (iu)', 'Inupiaq (ik)', 'Irish (ga)', 'Italian (it)', 'Jamaican Creole English (jam)',\n  'Japanese (ja)', 'Javanese (jv)', 'Jju (kaj)', 'Jola-Fonyi (dyo)', 'Judeo-Arabic (jrb)', 'Judeo-Persian (jpr)',\n  'Jutish (jut)', 'Kabardian (kbd)', 'Kabuverdianu (kea)', 'Kabyle (kab)', 'Kachin (kac)', 'Kaingang (kgp)', 'Kako (kkj)',\n  'Kalaallisut (kl)', 'Kalenjin (kln)', 'Kalmyk (xal)', 'Kamba (kam)', 'Kanembu (kbl)', 'Kannada (kn)',\n  'Kanuri (kr)', 'Kara-Kalpak (kaa)', 'Karachay-Balkar (krc)', 'Karelian (krl)', 'Kashmiri (ks)', 'Kashubian (csb)',\n  'Kawi (kaw)', 'Kazakh (kk)', 'Kenyang (ken)', 'Khasi (kha)', 'Khmer (km)', 'Khotanese (kho)', 'Khowar (khw)',\n  'Kikuyu (ki)', 'Kimbundu (kmb)', 'Kinaray-a (krj)', 'Kinyarwanda (rw)', 'Kirmanjki (kiu)', 'Klingon (tlh)',\n  'Kom (bkm)', 'Komi (kv)', 'Komi-Permyak (koi)', 'Kongo (kg)', 'Konkani (kok)', 'Korean (ko)', 'Koro (kfo)',\n  'Kosraean (kos)', 'Kotava (avk)', 'Koyra Chiini (khq)', 'Koyraboro Senni (ses)', 'Kpelle (kpe)', 'Krio (kri)',\n  'Kuanyama (kj)', 'Kumyk (kum)', 'Kurdish (ku)', 'Kurukh (kru)', 'Kutenai (kut)', 'Kwasio (nmg)', 'Kyrgyz (ky)',\n  'Kʼicheʼ (quc)', 'Ladino (lad)', 'Lahnda (lah)', 'Lakota (lkt)', 'Lamba (lam)', 'Langi (lag)', 'Lao (lo)',\n  'Latgalian (ltg)', 'Latin (la)', 'Latin American Spanish (es_419)', 'Latvian (lv)', 'Laz (lzz)', 'Lezghian (lez)',\n  'Ligurian (lij)', 'Limburgish (li)', 'Lingala (ln)', 'Lingua Franca Nova (lfn)', 'Literary Chinese (lzh)',\n  'Lithuanian (lt)', 'Livonian (liv)', 'Lojban (jbo)', 'Lombard (lmo)', 'Low German (nds)', 'Lower Silesian (sli)',\n  'Lower Sorbian (dsb)', 'Lozi (loz)', 'Luba-Katanga (lu)', 'Luba-Lulua (lua)', 'Luiseno (lui)', 'Lule Sami (smj)',\n  'Lunda (lun)', 'Luo (luo)', 'Luxembourgish (lb)', 'Luyia (luy)', 'Maba (mde)', 'Macedonian (mk)', 'Machame (jmc)',\n  'Madurese (mad)', 'Mafa (maf)', 'Magahi (mag)', 'Main-Franconian (vmf)', 'Maithili (mai)', 'Makasar (mak)',\n  'Makhuwa-Meetto (mgh)', 'Makonde (kde)', 'Malagasy (mg)', 'Malay (ms)', 'Malayalam (ml)', 'Maltese (mt)', 'Manchu (mnc)',\n  'Mandar (mdr)', 'Mandingo (man)', 'Manipuri (mni)', 'Manx (gv)', 'Maori (mi)', 'Mapuche (arn)', 'Marathi (mr)',\n  'Mari (chm)', 'Marshallese (mh)', 'Marwari (mwr)', 'Masai (mas)', 'Mazanderani (mzn)', 'Medumba (byv)', 'Mende (men)',\n  'Mentawai (mwv)', 'Meru (mer)', 'Metaʼ (mgo)', 'Mexican Spanish (es_MX)', 'Micmac (mic)', 'Middle Dutch (dum)',\n  'Middle English (enm)', 'Middle French (frm)', 'Middle High German (gmh)', 'Middle Irish (mga)', 'Min Nan Chinese (nan)',\n  'Minangkabau (min)', 'Mingrelian (xmf)', 'Mirandese (mwl)', 'Mizo (lus)', 'Modern Standard Arabic (ar_001)',\n  'Mohawk (moh)', 'Moksha (mdf)', 'Moldavian (ro_MD)', 'Mongo (lol)', 'Mongolian (mn)', 'Morisyen (mfe)',\n  'Moroccan Arabic (ary)', 'Mossi (mos)', 'Multiple Languages (mul)', 'Mundang (mua)', 'Muslim Tat (ttt)', 'Myene (mye)',\n  'Nama (naq)', 'Nauru (na)', 'Navajo (nv)', 'Ndonga (ng)', 'Neapolitan (nap)', 'Nepali (ne)', 'Newari (new)',\n  'Ngambay (sba)', 'Ngiemboon (nnh)', 'Ngomba (jgo)', 'Nheengatu (yrl)', 'Nias (nia)', 'Niuean (niu)',\n  'No linguistic content (zxx)', 'Nogai (nog)', 'North Ndebele (nd)', 'Northern Frisian (frr)', 'Northern Sami (se)',\n  'Northern Sotho (nso)', 'Norwegian (no)', 'Norwegian Bokmål (nb)', 'Norwegian Nynorsk (nn)', 'Novial (nov)',\n  'Nuer (nus)', 'Nyamwezi (nym)', 'Nyanja (ny)', 'Nyankole (nyn)', 'Nyasa Tonga (tog)', 'Nyoro (nyo)', 'Nzima (nzi)',\n  'NʼKo (nqo)', 'Occitan (oc)', 'Ojibwa (oj)', 'Old English (ang)', 'Old French (fro)', 'Old High German (goh)',\n  'Old Irish (sga)', 'Old Norse (non)', 'Old Persian (peo)', 'Old Provençal (pro)', 'Oriya (or)', 'Oromo (om)',\n  'Osage (osa)', 'Ossetic (os)', 'Ottoman Turkish (ota)', 'Pahlavi (pal)', 'Palatine German (pfl)', 'Palauan (pau)',\n  'Pali (pi)', 'Pampanga (pam)', 'Pangasinan (pag)', 'Papiamento (pap)', 'Pashto (ps)', 'Pennsylvania German (pdc)',\n  'Persian (fa)', 'Phoenician (phn)', 'Picard (pcd)', 'Piedmontese (pms)', 'Plautdietsch (pdt)', 'Pohnpeian (pon)',\n  'Polish (pl)', 'Pontic (pnt)', 'Portuguese (pt)', 'Prussian (prg)', 'Punjabi (pa)', 'Quechua (qu)', 'Rajasthani (raj)',\n  'Rapanui (rap)', 'Rarotongan (rar)', 'Riffian (rif)', 'Romagnol (rgn)', 'Romanian (ro)', 'Romansh (rm)', 'Romany (rom)',\n  'Rombo (rof)', 'Root (root)', 'Rotuman (rtm)', 'Roviana (rug)', 'Rundi (rn)', 'Russian (ru)', 'Rusyn (rue)', 'Rwa (rwk)',\n  'Saho (ssy)', 'Sakha (sah)', 'Samaritan Aramaic (sam)', 'Samburu (saq)', 'Samoan (sm)', 'Samogitian (sgs)',\n  'Sandawe (sad)', 'Sango (sg)', 'Sangu (sbp)', 'Sanskrit (sa)', 'Santali (sat)', 'Sardinian (sc)', 'Sasak (sas)',\n  'Sassarese Sardinian (sdc)', 'Saterland Frisian (stq)', 'Saurashtra (saz)', 'Scots (sco)', 'Scottish Gaelic (gd)',\n  'Selayar (sly)', 'Selkup (sel)', 'Sena (seh)', 'Seneca (see)', 'Serbian (sr)', 'Serbo-Croatian (sh)', 'Serer (srr)',\n  'Seri (sei)', 'Shambala (ksb)', 'Shan (shn)', 'Shona (sn)', 'Sichuan Yi (ii)', 'Sicilian (scn)', 'Sidamo (sid)',\n  'Siksika (bla)', 'Silesian (szl)', 'Simplified Chinese (zh_Hans)', 'Sindhi (sd)', 'Sinhala (si)', 'Skolt Sami (sms)',\n  'Slave (den)', 'Slovak (sk)', 'Slovenian (sl)', 'Soga (xog)', 'Sogdien (sog)', 'Somali (so)', 'Soninke (snk)',\n  'South Azerbaijani (azb)', 'South Ndebele (nr)', 'Southern Altai (alt)', 'Southern Sami (sma)', 'Southern Sotho (st)',\n  'Spanish (es)', 'Sranan Tongo (srn)', 'Standard Moroccan Tamazight (zgh)', 'Sukuma (suk)', 'Sumerian (sux)',\n  'Sundanese (su)', 'Susu (sus)', 'Swahili (sw)', 'Swati (ss)', 'Swedish (sv)', 'Swiss French (fr_CH)', 'Swiss German (gsw)',\n  'Swiss High German (de_CH)', 'Syriac (syr)', 'Tachelhit (shi)', 'Tagalog (tl)', 'Tahitian (ty)', 'Taita (dav)',\n  'Tajik (tg)', 'Talysh (tly)', 'Tamashek (tmh)', 'Tamil (ta)', 'Taroko (trv)', 'Tasawaq (twq)', 'Tatar (tt)', \n  'Telugu (te)', 'Tereno (ter)', 'Teso (teo)', 'Tetum (tet)', 'Thai (th)', 'Tibetan (bo)', 'Tigre (tig)', 'Tigrinya (ti)',\n  'Timne (tem)', 'Tiv (tiv)', 'Tlingit (tli)', 'Tok Pisin (tpi)', 'Tokelau (tkl)', 'Tongan (to)', 'Tornedalen Finnish (fit)',\n  'Traditional Chinese (zh_Hant)', 'Tsakhur (tkr)', 'Tsakonian (tsd)', 'Tsimshian (tsi)', 'Tsonga (ts)', 'Tswana (tn)',\n  'Tulu (tcy)', 'Tumbuka (tum)', 'Tunisian Arabic (aeb)', 'Turkish (tr)', 'Turkmen (tk)', 'Turoyo (tru)', 'Tuvalu (tvl)',\n  'Tuvinian (tyv)', 'Twi (tw)', 'Tyap (kcg)', 'Udmurt (udm)', 'Ugaritic (uga)', 'Ukrainian (uk)', 'Umbundu (umb)',\n  'Unknown Language (und)', 'Upper Sorbian (hsb)', 'Urdu (ur)', 'Uyghur (ug)', 'Uzbek (uz)', 'Vai (vai)', 'Venda (ve)',\n  'Venetian (vec)', 'Veps (vep)', 'Vietnamese (vi)', 'Volapük (vo)', 'Võro (vro)', 'Votic (vot)', 'Vunjo (vun)',\n  'Walloon (wa)', 'Walser (wae)', 'Waray (war)', 'Warlpiri (wbp)', 'Washo (was)', 'Wayuu (guc)', 'Welsh (cy)',\n  'West Flemish (vls)', 'Western Frisian (fy)', 'Western Mari (mrj)', 'Wolaytta (wal)', 'Wolof (wo)', 'Wu Chinese (wuu)',\n  'Xhosa (xh)', 'Xiang Chinese (hsn)', 'Yangben (yav)', 'Yao (yao)', 'Yapese (yap)', 'Yemba (ybb)', 'Yiddish (yi)',\n  'Yoruba (yo)', 'Zapotec (zap)', 'Zarma (dje)', 'Zaza (zza)', 'Zeelandic (zea)', 'Zenaga (zen)', 'Zhuang (za)', \n  'Zoroastrian Dari (gbz)', 'Zulu (zu)', 'Zuni (zun)']\n\nconst genderOptions = [\n  'Female',\n  'Male',\n  'Other'\n]\n\nconst maritalStatusOptions = [\n  'Common Law',\n  'Divorced',\n  'Married',\n  'Other',\n  'Separated',\n  'Single',\n  'Widowed'\n]\n\nconst statusInCanadaOptions = [\n  'Application in Process - Family',\n  'Application in Process - Humanitarian and Compassionate',\n  'Application in Process - Independent',\n  'Application in Process - Refugee',\n  'Canadian Citizen',\n  'Immigrant',\n  'Other',\n  'Permanent Resident - Business Class',\n  'Permanent Resident - Canadian Experience Class',\n  'Permanent Resident - Family Class',\n  'Permanent Resident -  Humanitarian and Compassionate',\n  'Permanent Resident - Live-in Caregiver',\n  'Permanent Resident - Provincial Nominee',\n  'Permanent Resident - Refugees',\n  'Permanent Resident - Skilled Worker and Skilled Trades',\n  'Temporary Resident',\n  'Visitors Visa',\n  'Work Permit'\n]\n\nconst educationLevelOptions = [\n  'College',\n  'Elementary',\n  'Post Graduate',\n  'Secondary',\n  'University'\n]\n\nconst incomeSourceOptions = [\n 'Crowd Ward',\n 'Dependent of OW/ODSP',\n 'Employment',\n 'Employment Insurance',\n 'Family Members Income',\n 'None',\n 'Ontario Disability Support Program',\n 'Ontario Works',\n 'Other',\n 'Pension',\n 'Unknown',\n 'Workers Safety and Insurance'\n]\n\nconst matchStatusOptions = [\n  'Contacted',\n  'Matched',\n  'Referred',\n  'Selected'\n]\n\nconst familyRelationshipOptions = [\n  'Child',\n  'Parent',\n  'Sibling',\n  'Spouse'\n]\n\nconst needStatusOptions = [\n  'Fulfilled',\n  'In Progress',\n  'Matched',\n  'Pending',\n  'Unmatched'\n]\n\nconst serviceTypeOptions = [\n  'External',\n  'Internal',\n  'Professional/Community',\n  'Volunteer based'\n]\n\nconst serviceSharedWithOptions = [\n  \"Children's Aid Society of Toronto\",\n  \"Durham Children's Aid Society\",\n  \"Eva's Initiatives\",\n  'Abrigo Centre',\n  'Adventist community services',\n  'AIDS Committee of Durham Region',\n  'Albion Neighbourhood Services',\n  'Alexandra Park Community Centre',\n  'Applegrove Community Complex',\n  'Arab Community Centre of Toronto',\n  'Aurora Food Pantry',\n  'Barbra Schlifer Commemorative Clinic',\n  'Bluffs Food Bank',\n  'Boost Child & Youth Advocacy Centre',\n  'Brock Community Food Bank',\n  'Central Toronto Youth Services',\n  'Covenant House Toronto',\n  'Durham Rape Crisis Centre',\n  'Durham Youth Housing and Support Services',\n  'Horizons for Youth',\n  'Kababayan Multicultural Centre',\n  'Markham Food Bank',\n  'Parkdale Community Food Bank',\n  'Pediatric Oncology Group of Ontario',\n  'Private',\n  'Public'\n]\n\nconst provinceOptions = [\n  'Alberta',\n  'British Columbia',\n  'Manitoba',\n  'New Brunswick',\n  'Newfoundland and Labrador',\n  'Nova Scotia',\n  'Ontario',\n  'Prince Edward Island',\n  'Quebec',\n  'Saskatchewan'\n]\n\nmodule.exports = Object.freeze({\n  serverHost: serverHost,\n  torontoCoordinates: torontoCoordinates,\n  countryOptions: countryOptions,\n  languageOptions: languageOptions,\n  genderOptions: genderOptions,\n  maritalStatusOptions: maritalStatusOptions,\n  statusInCanadaOptions: statusInCanadaOptions,\n  educationLevelOptions: educationLevelOptions,\n  incomeSourceOptions: incomeSourceOptions,\n  matchStatusOptions: matchStatusOptions,\n  familyRelationshipOptions: familyRelationshipOptions,\n  needStatusOptions: needStatusOptions,\n  serviceTypeOptions: serviceTypeOptions,\n  serviceSharedWithOptions: serviceSharedWithOptions,\n  provinceOptions: provinceOptions,\n  ACTION_SUCCESS: ACTION_SUCCESS,\n  ACTION_ERROR: ACTION_ERROR\n});\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const RECEIVE_CLIENT_NEEDS = 'RECEIVE_CLIENT_NEEDS';\nexport const RECEIVE_CLIENT_NEED = 'RECEIVE_CLIENT_NEED';\nexport const REMOVE_CLIENT_NEED = 'REMOVE_CLIENT_NEED';\nexport const REQUEST_NEED = 'REQUEST_NEED';\nexport const REQUEST_NEEDS = 'REQUEST_NEEDS';\nexport const RECEIVE_NEEDS = 'RECEIVE_NEEDS';\nexport const RECEIVE_CLIENT_NEED_GROUP = 'RECEIVE_CLIENT_NEED_GROUP';\nexport const RECEIVE_CLIENT_NEED_INFO = ' RECEIVE_CLIENT_NEED_INFO';\nexport const ERROR = 'ERROR';\n\nfunction requestNeeds(json) {\n  return {\n    type: REQUEST_NEEDS,\n    needs: json\n  }\n}\n\nfunction receiveNeeds(json) {\n  return {\n    type: RECEIVE_NEEDS,\n    needs: json\n  }\n}\n\nexport function receiveClientNeeds(clientId, json, needGroups) {\n  return {\n    type: RECEIVE_CLIENT_NEEDS,\n    clientId: clientId,\n    needs: json,\n    needGroups: needGroups\n  }\n}\n\nfunction receiveClientNeed(clientId, need, needGroup) {\n  return {\n    type: RECEIVE_CLIENT_NEED,\n    clientId: clientId,\n    need: need,\n    needGroup: needGroup\n  }\n}\n\nfunction receiveClientNeedInfo(clientId, needId, need) {\n  return {\n    type: RECEIVE_CLIENT_NEED_INFO,\n    clientId: clientId,\n    needId: needId,\n    need: need\n  }\n}\n\nfunction removeClientNeed(clientId, needId) {\n  return {\n    type: REMOVE_CLIENT_NEED,\n    clientId: clientId,\n    needId: needId\n  }\n}\n\nfunction receiveClientNeedGroup(clientId, needGroup) {\n  return {\n    type: RECEIVE_CLIENT_NEED_GROUP,\n    clientId: clientId,\n    needGroup: needGroup\n  }\n}\n\nfunction requestNeed(id) {\n  return {\n    type: REQUEST_NEED,\n    needId: id\n  }\n}\n\nexport function createClientNeed(clientId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(needInfo =>\n      dispatch(receiveClientNeed(clientId, needInfo.need, needInfo.need_group))\n    );\n  }\n}\n\nexport function updateClientNeed(clientId, needId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/' + needId + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(needInfo => dispatch(receiveClientNeed(clientId, needInfo.need, needInfo.need_group)));\n  }\n}\n\nexport function updateClientNeedGroup(clientId, needGroupId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/need_groups/' + needGroupId + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(needGroup => dispatch(receiveClientNeedGroup(clientId, needGroup)));\n  }\n}\n\nexport function matchClientNeed(needId, params) {\n  return dispatch => {\n    const url = serverHost + '/needs/' + needId + '/matches/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(need => {\n        dispatch(receiveClientNeedInfo(need.client_id, needId, need))\n      });\n  }\n}\n\nexport function deleteClientNeed(clientId, needId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/' + needId + '/';\n    return fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeClientNeed(clientId, needId))\n      }\n    });\n  }\n}\n\nexport function fetchNeed(needId, callback) {\n  return dispatch => {\n    dispatch(requestNeed(needId))\n    const url = serverHost + '/needs/' + needId;\n\n    return fetch(url, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => {\n      dispatch(receiveClientNeedInfo(need.client_id, need.id, need))\n      callback(need)\n    });\n  }\n}\n\nexport function fetchNeeds() {\n  return dispatch => {\n    dispatch(requestNeeds())\n    const url = serverHost + '/needs/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveNeeds(json))\n      })\n  }\n}\n\nexport function updateMatchStatus(matchId, params) {\n  return dispatch => {\n    const url = serverHost + '/matches/' + matchId + '/';\n\n    return fetch(url, {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => dispatch(receiveClientNeedInfo(need.client_id, need.id, need)));\n  }\n}\n\nexport function createMatchNote(params) {\n  return dispatch => {\n    const url = serverHost + '/notes/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => dispatch(receiveClientNeedInfo(need.client_id, need.id, need)));\n  }\n}\n","import { serverHost } from '../defaults.js';\nimport jwt_decode from 'jwt-decode';\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGGED_OUT = 'LOGGED_OUT';\nexport const UPDATE_ORGANIZATION = 'UPDATE_ORGANIZATION';\n\nfunction login_success(user, organization) {\n  console.log(\"File: authActions.js - Function: login_success - Parameters: user, organization. - Values: \", user, organization);\n  return {\n    type: LOGIN_SUCCESS,\n    user: user,\n    organization: organization\n  }\n}\n\nfunction login_failure(alert) {\n  console.log(\"File: authActions.js -  Function: login_failure - Parameters: alert - Values:  \", alert);\n  return {\n    type: LOGIN_FAILURE,\n    alert\n  }\n}\n\nfunction logged_out(sessionExpired) {\n  console.log(\"File: authActions.js -  Function: logged_out - Parameters: sessionExpired - Values: \", sessionExpired);\n  return {\n    type: LOGGED_OUT,\n    alert: sessionExpired && 'Your session has expired. Please login again.'\n  }\n}\n\nexport function updateAuthOrganization(provider) {\n  console.log(\"File: authActions.js -  Function: updateAuthOrganization - Parameters: provider - Values:\", provider);\n  return {\n    type: UPDATE_ORGANIZATION,\n    provider: provider\n  }\n}\n\nexport function login(params) {\n  console.log(\"File: authActions.js -  Function: login -  Parameters: params - Values:  \", params);\n  return dispatch => {\n    const url = serverHost + '/api-token-auth/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json()\n      }\n      else {\n        const error = await response.json();\n        throw new Error(JSON.stringify(error['non_field_errors']))\n      }\n    })\n    .then(json => {\n      console.log(\"File: authActions.js -  Function: login - Step 2  json:  \", json);\n      const decoded_token = jwt_decode(json.token);\n      let user = (({ user_id, username, email }) => ({ user_id, username, email }))(decoded_token);\n      user['expired_at'] = decoded_token['exp'] * 1000;\n      user['is_admin'] = json.is_admin;\n      const organization = {\n        id: json.provider_id,\n        name: json.organization_name\n      };\n      localStorage.setItem('jwt_token', json.token);\n      dispatch(login_success(user, organization));\n      return {status: LOGIN_SUCCESS}\n    }).catch(err => {\n      let alert;\n      if (err.message === \"Failed to fetch\") {\n        alert = 'Server is unavailable due to a temporary outage.'\n      }\n      else {\n        alert = 'The username or password you entered is incorrect. Please try again.'\n      }\n      dispatch(login_failure(alert));\n      return {status: LOGIN_FAILURE, message: alert};\n    })\n  }\n}\n\nexport function logout(sessionExpired) {\n  return dispatch => {\n    dispatch(logged_out(sessionExpired))\n    localStorage.removeItem('jwt_token');\n  }\n}\n","import { LOGIN_SUCCESS, LOGGED_OUT, UPDATE_ORGANIZATION, LOGIN_FAILURE} from '../actions/authAction.js';\n\nconst DEFAULT_STATE = {\n  currentUser: null,\n  isLoggedin: false,\n  organization: { id: null, name: null },\n  alert: null\n}\n\nexport function auth(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      console.log(\"File: authReducer.js, Function: auth, case LOGIN_SUCCESS, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        currentUser: action.user,\n        isLoggedin: true,\n        organization: action.organization,\n        alert: null\n      })\n    case LOGIN_FAILURE:\n      console.log(\"File: authReducer.js, Function: auth, case LOGIN_FAILURE, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        alert: action.alert\n      })\n    case LOGGED_OUT:\n      console.log(\"File: authReducer.js, Function: auth, case LOGGED_OUT, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        currentUser: null,\n        isLoggedin: false,\n        organization: { id: null, name: null },\n        alert: action.alert\n      })\n    case UPDATE_ORGANIZATION:\n      console.log(\"File: authReducer.js, Function: auth, case UPDATE_ORGANIZATION, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        organization: {\n          id: action.provider.id,\n          name: action.provider.company\n        }\n      })\n    default:\n      return state\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const RECEIVE_CATEGORIES = 'RECEIVE_CATEGORIES'\n\n\nexport function receiveCategories(type, categories) {\n  return {\n    type: RECEIVE_CATEGORIES,\n    category_type: type,\n    categories: categories\n  }\n}\n\nexport function fetchOntologyCategories(type) {\n  return dispatch => {\n    const url = serverHost + '/categories/' + type + '/';\n    return fetch(url, { method: \"GET\" })\n      .then(response => response.json())\n      .then(json => {\n        dispatch(receiveCategories(type, json['categories']));\n        return json.categories;\n      });\n  }\n}\n","import { RECEIVE_CATEGORIES } from '../actions/ontologyActions.js';\n\nconst DEFAULT_CATEGORY_STATE = { categories: [], loaded: false }\n\nexport function ontology(state = { needs: DEFAULT_CATEGORY_STATE,\n                                   services: DEFAULT_CATEGORY_STATE,\n                                   languages: DEFAULT_CATEGORY_STATE },\n                         action) {\n  switch (action.type) {\n    case RECEIVE_CATEGORIES:\n      return {...state, [action.category_type]: { categories: action.categories.sort(), loaded: true } }\n    default:\n      return state\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\nimport { receiveClientNeeds } from './needActions'\n\nexport const REQUEST_CLIENT = 'REQUEST_CLIENT';\nexport const RECEIVE_CLIENT = 'RECEIVE_CLIENT';\nexport const REQUEST_CLIENTS = 'REQUEST_CLIENTS';\nexport const REMOVE_CLIENT = 'REMOVE_CLIENT';\nexport const RECEIVE_CLIENTS = 'RECEIVE_CLIENTS';\nexport const SEARCH_CLIENTS = 'SEARCH_CLIENTS';\n\n\nfunction requestClient(id) {\n  return {\n    type: REQUEST_CLIENT,\n    id: id\n  }\n}\n\nfunction receiveClient(id, json) {\n  return {\n    type: RECEIVE_CLIENT,\n    id: id,\n    client: json\n  }\n}\n\nfunction requestClients(json) {\n  return {\n    type: REQUEST_CLIENTS,\n    clients: json\n  }\n}\n\nfunction receiveClients(json) {\n  return {\n    type: RECEIVE_CLIENTS,\n    clients: json\n  }\n}\n\nfunction removeClient(id) {\n  return {\n    type: REMOVE_CLIENT,\n    id: id\n  }\n}\n\nexport function searchClients(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_CLIENTS,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchClient(id) {\n  return dispatch => {\n    dispatch(requestClient(id))\n    const url = serverHost + '/client/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveClient(id, json));\n        dispatch(receiveClientNeeds(id, json['needs'], json['need_groups']));\n        return json;\n      });\n  }\n}\n\nexport function fetchClients() {\n  return dispatch => {\n    dispatch(requestClients())\n    let url = serverHost + '/clients/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveClients(json));\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n}\n\n\nexport function deleteClient(id, params) {\n  return dispatch => {\n    const url = serverHost + '/client/' + id + '/';\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => {\n      if (response.status === 204) {\n        dispatch(removeClient(id));\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function createClient(params, callback) {\n  console.log(\"createClient params\", params);\n\n  return dispatch => {\n    const url = serverHost + '/clients/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      console.log(\"createClient response.status\", response.status);\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createClients(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/clients.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(clients => {\n      dispatch(receiveClients(clients))\n      return ACTION_SUCCESS;\n    })\n    .catch(err => {\n      // dispatch(createFailure(err))\n      return ACTION_ERROR;\n    })\n  }\n}\n\nexport function updateClient(id, params, callback) {\n  console.log(\"updateClient id, params\", id, params);\n  return dispatch => {\n    const url = serverHost + '/client/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json();\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\nexport const REQUEST_SERVICE = 'REQUEST_SERVICE';\nexport const RECEIVE_SERVICE = 'RECEIVE_SERVICE';\nexport const REQUEST_SERVICES = 'REQUEST_SERVICES';\nexport const REMOVE_SERVICE = 'REMOVE_SERVICE';\nexport const RECEIVE_SERVICES = 'RECEIVE_SERVICES';\nexport const SEARCH_SERVICES = 'SEARCH_SERVICES';\n\n\nfunction requestService(id) {\n  return {\n    type: REQUEST_SERVICE,\n    id: id\n  }\n}\n\nfunction receiveService(id, json) {\n  return {\n    type: RECEIVE_SERVICE,\n    id: id,\n    service: json\n  }\n}\n\nfunction requestServices(json) {\n  return {\n    type: REQUEST_SERVICES,\n    services: json\n  }\n}\n\nfunction receiveServices(json) {\n  return {\n    type: RECEIVE_SERVICES,\n    services: json\n  }\n}\n\nfunction removeService(id) {\n  return {\n    type: REMOVE_SERVICE,\n    id: id\n  }\n}\n\nexport function searchServices(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_SERVICES,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchService(id) {\n  return dispatch => {\n    dispatch(requestService(id))\n    const url = serverHost + '/service/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveService(id, json))\n      })\n  }\n}\n\nexport function fetchServices() {\n  return dispatch => {\n    dispatch(requestServices())\n    const url = serverHost + '/services/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveServices(json))\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n\n}\n\nexport function deleteService(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/service/' + id + '/';\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeService(id))\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function createService(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/services/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(service => {\n      dispatch(receiveService(service.id, service))\n      callback(ACTION_SUCCESS, null, service.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createServices(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/services.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(services => {\n      dispatch(receiveServices(services))\n      return ACTION_SUCCESS\n    })\n    .catch(err => {\n      return ACTION_ERROR\n    })\n  }\n}\n\nexport function updateService(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/service/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(service => {\n        dispatch(receiveService(service.id, service))\n        callback(ACTION_SUCCESS, null, service.id);\n      }).catch(err => {\n        callback(ACTION_ERROR, err);\n      })\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\nimport { updateAuthOrganization } from './authAction.js'\n\nexport const REQUEST_PROVIDERS = 'REQUEST_PROVIDERS';\nexport const RECEIVE_PROVIDERS = 'RECEIVE_PROVIDERS';\nexport const REMOVE_PROVIDER = 'REMOVE_PROVIDER';\nexport const RECEIVE_PROVIDER = 'RECEIVE_PROVIDER';\nexport const REQUEST_PROVIDER = 'REQUEST_PROVIDER';\nexport const SEARCH_PROVIDERS = 'SEARCH_PROVIDERS';\n\n\nfunction requestProviders(json) {\n  return {\n    type: REQUEST_PROVIDERS,\n    providers: json\n  }\n}\n\nfunction requestProvider(id) {\n  console.log(\"requestProvider id\", id);\n  return {\n    type: REQUEST_PROVIDER,\n    id: id\n  }\n}\n\nfunction receiveProvider(id, json) {\n  console.log(\"receiveProvider json\", json);\n  return {\n    type: RECEIVE_PROVIDER,\n    provider: json,\n    id: id\n  }\n}\n\nfunction receiveProviders(json) {\n  console.log(\"receiveProviders json\", json);\n  return {\n    type: RECEIVE_PROVIDERS,\n    providers: json,\n    receivedAt: Date.now(),\n  }\n}\n\nfunction removeProvider(id) {\n  return {\n    type: REMOVE_PROVIDER,\n    id: id\n  }\n}\n\n\nexport function searchProviders(searchValue, searchType, searchProviderType, sortType) {\n  return {\n    type: SEARCH_PROVIDERS,\n    searchValue: searchValue,\n    searchType: searchType,\n    displayType: searchProviderType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchProvider(id) {\n  return dispatch => {\n    console.log(\"fetchProvider, id\", id);\n    dispatch(requestProvider(id))\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveProvider(id, json))\n        return json;\n      })\n  }\n}\n\nexport function fetchProviders() {\n  return dispatch => {\n    dispatch(requestProviders())\n    const url = serverHost + '/providers/';\n\n    return fetch(url, {\n        method: 'get',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      })\n    //.then(response => response.json())\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveProviders(json));\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n}\n\nexport function createProvider(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/providers/';\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(provider => {\n      dispatch(receiveProvider(provider.id, provider))\n      if (provider.status === 'Home Agency') {\n        dispatch(updateAuthOrganization(provider))\n      }\n      callback(ACTION_SUCCESS, null, provider.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createProviderWithCSV(file) {\n  const formData  = new FormData();\n  formData.append('file', file);\n\n  return dispatch => {\n    const url = serverHost + '/providers/new/upload';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(providers => {\n      dispatch(receiveProviders(providers))\n      return ACTION_SUCCESS;\n    })\n      .catch(err => {\n      return ACTION_ERROR;\n    })\n  }\n}\n\nexport function updateProvider(id, params, callback) {\n  console.log(\"updateProvider id, params\", id, params);\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return await response.json();\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n      .then(provider => {\n        console.log(\"updateProvider provider.id, provider\", provider.id, provider);\n        dispatch(receiveProvider(provider.id, provider))\n /*       if (provider.status === 'Home Agency') {\n          dispatch(updateAuthOrganization(provider.id, provider))\n        } */\n        callback(ACTION_SUCCESS, null, provider.id);\n      }).catch(err => {\n        callback(ACTION_ERROR, err);\n    })\n  }\n}\n\n/*\n.then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n\n*/\n\nexport function deleteProvider(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n      headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeProvider(id));\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function rateProvider(id, params) {\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/rate';\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const REQUEST_GOOD = 'REQUEST_GOOD';\nexport const RECEIVE_GOOD = 'RECEIVE_GOOD';\nexport const REQUEST_GOODS = 'REQUEST_GOODS';\nexport const RECEIVE_ALL_GOODS = 'RECEIVE_ALL_GOODS';\nexport const REMOVE_GOOD = 'REMOVE_GOOD';\nexport const RECEIVE_GOODS = 'RECEIVE_GOODS';\nexport const GOOD_ERROR = 'GOOD_ERROR';\nexport const GOOD_SUCCESS = 'GOOD_SUCCESS';\nexport const SEARCH_GOODS = 'SEARCH_GOODS';\n\n\nfunction requestGood(id) {\n  return {\n    type: REQUEST_GOOD,\n    id: id\n  }\n}\n\nfunction receiveGood(id, json) {\n  return {\n    type: RECEIVE_GOOD,\n    id: id,\n    good: json\n  }\n}\n\nfunction requestGoods(json) {\n  return {\n    type: REQUEST_GOODS,\n    goods: json\n  }\n}\n\nfunction receiveGoods(json) {\n  return {\n    type: RECEIVE_GOODS,\n    goods: json\n  }\n}\n\nfunction removeGood(id) {\n  return {\n    type: REMOVE_GOOD,\n    id: id\n  }\n}\n\nexport function searchGoods(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_GOODS,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchGood(id) {\n  return dispatch => {\n    dispatch(requestGood(id))\n    const url = serverHost + '/good/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveGood(id, json))\n      })\n  }\n}\n\nexport function fetchGoods() {\n  return dispatch => {\n    dispatch(requestGoods())\n    const url = serverHost + '/goods/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveGoods(json));\n        return json;\n      })\n  }\n}\n\nexport function deleteGood(id, params) {\n  return dispatch => {\n    const url = serverHost + '/good/' + id + '/';\n\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => {\n      if (response.status === 204) {\n        dispatch(removeGood(id))\n        return GOOD_SUCCESS\n      }\n      else {\n        return GOOD_ERROR\n      }\n    });\n  }\n}\n\nexport function createGood(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/goods/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(good => {\n      dispatch(receiveGood(good.id, good))\n      callback(GOOD_SUCCESS, null, good.id);\n    }).catch(err => {\n      callback(GOOD_ERROR, err);\n    })\n  }\n}\n\nexport function createGoods(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/goods.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(goods => {\n      dispatch(receiveGoods(goods))\n      return GOOD_SUCCESS\n    })\n    .catch(err => {\n      return GOOD_ERROR\n    })\n  }\n}\n\nexport function updateGood(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/good/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(good => {\n        dispatch(receiveGood(good.id, good))\n        callback(GOOD_SUCCESS, null, good.id);\n      }).catch(err => {\n        callback(GOOD_ERROR, err);\n      })\n  }\n}\n","import { combineReducers } from 'redux'\nimport { needs } from './reducers/needReducers.js';\nimport { auth } from './reducers/authReducer.js';\nimport { ontology } from './reducers/ontologyReducers.js';\nimport { clients } from './reducers/clientReducer.js';\nimport { services } from './reducers/serviceReducer.js';\nimport { providers } from './reducers/providerReducers.js';\nimport { goods } from './reducers/goodReducer.js';\n\n\nconst appReducer = combineReducers({\n  services,\n  clients,\n  goods,\n  needs,\n  providers,\n  auth,\n  ontology,\n});\n\nconst initialState = appReducer({}, {});\n\nexport const rootReducer = (state, action) => {\n  if (action.type === 'LOGGED_OUT') {\n    state = initialState\n  }\n\n  return appReducer(state, action);\n};\n","import { REQUEST_SERVICES, RECEIVE_SERVICES, SEARCH_SERVICES, REMOVE_SERVICE,\n         REQUEST_SERVICE, RECEIVE_SERVICE } from '../actions/serviceActions.js';\nimport _ from 'lodash';\n\n\nexport function services(state = {index: [], filteredServices: [], servicesLoaded: false, byId: {} }, action) {\n  let nextById, sortedServices, services, nextIndex;\n  switch (action.type) {\n    case REQUEST_SERVICES:\n    // should be for fetching all serves in componentWillMount\n      return {...state, servicesLoaded: false }\n    case RECEIVE_SERVICES:\n      console.log(\"reducer check: \", action);\n    // should be for fetching all serves in componentWillMount\n      const newServicesById = _.keyBy(action.services, service => service.id);\n      nextById = { ...state.byId, ...newServicesById }\n      return {...state, byId: nextById, servicesLoaded: true, index: action.services, filteredServices:action.services }\n    case REMOVE_SERVICE:\n    // should be for delete function\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return { ...state, index: nextIndex, filteredServices: nextIndex }\n    case REQUEST_SERVICE:\n    // for single servce viewing\n      nextById = { ...state.byId, [action.id]: { servicesLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_SERVICE:\n    // same as above\n      nextById = {...state.byId, [action.id]: { ...action.service, servicesLoaded: true }}\n      return {...state, byId: nextById }\n\n    case SEARCH_SERVICES:\n    // for search bar\n      if (action.sortType === '' || action.sortType === \"name\") {\n        console.log(\"service reducer :\", [...state.index]);\n        sortedServices = [...state.index].sort((a, b) => (a.name ? a.name.toLowerCase(): \"\").localeCompare(b.name ? b.name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"provider\") {\n        sortedServices = [...state.index].sort((a, b) => (a.provider.profile.first_name?a.provider.profile.first_name.toLowerCase():\"\").localeCompare(b.provider.profile.first_name?b.provider.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"description\") {\n        sortedServices = [...state.index].sort((a, b) => (a.desc?a.desc:\"\").localeCompare(b.desc?b.desc:\"\"));\n      }\n      else if (action.sortType === \"category\") {\n        sortedServices = [...state.index].sort((a, b) => (a.category? a.category:\"\").localeCompare(b.category?b.category:\"\"));\n      }\n\n      if (action.searchValue === '') {\n        return {index: sortedServices, filteredServices: sortedServices, servicesLoaded: true}\n      }\n      else if (action.searchType === \"name\") {\n        services = sortedServices.filter((service) => ((service.name?service.name.toLowerCase():\"\").includes(action.searchValue) ));\n        console.log(\"service reducer return: \", {index: [...state.index], filteredServices: services, servicesLoaded: true});\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"provider\") {\n        services = sortedServices.filter((service) => (service.provider.company ? (service.provider.company).includes(action.searchValue) : \"\")\n        || ((service.provider.profile.first_name ? service.provider.profile.first_name.toLowerCase() : \"\")\n         + \" \" +\n         (service.provider.profile.last_name ? service.provider.profile.last_name.toLowerCase().includes(action.searchValue): \"\")));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"description\") {\n        services = sortedServices.filter((service) => ((service.desc).includes(action.searchValue) ));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"category\") {\n        services = sortedServices.filter((service) => ((service.category).includes(action.searchValue) ));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { REQUEST_CLIENTS, RECEIVE_CLIENTS, REMOVE_CLIENT, REQUEST_CLIENT,\n         RECEIVE_CLIENT, SEARCH_CLIENTS } from '../actions/clientActions.js';\nimport _ from 'lodash';\n\n\nexport function clients(state = {index: [], filteredClients: [], clientsLoaded: false, byId: {} }, action) {\n  let nextById, clients, nextIndex, sortedClients;\n  switch (action.type) {\n    case REQUEST_CLIENTS:\n      console.log()\n      return {...state, clientsLoaded: false }\n    case RECEIVE_CLIENTS:\n      console.log(RECEIVE_CLIENTS);\n      const newClientsById = _.keyBy(action.clients, client => client.id);\n      nextById = { ...state.byId, ...newClientsById }\n      return {...state, byId: nextById, clientsLoaded: true, index: action.clients, filteredClients: action.clients }\n    case REMOVE_CLIENT:\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return { ...state, index: nextIndex, filteredClients: nextIndex }\n    case REQUEST_CLIENT:\n      nextById = { ...state.byId, [action.id]: { clientsLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_CLIENT:\n      console.log(RECEIVE_CLIENT);\n      nextById = {...state.byId, [action.id]: { ...action.client, clientsLoaded: true }}\n      return {...state, byId: nextById }\n\n    case SEARCH_CLIENTS:\n    // for search bar\n      if (action.sortType === '' || action.sortType === \"first_name\") {\n        console.log(\"client reducer :\", [...state.index]);\n        sortedClients = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"-first_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n        sortedClients = sortedClients.reverse();\n      }\n      else if (action.sortType === \"last_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.last_name ? a.profile.last_name.toLowerCase(): \"\").localeCompare(b.profile.last_name ? b.profile.last_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"-last_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.last_name ? a.profile.last_name.toLowerCase(): \"\").localeCompare(b.profile.last_name ? b.profile.last_name.toLowerCase():\"\"));\n        sortedClients = sortedClients.reverse();\n      }\n\n      if (action.searchValue === ''){\n        return {index: sortedClients, filteredClients: sortedClients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'first_name') {\n        console.log(\"clients: \", sortedClients);\n        clients = sortedClients.filter((client) => ((client.profile.first_name?client.profile.first_name.toLowerCase():\"\").includes(action.searchValue)));\n        console.log(\"client reducer return: \", {index: [...state.index], filteredClients: clients, clientsLoaded: true});\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'last_name') {\n        clients = sortedClients.filter((client) => ((client.profile.last_name?client.profile.last_name.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'address') {\n        clients = sortedClients.filter((client) => ((client.address?client.address.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      break;\n\n    default:\n      return state\n\n  }\n}\n","import { REQUEST_GOODS, RECEIVE_GOODS, RECEIVE_ALL_GOODS, SEARCH_GOODS, REMOVE_GOOD,\n         REQUEST_GOOD, RECEIVE_GOOD } from '../actions/goodActions.js';\nimport _ from 'lodash';\n\n\nexport function goods(state = {index: [], filteredGoods: [], goodsLoaded: false, byId: {} }, action) {\n  let nextById, sortedGoods, goods;\n  switch (action.type) {\n    case REQUEST_GOODS:\n      return {...state, goodsLoaded: false }\n    case RECEIVE_GOODS:\n      const newGoodsById = _.keyBy(action.goods, good => good.id);\n      nextById = { ...state.byId, ...newGoodsById }\n      return {...state, byId: nextById, goodsLoaded: true, index: action.goods, filteredGoods:action.goods }\n    case RECEIVE_ALL_GOODS:\n      nextById = _.keyBy(action.goods, good => good.id);\n      return {...state, byId: nextById, goodsLoaded: true, index: action.goods, filteredGoods:action.goods }\n    case REMOVE_GOOD:\n      nextById = _.clone(state.byId);\n      delete nextById[action.id]\n      return { ...state, byId: nextById }\n    case REQUEST_GOOD:\n      nextById = { ...state.byId, [action.id]: { goodsLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_GOOD:\n      nextById = {...state.byId, [action.id]: { ...action.good, goodsLoaded: true }}\n      return {...state, byId: nextById }\n    case SEARCH_GOODS:\n      if (action.sortType === '') {\n        sortedGoods = [...state.index];\n      }\n      else if (action.sortType === \"name\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.name).localeCompare(b.name));\n      }\n      else if (action.sortType === \"provider\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.provider.profile.first_name).localeCompare(b.provider.profile.first_name));\n      }\n      else if (action.sortType === \"description\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.desc).localeCompare(b.desc));\n      }\n      else if (action.sortType === \"category\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.category).localeCompare(b.category));\n      }\n\n      if (action.searchValue === '') {\n        return {index: sortedGoods, filteredGoods: sortedGoods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"name\") {\n        goods = sortedGoods.filter((good) => ((good.name).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"provider\") {\n        goods = sortedGoods.filter((good) => ((good.provider.company).includes(action.searchValue)) || ((good.provider.profile.first_name + \" \" + good.provider.profile.last_name).includes(action.searchValue)));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"description\") {\n        goods = sortedGoods.filter((good) => ((good.desc).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"category\") {\n        goods = sortedGoods.filter((good) => ((good.category).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { RECEIVE_CLIENT_NEEDS, RECEIVE_CLIENT_NEED, REQUEST_NEED, REQUEST_NEEDS, RECEIVE_NEEDS,\n         REMOVE_CLIENT_NEED, RECEIVE_CLIENT_NEED_GROUP, RECEIVE_CLIENT_NEED_INFO } from '../actions/needActions.js';\nimport _ from 'lodash';\n\nexport function needs(state = { byId: {}, needGroups: [], clientId: null, loaded: false, needs: [] }, action) {\n  let nextById, nextNeedGroup, needGroupIndex;\n  switch (action.type) {\n    case REQUEST_NEEDS:\n      return {...state, loaded: false }\n    case RECEIVE_NEEDS:\n      return {...state, needs: action.needs, loaded: true }\n    case RECEIVE_CLIENT_NEEDS:\n      if (action.needs){\n        nextById = _.keyBy(action.needs, need => need.id);\n        return {...state, byId: nextById, needGroups: action.needGroups, loaded: true, clientId: action.clientId}\n      } else {\n        return {...state, needGroups: action.needGroups, loaded: true, clientId: action.clientId}\n      }\n    case RECEIVE_CLIENT_NEED:\n      nextById = {...state.byId, [action.need.id]: { ...action.need, loaded: true }}\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id).indexOf(action.needGroup.id);\n      if (needGroupIndex >= 0) {\n        nextNeedGroup[needGroupIndex] = action.needGroup;\n      }\n      else {\n        nextNeedGroup = [...nextNeedGroup, action.needGroup]\n      }\n      return {...state, needGroups: nextNeedGroup, byId: nextById, clientId: action.clientId}\n    case RECEIVE_CLIENT_NEED_INFO:\n      nextById = {...state.byId, [action.needId]: { ...action.need, loaded: true }}\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id.toString()).indexOf(action.need.need_group_id);\n      if (needGroupIndex >= 0) {\n        const needIndex = nextNeedGroup[needGroupIndex].needs.map(need => need.id).indexOf(action.needId);\n        (nextNeedGroup[needGroupIndex].needs)[needIndex] = action.need;\n        return {...state, needGroups: nextNeedGroup, byId: nextById, clientId: action.clientId}\n      }\n      return {...state, byId: nextById, clientId: action.clientId}\n    case REMOVE_CLIENT_NEED:\n      const need = state.byId[action.needId];\n      nextById = _.clone(state.byId);\n      delete nextById[action.needId]\n\n      nextNeedGroup = _.clone(state.needGroups);\n      needGroupIndex = nextNeedGroup.map(needGroup => (needGroup.id).toString()).indexOf(need.need_group_id);\n      _.remove(nextNeedGroup[needGroupIndex].needs, (need) => {return need.id === action.needId });\n      if (nextNeedGroup[needGroupIndex].needs.length === 0) {\n        nextNeedGroup.splice(needGroupIndex, 1);\n      }\n      return { ...state, byId: nextById, needGroups: nextNeedGroup }\n    case REQUEST_NEED:\n      nextById = {...state.byId, [action.needId]: { ...action.need, loaded: false }}\n      return {...state, byId: nextById }\n    case RECEIVE_CLIENT_NEED_GROUP:\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id).indexOf(action.needGroup.id);\n      nextNeedGroup[needGroupIndex] = action.needGroup;\n      return {...state, needGroups: nextNeedGroup }\n    default:\n      return state\n  }\n}\n","import _ from 'lodash';\n\nimport { RECEIVE_PROVIDER, REQUEST_PROVIDER, REQUEST_PROVIDERS, RECEIVE_PROVIDERS,\n         SEARCH_PROVIDERS, REMOVE_PROVIDER } from '../actions/providerActions.js'\n\n\nexport function providers(state = {index: [], byId: {}, providerLoaded: false, value: '', filteredProviders: []}, action) {\n  let nextIndex, nextById, providers, sortedProviders, providersByType;\n\n  switch (action.type) {\n    case REQUEST_PROVIDERS:\n      return {...state, providerLoaded: false};\n    case RECEIVE_PROVIDERS:\n      const providersById = _.keyBy(action.providers, provider => provider.id);\n      nextById = {...state.byId, providersById}\n      return {...state, byId: nextById, index: action.providers, filteredProviders: action.providers, providerLoaded: true};\n    case REMOVE_PROVIDER:\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return {...state, index: nextIndex, filteredProviders: nextIndex}\n    case RECEIVE_PROVIDER:\n      nextById = {...state.byId, [action.id]: { ...action.provider, providerLoaded: true }}\n      if (action.provider.provider) {\n        nextById.providersById = {...nextById.providersById, [action.id]: { ...action.provider.provider}}\n      }\n      console.log(\"ProviderReducer.js - RECEIVE_PROVIDER state\", state);\n      console.log(\"ProviderReducer.js - RECEIVE_PROVIDER nextById\", nextById);\n      return {...state, byId: nextById }\n    case REQUEST_PROVIDER:\n      nextById = { ...state.byId, [action.id]: { providerLoaded: false } }\n      return {...state, byId: nextById }\n    case SEARCH_PROVIDERS:\n      // for search bar\n      console.log(\"ProviderReducer.js  - index.providers: \", state.index.providers);\n      console.log(\"ProviderReducer.js  - action: \", action);\n\n\n      //action.sortType\n      if (action.sortType === '' || action.sortType === \"name\") {\n\n         console.log(\"ProviderReducer.js  - index.providers 2: \", state.index.providers);\n         console.log(\"ProviderReducer.js  - state: \", state);\n\n         sortedProviders = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType ==='type'){\n        sortedProviders = [...state.index].sort((a, b) => (a.type? a.type:\"\").localeCompare(b.type?b.type:\"\"));\n      }\n\n      console.log(\"ProviderReducer.js  - sortedProviders: \", sortedProviders);\n\n      //action.displayType\n      if (action.displayType === 'Individual' || action.displayType === 'Organization'){\n        providersByType = sortedProviders.filter((provider) => ((provider.type).includes(action.displayType)));\n      }\n      else {\n        providersByType = sortedProviders;\n      }\n\n      console.log(\"ProviderReducer.js  -  providersByType: \", providersByType);\n\n      //action.searchValue\n      if (action.searchValue === ''){\n        return {index: providersByType, filteredProviders: providersByType, providerLoaded: true}\n      }\n      else if (action.searchType === 'name') {\n\n        console.log(\"ProviderReducer.js  - state.index: \", state.index);\n        console.log(\"ProviderReducer.js  - providersByType: \", providersByType);\n\n        providers = providersByType.filter((provider) => (((provider.profile.first_name ? provider.profile.first_name.toLowerCase() : \"\")\n         + \" \" +\n         (provider.profile.last_name ? provider.profile.last_name.toLowerCase():\"\")).includes(action.searchValue)));\n        console.log(\"providersByType -  returned data : \", {index: [...state.index], filteredProviders: providers, providerLoaded: true});\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      else if (action.searchType === 'email') {\n        providers = providersByType.filter((providers) => ((providers.email?providers.email.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      else if (action.searchType === 'phone'){\n        providers = providersByType.filter((providers) => ((providers.primary_phone_number?providers.primary_phone_number:\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport thunkMiddleware from 'redux-thunk'\nimport { rootReducer } from './store/reducers.js'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\nimport { logout } from './store/actions/authAction.js';\n\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\nconst authMiddleware = store => next => action => {\n  const user = store.getState()['auth']['currentUser']\n  if (action.type !== 'LOGGED_OUT' && user && new Date() > user.expired_at) {\n    store.dispatch(logout(true))\n  }\n  return next(action);\n}\n\nexport default function configureStore(preloadedState) {\n  console.log(\"File: store.js - Function: configureStore  Parameters: preloadedState ->  \", preloadedState) \n  let store = createStore(\n    persistedReducer,\n    preloadedState,\n    applyMiddleware(thunkMiddleware, authMiddleware)\n  )\n  let persistor = persistStore(store)\n  return { store, persistor }\n}\n","/**\n * Use Google Maps in React without custom libraries.\n * Some of the ideas are from\n * https://cuneyt.aliustaoglu.biz/en/using-google-maps-in-react-without-custom-libraries/\n */\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Paper, Typography, Link } from \"@mui/material\";\nimport { render } from 'react-dom';\nimport { useHistory } from \"react-router-dom\";\n\nconst Google = window.google || {maps: {}};\nconst {Map, Marker, InfoWindow, Size} = Google.maps;\n\n// Mount a react component into uncontrolled component\nconst createInfoWindow = (map, markerElement, marker, history, idx) => {\n  const infoWindow = new InfoWindow({\n    content: `<div id=\"infoWindow-${idx}\" />`,\n    position: marker.position,\n    pixelOffset: new Size(0, -42),\n  });\n  infoWindow.addListener('domready', e => {\n    render(\n      <ReactInfoWindow history={history} marker={marker}/>,\n      document.getElementById(`infoWindow-${idx}`))\n  });\n  // 'clicked' and 'show' act as an instance variable.\n  let clicked = false, show = false;\n  document.querySelector(`infoWindow-${idx} button`);\n  markerElement.addListener('mouseover', e => {\n    infoWindow.open(map);\n    show = true;\n    markerElement.addListener('mouseout', e => {\n      show && !clicked && infoWindow.close();\n      if (show) show = false;\n    });\n    markerElement.addListener('click', e => {\n      clicked = true;\n      infoWindow.open(map);\n    });\n    window.google.maps.event.addListener(infoWindow, 'closeclick', e => {\n      clicked = false;\n    });\n  });\n  return infoWindow;\n};\n\nfunction ReactInfoWindow({marker, history}) {\n  const {title, link, content} = marker;\n  return (\n    <>\n      <Link style={{cursor: 'pointer'}} onClick={() => link ? history.push(link) : null}>\n        <Typography>\n          {title}\n        </Typography>\n      </Link>\n      <Typography color=\"textSecondary\">\n        {content}\n      </Typography>\n    </>\n  );\n}\n\nlet GoogleMap;\n\n// Export empty div if no network to load google maps.\nif (Map) {\n  // Google map in each pages, native Google API implementation\n  // (without any react wrapper, library)\n  GoogleMap = function (props) {\n    const history = useHistory();\n    const defaultCenter = useMemo(() => ({lat: 43.6870, lng: -79.4132}), []);\n    const {\n      zoom = 11,\n      center = defaultCenter, // Toronto\n      markers = [],\n    } = props;\n    const [map, setMap] = useState(null);\n\n    useEffect(() => {\n      setMap(new Map(document.getElementById('map'), {\n        center: center,\n        zoom: zoom\n      }));\n    }, [zoom, center]);\n\n    useEffect(() => {\n      for (let i = 0; i < markers.length; i++) {\n        const marker = markers[i];\n        const currMarker = new Marker({\n          position: marker.position,\n          map: map,\n          title: marker.title,\n        });\n        // Info window is opened when mouse over the marker.\n        // It also stays open after the marker is clicked.\n        createInfoWindow(map, currMarker, marker, history, i);\n      }\n    }, [markers, map, history]);\n\n    return useMemo(() =>\n        <Paper elevation={5} style={{width: '100%', height: '40vh', marginTop: 5}} id=\"map\"/>\n      , []);\n  }\n} else {\n  GoogleMap = function () {\n    console.info('Google maps javascript is not loaded. Are you offline?');\n    return <Paper elevation={5} style={{width: '100%', height: '40vh', marginTop: 5}}/>\n  }\n}\n\nexport default GoogleMap;\n","import React from 'react';\nimport { InputBase, Button, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\n\nexport default function CSVUploadModal({show, onHide, submit}) {\n  return (\n    <Dialog\n      open={show}\n      onClose={onHide}\n    >\n      <DialogTitle id=\"form-dialog-title\">Upload CSV</DialogTitle>\n      <DialogContent>\n        <InputBase type=\"file\"/>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={submit}>Submit</Button>\n        <Button onClick={onHide}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { TextField, Button, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\n\nexport default function DeleteModal({show, onHide, title, objectId, ...props}) { // cannot use keyword \"delete\"\n  const [form, setForm] = useState({reason: ''});\n\n  return (\n    <Dialog\n      open={show}\n      onClose={onHide}\n      fullWidth\n    >\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <TextField value={form.reason} label=\"Reason\" sx={{mt: 2}}\n                   onChange={e => setForm({reason: e.target.value})} fullWidth/>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" onClick={() => props.delete(objectId, form)}>Confirm</Button>\n        <Button onClick={onHide}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { IconButton, Menu, MenuItem, ListItemIcon, Typography } from \"@mui/material\";\nimport { MoreVert as MoreVertIcon, Edit, Delete, OpenInBrowser } from '@mui/icons-material';\n\nconst ITEM_HEIGHT = 48;\n\nexport default function DropdownMenu({urlPrefix, objectId, handleDelete, hideViewOption}) {\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLink = link => () => {\n    history.push(link);\n  };\n\n  return (\n    <div>\n      <IconButton\n        onClick={handleClick}\n        size=\"small\"\n      >\n        <MoreVertIcon/>\n      </IconButton>\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: 150,\n          },\n        }}\n      >\n        {!hideViewOption &&\n        <MenuItem onClick={handleLink(`/${urlPrefix}/${objectId}`)}>\n          <ListItemIcon>\n            <OpenInBrowser fontSize=\"small\" color=\"primary\"/>\n          </ListItemIcon>\n          <Typography variant=\"inherit\">View</Typography>\n\n        </MenuItem>\n        }\n\n        <MenuItem onClick={handleLink(`/${urlPrefix}/${objectId}/edit`)}>\n          <ListItemIcon>\n            <Edit fontSize=\"small\" color=\"primary\"/>\n          </ListItemIcon>\n          Edit\n        </MenuItem>\n\n        <MenuItem onClick={() => {\n          handleClose();\n          handleDelete(objectId);\n        }}>\n          <ListItemIcon>\n            <Delete fontSize=\"small\" color=\"secondary\"/>\n          </ListItemIcon>\n          Delete\n        </MenuItem>\n\n      </Menu>\n    </div>\n  );\n}\n","import { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { ACTION_ERROR } from \"../../store/defaults\";\nimport { CSVUploadModal, CustomToolbar, DeleteModal, DropdownMenu, GoogleMap, Loading, DataTable } from \"./index\";\nimport { Container, Fade } from \"@mui/material\";\n\n/**\n * Generate markers on google map.\n * @function GenerateMarkers\n * @param data: Array\n * @param pageNumber: Number\n * @param rowsPerPage: Number\n */\n\n/**\n * A generic page component for clients, services, goods, providers.\n * @param props {{fetchData, deleteItem, generateMarkers: GenerateMarkers, tableOptions?: {},\n * type: (\"clients\", \"services\", \"goods\", \"providers\"), nameFormatter, columnsWithoutOptions}}\n */\nexport default function GenericPage(props) {\n  const {\n    fetchData, deleteItem, generateMarkers, type,\n    nameFormatter, columnsWithoutOptions\n  } = props;\n  const title = type.charAt(0).toUpperCase() + type.slice(1);\n\n  // redux hooks\n  const dispatch = useDispatch();\n\n  // react hooks\n  const history = useHistory();\n  const [state, setState] = useState({\n    showUploadDialog: false,\n    showDeleteDialog: false,\n    deleteId: null,\n    deleteDialogTitle: '',\n    data: [], // providers\n    pageNumber: 1,\n    rowsPerPage: 10,\n    loading: true,\n  });\n\n  // useEffect with empty dependencies is something like componentWillMount\n  useEffect(() => {\n    fetchData().then(data => setState(state => ({...state, data, loading: false})));\n  }, [fetchData]);\n\n  const hideDialog = () => {\n    setState(state => ({\n      ...state,\n      showUploadDialog: false,\n      showDeleteDialog: false,\n    }));\n  };\n\n  const handleDelete = useCallback(async (id, form) => {\n    const res = await deleteItem(id, form);\n    if (!res.success) {\n      // do something\n    } else {\n      hideDialog();\n      setState(state => ({\n        ...state,\n        data: state.data.filter(item => item.id !== state.deleteId)\n      }));\n    }\n  }, [dispatch, deleteItem]);\n\n  const showDeleteDialog = useCallback((idx) => {\n    const item = state.data[idx];\n    setState(state => ({\n      ...state,\n      showDeleteDialog: true,\n      deleteId: item.id,\n      deleteDialogTitle: `Delete ${title} ` + nameFormatter(item),\n    }));\n  }, [state.data, nameFormatter, title]);\n\n  // TODO: implement upload CSV\n  const handleUpload = file => {\n\n  };\n\n  const columns = useMemo(() => {\n    return [\n      ...columnsWithoutOptions,\n      {\n        label: ' ',\n        body: ({id}) => (\n          <DropdownMenu urlPrefix={type} objectId={id} handleDelete={showDeleteDialog}/>\n        )\n      },\n    ]\n  }, [showDeleteDialog, columnsWithoutOptions, type]);\n\n  const tableOptions = {\n    customToolbar:\n      <CustomToolbar\n        type={type}\n        handleAdd={() => history.push(`/${type}/new`)}\n        handleUpload={() => setState(state => ({...state, showUploadDialog: true}))}\n      />,\n    onDelete: async (ids) => {\n      // TODO: Lester 8/30/2021\n      showDeleteDialog(ids);\n      return false;\n    },\n\n    // These listeners are required for displaying pin on Google Map\n    onChangePage: pageNumber => setState(state => ({...state, pageNumber})),\n    onChangeRowsPerPage: rowsPerPage => setState(state => ({...state, rowsPerPage})),\n    ...props.tableOptions,\n  };\n\n  // This also filters out providers without lat / lng.\n  const markers = useMemo(() => generateMarkers(state.data, state.pageNumber, state.rowsPerPage),\n    [generateMarkers, state.data, state.pageNumber, state.rowsPerPage]);\n\n  if (state.loading)\n    return <Loading message={`Loading ${title}...`}/>;\n\n  return (\n    <Fade in>\n      <Container>\n        <DataTable\n          columns={columns}\n          data={state.data}\n          title={title}\n          {...tableOptions}\n        />\n\n        <CSVUploadModal\n          show={state.showUploadDialog}\n          onHide={hideDialog}\n          submit={handleUpload}\n        />\n        <DeleteModal\n          contentType=\"Provider\"\n          objectId={state.deleteId}\n          title={state.deleteDialogTitle}\n          show={state.showDeleteDialog}\n          onHide={hideDialog}\n          delete={handleDelete}\n        />\n        <GoogleMap markers={markers}/>\n      </Container>\n    </Fade>\n  )\n}\n","import React from 'react';\nimport { Stepper, Step, StepButton, Button, Typography, Alert } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  buttons: {\n    width: '80%',\n    margin: 'auto',\n    paddingTop: 20,\n    paddingBottom: 40,\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  alert: {\n    width: '80%',\n    margin: 'auto',\n  },\n  title: {\n    color: '#4b4b4b',\n    width: '80%',\n    margin: 'auto',\n  }\n}));\n\nexport default function FormStepper({stepNames, handleFinish, getStepContent, error, title}) {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n\n  const handleStep = step => () => {\n    setActiveStep(step);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleNext = () => {\n    if (activeStep === stepNames.length - 1) {\n      handleFinish();\n      return;\n    }\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  return (\n    <div>\n      <Stepper alternativeLabel nonLinear activeStep={activeStep}>\n        {stepNames.map((label, index) => (\n          <Step key={label}>\n            <StepButton\n              onClick={handleStep(index)}\n            >\n              {label}\n            </StepButton>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {title && <Typography color=\"textSecondary\" variant=\"h6\" className={classes.title}>\n          {title}\n        </Typography>}\n        {error && error.map((err, index) =>\n          <Alert key={index} className={classes.alert} severity=\"error\">{err}</Alert>)}\n        {getStepContent(activeStep)}\n        <div className={classes.buttons}>\n          <Button\n            disabled={activeStep === 0}\n            onClick={handleBack}\n            className={classes.backButton}\n          >\n            Back\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n            {activeStep === stepNames.length - 1 ? 'Finish' : 'Next'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Paper, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: 16,\n  },\n  paper: {\n    display: 'inline-block',\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    minWidth: 380,\n  }\n}));\n\nexport default function ({label, children}) {\n  const classes = useStyles();\n  return (\n    <div className={label && classes.root}>\n      {label && <Typography color=\"textSecondary\" variant=\"body1\" gutterBottom>\n        {label}\n      </Typography>}\n      <Paper variant=\"outlined\" className={classes.paper}>\n        {children}\n      </Paper>\n    </div>\n  )\n}\n","import React, { useCallback, useState } from 'react';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { format, parse } from 'date-fns';\nimport { TextField } from '@mui/material'\nimport {\n  LocalizationProvider,\n  TimePicker,\n  DatePicker,\n} from '@mui/x-date-pickers';\n\nexport const dateFormat = 'yyyy-MM-dd';\n\nexport default function GeneralField({type, onChange, value: defaultValue, ...props}) {\n  // duplicate the state, the drawback is much smaller than re-render all the form.\n  const [value, setValue] = useState(() => {\n    if (type === 'date') {\n      if (defaultValue)\n        return parse(defaultValue, dateFormat, new Date());\n      else\n        return null;\n    }\n    return defaultValue|| '';\n  });\n\n  const handleChange = useCallback(e => {\n    const val = e.target.value;\n    setValue(val);\n    onChange({target: {value: val}});\n  }, [onChange, type]);\n\n  const onChangeDate = date => {\n    setValue(date);\n  }\n\n  const onAcceptDate = date => {\n    setValue(date);\n    const formattedDate = format(date, dateFormat);\n    try {\n      onChange({target: {value: formattedDate}});\n    } catch (e) {\n    }\n  };\n\n  if (type === 'date')\n    return (\n      <div>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            value={value}\n            onAccept={onAcceptDate}\n            onChange={onChangeDate}\n            renderInput={(params) =>\n              <TextField {...params}\n                         sx={{minWidth: 350}}\n                         margin=\"normal\"/>\n            }\n            {...props}\n          />\n        </LocalizationProvider>\n      </div>\n    );\n  else if (type === 'time')\n    return (\n      <div>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <TimePicker\n            value={value}\n            onAccept={onAcceptDate}\n            onChange={onChangeDate}\n            renderInput={(params) =>\n              <TextField {...params}\n                         sx={{minWidth: 350}}\n                         margin=\"normal\"/>\n            }\n            {...props}\n          />\n        </LocalizationProvider>\n      </div>);\n  else\n    return (\n      <div>\n        <TextField\n          sx={{mt: '16px', minWidth: 350}}\n          type={type}\n          {...props}\n          onChange={handleChange}\n          value={value}\n        />\n      </div>\n    );\n}\n","import GeneralField from \"../components/shared/fields/GeneralField\";\n\nexport const UN_SET = 'UN_SET';\nexport const REQUIRED_HELPER_TEXT = 'This field is required';\n\nexport const defaultField = {\n  label: '',\n  type: 'text',\n  component: GeneralField,\n  validator: null,\n  required: false,\n};","import React, { useCallback, useEffect, useState } from 'react';\nimport { FormControl, InputLabel, Select, MenuItem, FormHelperText } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nimport { UN_SET } from '../../../constants';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: '16px 0 0',\n    minWidth: 350,\n  },\n}));\n\n/**\n *\n * @param label\n * @param InputLabelProps\n * @param className\n * @param options\n * @param noDefaultStyle\n * @param noEmpty\n * @param controlled {boolean=false} - Controlled by the parent component.\n *                                     Set it to true if you dynamically update options\n * @param defaultOptionTitle\n * @param onChange\n * @param formControlProps\n * @param helperText\n * @returns {*}\n * @constructor\n */\nexport default function SelectField({\n                                      label, InputLabelProps, className, options, noDefaultStyle, noEmpty, controlled,\n                                      defaultOptionTitle = 'Not Set', onChange, formControlProps, helperText, ...props\n                                    }) {\n  const classes = useStyles();\n  const [value, setValue] = useState(noEmpty ? '' : UN_SET);\n  const handleChange = useCallback(e => {\n    const val = e.target.value;\n    setValue(val);\n    onChange({target: {value: val === UN_SET ? undefined : val}});\n  }, [onChange]);\n\n  useEffect(() => {\n    setValue(props.value === undefined ? UN_SET : props.value);\n  }, [props.value]);\n\n  return (\n    <div>\n      <FormControl className={(noDefaultStyle || className) ? className : classes.formControl}\n                   error={props.error}\n                   required={props.required}\n                   {...formControlProps}>\n        {label && <InputLabel {...InputLabelProps}>{label}</InputLabel>}\n        <Select\n          margin=\"none\"\n          label={label}\n          {...props}\n          value={controlled ? props.value : value}\n          onChange={controlled ? onChange : handleChange}\n        >\n          {!noEmpty && <MenuItem key=\"key0\" value={UN_SET}>{defaultOptionTitle}</MenuItem>}\n          {Array.isArray(options)\n            ? options.map(option => <MenuItem key={option} value={option}>{option}</MenuItem>)\n            : Object.entries(options).map(([key, value]) => <MenuItem key={key} value={key}>{value}</MenuItem>)}\n        </Select>\n        {helperText && <FormHelperText>{helperText}</FormHelperText>}\n      </FormControl>\n    </div>\n  );\n}\n","import React from 'react';\nimport GeneralField from './fields/GeneralField';\nimport SelectField from './fields/SelectField';\nimport { provinceOptions } from '../../store/defaults';\n\nexport default function LocationFieldGroup({address, required, errMsg = {}}) {\n  const handleChange = name => e => address[name] = e.target.value;\n  return (\n    <div>\n      <GeneralField\n        label=\"Apt. #\"\n        type=\"text\"\n        value={address.apt_number}\n        onChange={handleChange('apt_number')}\n        error={!!errMsg['apt_number']}\n        helperText={errMsg['apt_number']}\n      />\n      <GeneralField\n        label=\"Street Address\"\n        type=\"text\"\n        value={address.street_address}\n        onChange={handleChange('street_address')}\n        required={required}\n        error={!!errMsg['street_address']}\n        helperText={errMsg['street_address']}\n      />\n      <GeneralField\n        label=\"City\"\n        type=\"text\"\n        value={address.city}\n        onChange={handleChange('city')}\n        required={required}\n        error={!!errMsg['city']}\n        helperText={errMsg['city']}\n      />\n      <SelectField\n        label=\"Province\"\n        value={address.province}\n        options={provinceOptions}\n        onChange={handleChange('province')}\n        required={required}\n        error={!!errMsg['province']}\n        helperText={errMsg['province']}\n      />\n      <GeneralField\n        label=\"Postal Code\"\n        type=\"text\"\n        value={address.postal_code}\n        onChange={handleChange('postal_code')}\n        required={required}\n        error={!!errMsg['postal_code']}\n        helperText={errMsg['postal_code']}\n      />\n    </div>\n  );\n}\n","import _ from 'lodash';\nimport React from 'react';\n\nexport const defaultTimeSlot = {'start_time': '', 'end_time': ''};\nexport const defaultOperationHour = {\n  'Monday': [{...defaultTimeSlot}],\n  'Tuesday': [{...defaultTimeSlot}],\n  'Wednesday': [{...defaultTimeSlot}],\n  'Thursday': [{...defaultTimeSlot}],\n  'Friday': [{...defaultTimeSlot}],\n  'Saturday': [{...defaultTimeSlot}],\n  'Sunday': [{...defaultTimeSlot}],\n};\n\nlet mapping = {};\nfor (let hour = 1; hour <= 12; hour++) {\n  const hourStringam = (hour / 10 < 1) ? '0' + hour : hour;\n  for (let minutes = 0; minutes <= 45; minutes += 30) {\n    const minuteString = (minutes === 0) ? '00' : minutes;\n    const timeSlot = hourStringam + ':' + minuteString\n    mapping[hour * 100 + minutes] = timeSlot + ' AM'\n  }\n}\n\nfor (let hour = 1; hour <= 12; hour++) {\n  for (let minutes = 0; minutes <= 45; minutes += 30) {\n    const hourStringpm = (hour / 10 < 1) ? '0' + hour : hour;\n    const minuteString = (minutes === 0) ? '00' : minutes;\n    const timeSlot = hourStringpm + ':' + minuteString;\n    mapping[(hour + 12) * 100 + minutes] = timeSlot + ' PM'\n  }\n}\n\nexport const operationHourMapping = mapping;\n\nexport function operationHourListToObject(operation_hour_list) {\n  let operation_hours = {}\n  _.each(operation_hour_list, operation_hour => {\n    const weekday = operation_hour['week_day']\n    if (!operation_hours[weekday]) {\n      operation_hours[weekday] = []\n    }\n    operation_hours[weekday].push({\n      start_time: operation_hour['start_time'],\n      end_time: operation_hour['end_time']\n    })\n  })\n  return operation_hours\n}\n\nexport function operationHourObjectToList(operation_hour_obj) {\n  let operation_hours = []\n  _.each(operation_hour_obj, (times, day) => {\n    _.each(times, time => {\n      operation_hours.push({\n        week_day: day,\n        start_time: time.start_time,\n        end_time: time.end_time\n      })\n    })\n  })\n  return operation_hours\n}\n\nexport function OperationHourTable({operationHourObj}) {\n  return (\n    <table className=\"operation-hour-table\">\n      <tbody>\n      {_.map(operationHourObj, (times, day) => {\n        return (\n          <tr key={day}>\n            <td>{day}</td>\n            <td>\n              {_.map(times, (time, _) => {\n                return (\n                  <div key={day + time.start_time}>\n                    {`${operationHourMapping[time.start_time]} -\n                        ${operationHourMapping[time.end_time]}`}\n                  </div>\n                )\n              })}\n            </td>\n          </tr>\n        )\n      })}\n      </tbody>\n    </table>\n  )\n}\n","export const titleCase = text => {\n  text = text.replace(/(^\\w|_\\w)/g, m => {\n    return m.toUpperCase().replace('_', ' ')\n  });\n  return text.replace('In', 'in').replace('Of', 'of');\n};\n\n/**\n * @param data {[{condition_clauses: [{field_name, clauses: [{left_operand, right_operand, operator}]}]}]}\n **/\nexport const transformToFrontendType = data => {\n  const val = [];\n\n  // return empty array when create a new service\n  if (!data) return val;\n\n  for (const {condition_clauses} of data) {\n    const condition = [];\n    val.push(condition);\n    for (const {field_name, clauses} of condition_clauses) {\n      for (const {left_operand, right_operand, operator} of clauses) {\n        condition.push([left_operand, operator, right_operand]);\n      }\n    }\n  }\n  return val;\n};\n\n/**\n * @param data {[[]]}\n */\nexport const transformToBackendType = data => {\n  const val = [];\n  for (const condition of data) {\n    const conditionClauses = [];\n    val.push({condition_clauses: conditionClauses});\n\n    for (const [left_operand, operator, right_operand] of condition) {\n      // search for existing field_name\n      const idx = conditionClauses.findIndex(conditionClause => conditionClause.field_name === left_operand);\n      if (idx !== -1) {\n        conditionClauses[idx].clauses.push({left_operand, right_operand, operator});\n      } else {\n        conditionClauses.push({\n          field_name: left_operand,\n          clauses: [{left_operand, right_operand, operator}]\n        })\n      }\n    }\n  }\n  return val;\n};\n\n/**\n *\n * @param string {string}\n * @returns {*}\n */\nexport function escapeString(string) {\n  return '\"' + string.replace(/[\\\\\"]/g, '\\\\$&') + '\"'; // $& means the whole matched string\n}\n\n/**\n *\n * @param string {string}\n * @returns {*}\n */\nexport function unescapeString(string) {\n  return string.slice(1, -1).replace(/\\\\([\\\\\"])/g, '$1');\n}\n\nexport function escapeList(list) {\n  return JSON.stringify(list);\n}\n\nexport function unescapeList(string) {\n  try {\n    const array = JSON.parse(string);\n    return Array.isArray(array) ? array : [];\n  } catch (e) {\n    return [];\n  }\n}\n","import {titleCase} from './formulaHelpers';\nexport {titleCase}\n/**\n * Flip object key value pairs\n * @param obj\n * @returns {{}}\n */\nexport const objectFlip = (obj) => {\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    ret[obj[key]] = key;\n  });\n  return ret;\n};\n\n/**\n * Recursively assign obj to target.\n * Similar to Object.assign(obj1, obj2), or {...obj1, ...obj2} but also assign nested objects.\n * @param target\n * @param obj\n * @returns {*}\n */\nexport const recursiveAssign = (target, obj) => {\n  Object.entries(obj).forEach(([key, value]) => {\n    if (typeof value === 'object' && value != null && target[key])\n      return recursiveAssign(target[key], value);\n    else if (value != null)\n      target[key] = value;\n  });\n  return target;\n};\n\n/**\n * return true if the field is empty\n * @param field\n * @returns {boolean}\n */\n\nexport function isFieldEmpty(field) {\n  if (field == null) {\n    return true;\n  } else {\n    return field.length === 0;\n  }\n}\n\n/**\n * return true if the field availability is empty\n * @param availability\n * @returns {boolean}\n */\n\nexport function isAvailabilityEmpty(availability) {\n  if (availability == null) {\n    return true;\n  } else {\n    for (const day of Object.keys(availability)) {\n      for (const time_slot of availability[day]) {\n        if (time_slot['start_time'].length > 0 && time_slot['end_time'].length > 0) {\n          //time slot is filled in\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n}\n\n/**\n * Verify the address fields and set the given result.\n * @param location {{apt_number, }}\n * @param result\n */\nexport function verifyAddressField(location, result) {\n  for (const [fieldName, value] of Object.entries(location)) {\n    // apartment number is not required\n    if (fieldName === 'apt_number')\n      continue;\n    if (isFieldEmpty(value))\n      result[fieldName] = 'This field is required'\n  }\n}\n\n/**\n * Verify the other address fields and set the corresponding errors if there are any.\n * @param location []\n * @param result\n */\nexport function verifyOtherAddressesFields(location, result) {\n  let i = 0;\n  for (const address of location) {\n    result[i] = {};\n    verifyAddressField(address, result[i]);\n    if (Object.entries(result[i]).length === 0) {\n      delete result[i];\n    }\n    i++;\n  }\n}\n\n/**\n * Validate postal code in parentField, put error message in errsContainer if there is one.\n * @param field\n * @param errsContainer\n * @param parentField\n */\nexport function validateAddressPostalCode(field, errsContainer, parentField) {\n  if (field) {\n    const postal_code_regex = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n    const is_postal_code_valid = postal_code_regex.test(field);\n    if (!is_postal_code_valid) {\n      errsContainer[parentField] = {\n        ...errsContainer[parentField],\n        'postal_code': \"Invalid postal code! They are in the format A1A 1A1, \" +\n          \"where A is a letter and 1 is a digit\"\n      };\n    }\n  }\n}\n\nexport function verifyEmail(field, fieldName, errsContainer){\n  const email_regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (!email_regex.test(field)) {\n    errsContainer[fieldName] = \"Invalid email! \".concat(\"They are in the format of jsmith@example.com\");\n  }\n}\n\nexport function verifyPhoneNumber(field, fieldName, errsContainer){\n  const phone_number_regex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\n  if (field && !phone_number_regex.test(field)){\n    errsContainer[fieldName] = \"Invalid phone number! They are in the format of NPA-NXX-XXXX \".concat(\n      \"where NPA is the three digit area code and NXX-XXXX is the seven digit subscriber number\"\n    )\n  }\n}\nexport function validateContactFormat(profile, errsContainer) {\n  // Verify email\n  if (profile.email) {\n    verifyEmail(profile.email,'email', errsContainer)\n  }\n  // Verify Phone number\n  if (profile.primary_phone_number || profile.alt_phone_number) {\n    verifyPhoneNumber(profile.primary_phone_number, 'primary_phone_number', errsContainer);\n    verifyPhoneNumber(profile.alt_phone_number, 'alt_phone_number', errsContainer);\n  }\n}\n\n/**\n * Verify the family fields and set the corresponding errors if there are any.\n * @param families []\n * @param result\n */\nexport function verifyFamilyFields(families, result) {\n  let i = 0;\n  for (const family of families) {\n    result[i] = {};\n    if (isFieldEmpty(family['relationship'])) {\n      result[i]['relationship'] = \"This field is required\";\n    }\n    for (const [field, value] of Object.entries(family['person'])) {\n      if (isFieldEmpty(value)) {\n        result[i][field] = \"This field is required\";\n      }\n    }\n    if (Object.entries(result[i]).length === 0) {\n      delete result[i];\n    }\n    i++;\n  }\n}\n\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst phoneNumberRegex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\nconst passwordRegex = /^.*(?=.{8,})((?=.*[!@#$%^&*()\\-_=+{};:,<.>]){1})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/;\nconst postalCodeRegex = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n\nconst EMAIL_ERR_MSG = \"Invalid email! They are in the format of jsmith@example.com\";\nconst PHONE_ERR_MSH = \"Invalid phone number! They are in the format of NPA-NXX-XXXX \" +\n  \"where NPA is the three digit area code and NXX-XXXX is the seven digit subscriber number\";\nconst PASSWORD_ERR_MSG = \"Please enter a secure and strong password\";\nconst POSTAL_CODE_ERR_MSG = \"Invalid postal code! They are in the format A1A 1A1, \" +\n  \"where A is a letter and 1 is a digit\";\n\nexport const Validator = {\n  /**\n   * @param email\n   * @returns {string|void} Return string iff fails. Otherwise return undefined.\n   */\n  email: email => {\n    if (!emailRegex.test(email)) {\n      return EMAIL_ERR_MSG;\n    }\n  },\n\n  phone: phone => {\n    if (!phoneNumberRegex.test(phone))\n      return PHONE_ERR_MSH;\n  },\n\n  password: password => {\n    if (!passwordRegex.test(password))\n      return PASSWORD_ERR_MSG;\n  },\n\n  postalCode: postalCode => {\n    if (!postalCodeRegex.test(postalCode))\n    return POSTAL_CODE_ERR_MSG;\n  }\n};\n","import { genderOptions } from '../store/defaults.js';\nimport { objectFlip } from '../helpers';\n\n// const providerTypeOptions = ['Individual', 'Organization']\n// const IndividualProviderOptions = ['Volunteer', 'Goods Donor', 'Professional Service Provider']\nexport const providerFormTypes = {\n  'organization': 'Organization',\n  'volunteer': 'Volunteer',\n  'goods_donor': 'Goods Donor',\n  'professional_service_provider': 'Professional Service Provider',\n};\n\nexport const allForms = {\n  client: 'Client',\n  ...providerFormTypes\n};\n\nexport const providerCategoryValue2Key = objectFlip(providerFormTypes);\n// const phoneTypes = ['Home', 'Cell', 'Work']\nconst providerStatus = ['External', 'Internal', 'Home Agency']\nconst commitmentOptions = ['Short term', 'Six months', 'One year']\n\nexport const providerFields = {\n  alt_phone_number: {component: 'GeneralField', type: 'tel', label: 'Alternative phone number'},\n  availability: {label: 'Availability'},\n  commitment: {component: 'SelectField', label: 'Commitment length', options: commitmentOptions},\n  company: {component: 'GeneralField', type: 'text', label: 'Company/Organization Name'},\n  email: {component: 'GeneralField', type: 'email', label: 'Email'},\n  first_name: {component: 'GeneralField', type: 'text', label: 'First Name'},\n  gender: {component: 'SelectField', label: 'Gender', options: genderOptions},\n  languages: {component: 'MultiSelectField', label: 'Languages'},\n  last_name: {component: 'GeneralField', type: 'text', label: 'Last Name'},\n  main_address: {label: 'Address'},\n  notes: {component: 'GeneralField', type: 'text', label: 'Additional notes '},\n  other_addresses: {label: 'Other Addresses'},\n  own_car: {component: 'RadioField', label: 'Own a car?', options: {'Yes': true, 'No': false}},\n  primary_contact: {label: 'Primary Contact'},\n  primary_phone_number: {component: 'GeneralField', type: 'tel', label: 'Primary phone number'},\n  reference1_email: {component: 'GeneralField', type: 'text', label: 'Reference 1 Email'},\n  reference1_name: {component: 'GeneralField', type: 'text', label: 'Reference 1 Name'},\n  reference1_phone: {component: 'GeneralField', type: 'text', label: 'Reference 1 phone'},\n  reference2_email: {component: 'GeneralField', type: 'text', label: 'Reference 2 Email'},\n  reference2_name: {component: 'GeneralField', type: 'text', label: 'Reference 2 Name'},\n  reference2_phone: {component: 'GeneralField', type: 'text', label: 'Reference 2 phone'},\n  referrer: {component: 'GeneralField', type: 'text', label: 'Referrer'},\n  secondary_contact: {label: 'Secondary Contact'},\n  skills: {component: 'GeneralField', type: 'text', label: 'Skills'},\n  start_date: {component: 'GeneralField', type: 'date', label: 'Start date for availability'},\n  status: {component: 'SelectField', label: 'Status', options: providerStatus},\n  visibility: {\n    component: 'RadioField',\n    label: 'Allow other agencies to see this provider?',\n    options: {'Yes': true, 'No': false}\n  },\n  sponsor: {component: 'GeneralField', type: 'text', label: 'Sponsor'}\n}\n","import { defaultOperationHour, operationHourListToObject } from \"../helpers/operation_hour_helpers\";\nimport { recursiveAssign } from \"../helpers\";\nimport { providerFormTypes } from \"./provider_fields\";\n\nexport const defaultProfileFields = {\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  preferred_name: '',\n  gender: '',\n  birth_date: null,\n  email: '',\n  primary_phone_number: '',\n  alt_phone_number: '',\n};\n\nexport const defaultContactFields = {\n  first_name: '',\n  last_name: '',\n  email: '',\n  primary_phone_number: '',\n  alt_phone_number: '',\n};\n\nexport const defaultLocationFields = {\n  street_address: '',\n  apt_number: '',\n  city: '',\n  province: '',\n  postal_code: ''\n};\n\nexport const defaultUserFields = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  email: '',\n  is_superuser: false,\n  primary_phone_number: '',\n  alt_phone_number: '',\n  password: ''\n};\n\n/**\n * @typedef SNMClient {{address: {street_address, province, city, apt_number, postal_code},\n * num_of_dependants: string, has_children: boolean, immigration_doc_number: string,\n * country_of_last_residence: string, profile: {primary_phone_number, gender,\n * alt_phone_number, birth_date, last_name, middle_name, first_name, preferred_name,\n * email}, other_languages: Array, income_source: string, country_of_origin: string,\n * completed_education_level: string, landing_date: string, marital_status: string,\n * eligibilities: Array, current_education_level: string, first_language: string,\n * file_id: string, num_of_children: string, pr_number: string, family: {members: Array},\n * arrival_date: string, status_in_canada: string}}\n *\n */\n\n/**\n *\n * @param client\n * @returns SNMClient\n */\nexport const generateClientField = (client) => {\n  const fields = {\n    profile: {...defaultProfileFields},\n    address: {...defaultLocationFields},\n    family: {members: []},\n    marital_status: '',\n    has_children: false,\n    num_of_children: '',\n    country_of_origin: '',\n    country_of_last_residence: '',\n    first_language: '',\n    other_languages: [],\n    pr_number: '',\n    immigration_doc_number: '',\n    landing_date: null, // make sure date and time has default null or new Date()\n    arrival_date: null,\n    status_in_canada: '',\n    income_source: '',\n    current_education_level: '',\n    completed_education_level: '',\n    num_of_dependants: '',\n    file_id: '',\n    ngo_conditions: [],\n  };\n\n  if (client) {\n    return recursiveAssign(fields, client);\n  }\n\n  return fields;\n};\n\nexport const generateProviderFields = (providerType, providerCategory, provider) => {\n  // operationHourListToObject(provider.operation_hours)\n  const fields = {\n    type: providerType,\n    category: providerFormTypes[providerCategory] || '',\n    languages: [],\n    company: '',\n    email: '',\n    primary_phone_number: '',\n    alt_phone_number: '',\n    primary_contact: {profile: {...defaultContactFields}},\n    secondary_contact: {profile: {...defaultContactFields}},\n    main_address: {...defaultLocationFields},\n    other_addresses: [],\n    operation_hours: {...defaultOperationHour},\n    operation_dates: [{start_date: null, end_date: null}],\n    profile: {...defaultProfileFields},\n    referrer: '',\n    own_car: false,\n    skills: '',\n    visibility: false,\n    status: '',\n    notes: '',\n    commitment: '',\n    start_date: '',\n    reference1_name: '',\n    reference1_phone: '',\n    reference1_email: '',\n    reference2_name: '',\n    reference2_phone: '',\n    reference2_email: '',\n    responses: []\n  };\n  if (provider) {\n    const data = {...recursiveAssign(fields, provider)};\n    data.operation_hours = {...defaultOperationHour, ...operationHourListToObject(provider.operation_hours)};\n    // const responses = {};\n    // data.responses.forEach(({}) => {});\n    // data.responses = data\n    console.log(data);\n    return data;\n  }\n  return fields;\n};\n","import React, { useState } from 'react';\nimport { Button, FormLabel, Alert } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { FieldsWrapper } from \"./index\";\nimport LocationFieldGroup from \"./LocationFieldGroup\";\nimport { defaultLocationFields } from \"../../constants/default_fields\";\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: '10px 0',\n  }\n}));\n\nfunction LocationFields({index, location, handleRemove, required, errMsg = {}}) {\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleChange = name => e => {\n    location[name] = e.target.value;\n  };\n\n  return (\n    <div style={{paddingBottom: 10}}>\n      <FormLabel component=\"legend\">\n        Other address #{index + 1 + '  '}\n        <Button\n          onClick={e => {\n            handleRemove(index);\n            forceUpdate();\n          }}\n          color=\"secondary\"\n        >\n          Remove\n        </Button>\n      </FormLabel>\n      <FieldsWrapper key=\"main_address\">\n        <LocationFieldGroup\n          address={location}\n          handleChange={handleChange}\n          required={required}\n          errMsg={errMsg}\n        />\n      </FieldsWrapper>\n    </div>\n  )\n}\n\nexport default function OtherLocationsFields({otherLocations, clientId, required, errMsg = {}}) {\n  const classes = useStyles();\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(otherLocations);\n  const forceUpdate = () => update(!state);\n\n  const handleAdd = () => {\n    otherLocations.push({...defaultLocationFields});\n    forceUpdate();\n  };\n\n  const handleRemove = (index) => {\n    console.log('remove', index, otherLocations[index])\n    otherLocations.splice(index, 1);\n    forceUpdate();\n  };\n\n  return (\n    <div>\n      {errMsg && typeof errMsg === 'string' &&\n        <Alert severity=\"error\">{errMsg}</Alert>}\n      {otherLocations.map((location, index) => {\n        return (\n          <LocationFields\n            key={index}\n            index={index}\n            location={location}\n            clientId={clientId}\n            handleRemove={handleRemove}\n            required={required}\n            size={otherLocations.length}\n            errMsg={errMsg[index]}\n          />\n        )\n      })}\n      <Button className={classes.button} onClick={handleAdd} variant=\"outlined\">\n        Add other address\n      </Button>\n\n    </div>\n  );\n}\n","import { Checkbox, TableCell, TableHead, TableRow, TableSortLabel } from \"@mui/material\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport function EnhancedTableHead(props) {\n  const {\n    classes, onSelectAllClick, order, orderBy, numSelected,\n    rowCount, onRequestSort, columns\n  } = props;\n  const createSortHandler = (getFieldValueFn) => (event) => {\n    onRequestSort(event, getFieldValueFn);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\" key={0}>\n          <Checkbox\n            color=\"primary\"\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{\n              'aria-label': 'select all desserts',\n            }}\n          />\n        </TableCell>\n        {columns.map((headCell, idx) => (\n          <TableCell\n            key={idx + 1}\n            style={headCell.style}\n            sortDirection={orderBy === (headCell.sortBy || headCell.body) ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === (headCell.sortBy || headCell.body)}\n              direction={orderBy === (headCell.sortBy || headCell.body) ? order : 'asc'}\n              onClick={createSortHandler(headCell.sortBy || headCell.body)}\n            >\n              {headCell.label}\n              {orderBy === headCell.label ? (\n                <span className={classes.sortSpan}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.func.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n","import { IconButton, lighten, Toolbar, Tooltip, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport clsx from \"clsx\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.mode === 'light'\n      ? {\n        color: theme.palette.primary.main,\n        backgroundColor: lighten(theme.palette.primary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  title: {\n    flex: '1 1 100%',\n  },\n}));\n\nexport const EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, title, onDelete, customToolbar} = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          {title}\n        </Typography>\n      )}\n\n      {numSelected > 0 && (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\" onClick={onDelete} size=\"large\">\n            <DeleteIcon/>\n          </IconButton>\n        </Tooltip>\n      )}\n\n      <Tooltip title=\"Search\">\n        <IconButton aria-label=\"search list\" size=\"large\">\n          <SearchIcon/>\n        </IconButton>\n      </Tooltip>\n      {customToolbar}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  onDelete: PropTypes.func,\n};\n","import React from \"react\";\nimport {\n  Checkbox,\n  lighten,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { visuallyHidden } from \"@mui/utils\";\nimport { EnhancedTableHead } from \"./EnhancedTableHead\";\nimport { EnhancedTableToolbar } from \"./EnhancedTableToolbar\";\n\nfunction descendingComparator(a, b, getValue, extraData) {\n  b = getValue(b, extraData) || '';\n  a = getValue(a, extraData) || '';\n  if (b < a) {\n    return -1;\n  }\n  if (b > a) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy, extraData) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy, extraData)\n    : (a, b) => -descendingComparator(a, b, orderBy, extraData);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    width: '100%',\n  },\n  table: {\n    minWidth: 750,\n  },\n  // TODO fix #20379.\n  sortSpan: visuallyHidden,\n  tableRow: {\n    '&.Mui-selected': {\n      backgroundColor: lighten(theme.palette.primary.light, 0.85),\n    },\n    '&.Mui-selected:hover': {\n      backgroundColor: lighten(theme.palette.primary.light, 0.80),\n    }\n  }\n}));\n\nexport function EnhancedTable({data, title, columns, height, ...props}) {\n  const {\n    rowsPerPageOptions = [10, 25, 100],\n    idField = '_id',\n    defaultOrderBy = columns[0].sortBy || columns[0].body,\n    extraData = {},\n    rowStyle,\n    onDelete,\n    onChangePage, onChangeRowsPerPage,\n    customToolbar\n  } = props;\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState(() => defaultOrderBy);\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(rowsPerPageOptions[0]);\n\n  const handleRequestSort = (event, getFieldValueFn) => {\n    const isAsc = orderBy === getFieldValueFn && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(() => getFieldValueFn);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      setSelected(data.map(item => item[idField]));\n      return;\n    }\n    setSelected([]);\n  };\n\n  const handleClick = (event, id) => {\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n\n    // Invoke listeners\n    if (onChangePage)\n      onChangePage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    const rowsPerPage = parseInt(event.target.value, 10);\n    setRowsPerPage(rowsPerPage);\n    setPage(0);\n\n    // Invoke listeners\n    if (onChangePage)\n      onChangePage(0);\n    if (onChangeRowsPerPage)\n      onChangeRowsPerPage(rowsPerPage)\n  };\n\n  const isSelected = (id) => selected.indexOf(id) !== -1;\n\n  const handleDelete = async () => {\n    // TODO: Show delete progressively.\n    if (onDelete) {\n      await onDelete(selected);\n      for (const id of selected) {\n        data.splice(data.findIndex(item => item._id === id), 1);\n      }\n      setSelected([]);\n    }\n  }\n\n  // Avoid a layout jump when reaching the last page with empty rows.\n  const emptyRows =\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - data.length) : 0;\n\n  return (\n    <Paper elevation={5} className={classes.paper}>\n      <EnhancedTableToolbar title={title} numSelected={selected.length} onDelete={handleDelete}\n                            customToolbar={customToolbar}/>\n      <TableContainer style={{maxHeight: height || 'calc(100vh - 228px)'}}>\n        <Table\n          stickyHeader\n          className={classes.table}\n          size=\"medium\"\n        >\n          <EnhancedTableHead\n            classes={classes}\n            numSelected={selected.length}\n            order={order}\n            orderBy={orderBy}\n            onSelectAllClick={handleSelectAllClick}\n            onRequestSort={handleRequestSort}\n            rowCount={data.length}\n            columns={columns}\n          />\n          <TableBody>\n            {stableSort(data, getComparator(order, orderBy, extraData))\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((row) => {\n                const id = row[idField];\n                const isItemSelected = isSelected(id);\n                return (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    role=\"checkbox\"\n                    aria-checked={isItemSelected}\n                    tabIndex={-1}\n                    key={id}\n                    selected={isItemSelected}\n                    style={rowStyle && rowStyle(row)}\n                  >\n                    <TableCell padding=\"checkbox\" key={0}>\n                      <Checkbox\n                        color=\"primary\"\n                        onClick={(event) => handleClick(event, id)}\n                        checked={isItemSelected}\n                      />\n                    </TableCell>\n                    {columns.map((cell, idx) => <TableCell style={cell.style}\n                                                           key={idx + 1}>{cell.body(row, extraData)}</TableCell>)}\n                  </TableRow>\n                );\n              })}\n            {emptyRows > 0 && (\n              <TableRow\n                style={{\n                  height: 53 * emptyRows,\n                }}\n              >\n                <TableCell colSpan={6}/>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={rowsPerPageOptions}\n        component=\"div\"\n        count={data.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n","import React, { useState } from 'react';\nimport { Menu, MenuItem, CircularProgress, Typography, Chip } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\nimport { Link as DomLink, useHistory } from 'react-router-dom';\nimport { Add as AddIcon, CloudUpload as UploadIcon } from '@mui/icons-material';\nimport GoogleMap from './GoogleMap';\nimport CSVUploadModal from './CSVUploadModal';\nimport DeleteModal from './DeleteModal';\nimport DropdownMenu from './DropdownMenu';\nimport GenericPage from './GenericPage';\nimport FormStepper from './FormStepper';\nimport FieldsWrapper from \"./FieldsWrapper\";\nimport OtherLocationsFields from \"./OtherLocationsFields\";\n\nimport { providerFormTypes } from '../../constants/provider_fields.js'\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    color: 'inherit',\n    textDecorationLine: 'none',\n  },\n  linkWithHover: {\n    fontWeight: 500,\n    color: 'inherit',\n    // textDecorationLine: 'none',\n    '&:hover': {\n      textDecorationLine: 'underline',\n      color: '#2f5ac7'\n    }\n  },\n  progress: {\n    margin: theme.spacing(2),\n    marginTop: 50,\n  },\n  chipButton: {\n    paddingLeft: 6,\n    marginLeft: 6,\n  }\n}));\n\nexport function Link({className = '', color, ...props}) {\n  const classes = useStyles();\n  return <DomLink {...props} className={color ? classes.linkWithHover : classes.link + ' ' + className}/>\n}\n\n/**\n * Used by DataTable. Add \"add button\" and \"upload by CSV button\"\n * @param onClick\n * @returns {*}\n * @constructor\n */\nexport function CustomToolbar({handleAdd, handleUpload, type}) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLink = link => () => {\n    history.push(link);\n  };\n\n  return (\n    <>\n      <Chip onClick={handleUpload}\n            color=\"default\"\n            icon={<UploadIcon/>}\n            label=\"Upload\"\n            variant=\"outlined\"\n            className={classes.chipButton}\n      />\n      <Chip onClick={type === 'providers' ? handleClick : handleAdd}\n            color=\"primary\"\n            icon={<AddIcon/>}\n            label=\"Add\"\n            variant=\"outlined\"\n            className={classes.chipButton}\n      />\n\n      {/*For Providers */}\n      {type === 'providers' &&\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n      >\n        {Object.entries(providerFormTypes).map(([value, formType]) =>\n          <MenuItem key={formType} onClick={handleLink(`/providers/${value}/new`)}>\n            {formType}\n          </MenuItem>)\n        }\n      </Menu>\n      }\n    </>\n  );\n}\n\nexport function Loading({message = 'Loading Components...'}) {\n  const classes = useStyles();\n  return (\n    <div style={{textAlign: 'center'}}>\n      <CircularProgress className={classes.progress}/>\n      <Typography variant=\"subtitle2\" color={\"textSecondary\"}>\n        {message}\n      </Typography>\n    </div>\n  );\n}\n\n\nexport {\n  GoogleMap, CSVUploadModal, DeleteModal, DropdownMenu, GenericPage, FormStepper, FieldsWrapper,\n  OtherLocationsFields\n}\nexport {EnhancedTable as DataTable} from './Table';\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { AppBar, Toolbar, Typography, Button, Tabs, Tab, Box } from '@mui/material';\nimport { Link } from \"../shared\";\n\n// redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout } from '../../store/actions/authAction.js';\nimport styled from \"@emotion/styled\";\n\nconst StyledTabs = styled(Tabs)({\n  '& .MuiTabs-indicator': {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: '#ccc',\n    transition: 'none',\n  },\n});\n\nconst StyledTab = styled(Tab)(({theme}) => ({\n  textTransform: 'none',\n  fontWeight: theme.typography.fontWeightRegular,\n  fontSize: theme.typography.pxToRem(15),\n  marginRight: theme.spacing(1),\n  minWidth: 60,\n  color: 'rgba(255, 255, 255, 0.8)',\n  '&.Mui-selected': {\n    color: '#fff',\n    fontWeight: 500,\n    backgroundColor: '#cccccc26',\n  },\n}));\n\nfunction NavTab(props) {\n  const history = useHistory();\n  return <StyledTab {...props} onClick={() => history.push(props.value)}/>\n}\n\nfunction TopNavBar() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {isLoggedin} = useSelector(state => state.auth);\n  const tabNames = ['/clients', '/services', '/goods', '/providers', '/reporting'];\n  const [value, setValue] = useState(\n    tabNames.indexOf(history.location.pathname) !== -1 ? history.location.pathname : false,\n  );\n\n  useEffect(() => {\n    setValue(tabNames.indexOf(history.location.pathname) !== -1 ? history.location.pathname : false);\n  }, [history.location.pathname, tabNames]);\n\n  const tabOnChange = (e, newValue) => {\n    setValue(newValue);\n    history.push(newValue);\n  };\n\n  return (\n    <AppBar position=\"fixed\" sx={{backgroundColor: 'rgb(39, 44, 52)'}}>\n      <Toolbar variant=\"dense\">\n        {isLoggedin ? (\n          <StyledTabs sx={{flexGrow: 2}} value={value} onChange={tabOnChange} variant=\"scrollable\"\n                      indicatorColor='secondary'>\n            <NavTab label=\"Clients\" value=\"/clients\"/>\n            <NavTab label=\"Services\" value=\"/services\"/>\n            <NavTab label=\"Goods\" value=\"/goods\"/>\n            <NavTab label=\"Providers\" value=\"/providers\"/>\n            <NavTab label=\"Reporting\" value=\"/reporting\"/>\n            <Tab sx={{display: 'none'}} label=\"\" value=\"none\"/>\n          </StyledTabs>\n        ) : null}\n\n        {isLoggedin && (\n          <Box sx={{\n            paddingRight: '20px',\n            whiteSpace: 'pre',\n            textDecorationLine: 'none',\n          }}>\n            <Link to={\"/dashboard\"} onClick={() => setValue('none')}>\n              <Typography>\n                Dashboard\n              </Typography>\n            </Link>\n          </Box>\n        )}\n\n        <Button color=\"inherit\" onClick={() => isLoggedin ? dispatch(logout()) : history.push('/login')}\n                sx={{\n                  marginLeft: 'auto',\n                  textDecorationLine: 'none',\n                  whiteSpace: 'pre'\n                }}>\n          {isLoggedin ? 'Log out' : 'Login'}\n        </Button>\n\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default TopNavBar;\n","import React from 'react';\nimport { Typography, Link, Box } from \"@mui/material\";\n\nexport default function () {\n  return (\n    <Box sx={{\n      position: 'fixed',\n      left: '0',\n      bottom: '0',\n      width: '100%',\n      backgroundColor: '#222',\n      color: '#aaa',\n      textAlign: 'center',\n      borderRadius: '2px 2px 0 0',\n      alignContent: 'center',\n      padding: '4px',\n      '@media print': {\n        display: 'none'\n      }\n    }}>\n      <Typography variant=\"caption\">\n        <Link href=\"https://csse.utoronto.ca/\" target=\"_blank\" sx={{color: \"#ababab\", textDecoration: 'none'}}>\n          Centre for Social Services Engineering\n        </Link>, University of Toronto\n      </Typography>\n    </Box>\n  );\n};\n","import React, { Component } from 'react'\n\nclass Landing extends Component {\n  render() {\n    return(\n      <div className=\"landing\">\n        <div className=\"container\">\n          <div className=\"intro-placeholder\">\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Landing;\n","import React from 'react'\nimport { Typography, Button, Container, Grid } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Link } from './shared';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    paddingTop: 80,\n    maxWidth: '500px',\n  },\n  button: {\n    width: 300,\n  },\n}));\n\nfunction Login() {\n  const classes = useStyles();\n  return (\n    <Container className={classes.container}>\n      <Grid container direction=\"column\" spacing={3} alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h5\">\n            Log in to your Dashboard\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button variant=\"outlined\" className={classes.button}>\n              Sign in with SNM account\n            </Button>\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button color=\"primary\" variant=\"outlined\" className={classes.button}>\n              Facebook\n            </Button>\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button color=\"secondary\" variant=\"outlined\" className={classes.button}>\n              Google\n            </Button>\n          </Link>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react'\nimport { useHistory } from \"react-router\";\n\nimport { TextField, Container, Paper, Typography, Button, Divider } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Link } from './shared';\n\nimport { login, LOGIN_SUCCESS } from '../store/actions/authAction';\nimport { useDispatch } from \"react-redux\";\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    paddingTop: 80,\n    maxWidth: '500px'\n  },\n  paper: {\n    padding: 30,\n  },\n  item: {\n    marginTop: 20,\n  },\n  button: {\n    marginTop: 30,\n    marginBottom: 20,\n  },\n  link: {\n    marginTop: 10,\n    color: '#007dff',\n  }\n}));\n\nfunction LoginPane() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({username: '', password: '', alert: ''});\n\n  const onChange = name => e => {\n    const value = e.target.value;\n    setForm(prev => ({...prev, [name]: value}));\n  };\n\n  const submit = async () => {\n    const {status, message} = await dispatch(login(form));\n    if (status === LOGIN_SUCCESS) {\n      history.push('/dashboard');\n    } else {\n      setForm(prev => ({...prev, alert: message}));\n    }\n  };\n\n  const onKeyPress = event => {\n    if (event.key === \"Enter\") {\n      submit();\n    }\n  };\n\n  return (\n    <Container className={classes.container} onKeyPress={onKeyPress}>\n      <Paper elevation={5} className={classes.paper}>\n        <Typography variant=\"h6\">\n          Sign in\n        </Typography>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          label=\"Username\"\n          type=\"text\"\n          value={form.username}\n          onChange={onChange('username')}\n          className={classes.item}\n        />\n        <br/>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          label=\"Password\"\n          type=\"password\"\n          value={form.password}\n          onChange={onChange('password')}\n          className={classes.item}\n        />\n        <br/>\n        <Typography variant=\"caption\">\n          <span style={{color: 'red'}}>{form.alert}</span>\n        </Typography>\n        <br/>\n        <Button variant=\"outlined\" color=\"primary\" className={classes.button} onClick={submit}> Log in</Button>\n        <Divider/>\n        <Link to={'/login-pane'}>\n          <Typography variant=\"body2\" className={classes.link}>\n            Don't have an account?\n          </Typography>\n        </Link>\n\n        <Link to={'/login-pane'}>\n          <Typography variant=\"body2\" className={classes.link}>\n            Forget password?\n          </Typography>\n        </Link>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default LoginPane;\n","import React from 'react';\nimport { Link } from './shared'\n\n// redux\nimport { useSelector } from 'react-redux';\n\nimport { Container, Button } from \"@mui/material\";\nimport { Edit, Create, People, ViewHeadline as Log, CheckCircleOutline as Criteria} from \"@mui/icons-material\";\n\nfunction NavButton({to, text, icon}) {\n  return (\n    <Link to={to}>\n      <Button\n        sx={{\n          width: 300,\n          height: 100,\n          textTransform: 'none',\n          margin: 1,\n          color: '#535353'\n        }}\n        color=\"inherit\"\n        variant=\"outlined\"\n        startIcon={icon}\n        size=\"large\">\n        {text}\n      </Button>\n    </Link>\n  );\n}\n\nfunction Dashboard() {\n  const {isLoggedin, currentUser, organization} = useSelector(state => state.auth);\n  if (!isLoggedin || !currentUser.is_admin)\n    return <span>\"You don't have the permission to view this page.\"</span>;\n\n  return (\n    <Container maxWidth=\"md\" sx={{\n      paddingTop: 8,\n      textAlign: 'center',\n    }}>\n\n      {!organization.id &&\n      <NavButton to={{pathname: '/providers/organization/new', state: {status: 'Home Agency'}}}\n                 text=\"Create Organization Profile for Home Agency\" icon={<Create/>}/>}\n\n      {organization.id &&\n      <NavButton to={`/provider/${organization.id}/edit/organization`} icon={<Edit/>}\n                 text=\"Edit Organization Profile for Home Agency\"/>}\n\n      <NavButton to={`/users`} icon={<People/>}\n                 text=\"Manage Users\"/>\n\n      <NavButton to={`/admin-logs`} icon={<Log/>}\n                 text=\"Admin Logs\"/>\n\n      <NavButton to={`/eligibility-criteria`} icon={<Criteria/>}\n                 text=\"Manage Eligibility Criteria\"/>\n\n      <NavButton to={'/settings/manage-fields'} icon={<Edit/>}\n                 text=\"Manage Client/Provider Fields\"/>\n\n      <NavButton to={'/questions'} icon={<Edit/>}\n                 text=\"Manage Questions\"/>\n\n    </Container>\n  )\n}\n\nexport default Dashboard;\n","export class BrowserStore {\n  constructor(name, defaultValue) {\n    this.name = name;\n    const rawData = localStorage.getItem(this.name);\n    this.store = rawData && JSON.parse(rawData) || defaultValue;\n  }\n\n  get value() {\n    console.log('GET ', this.name, this.store);\n    return this.store;\n  }\n\n  set value(newValue) {\n    console.log('SET ', this.name, newValue);\n    this.store = newValue;\n    localStorage.setItem(this.name, JSON.stringify(newValue));\n  }\n\n  save() {\n    localStorage.setItem(this.name, JSON.stringify(this.store));\n  }\n}\n\nexport class BrowserCounterStore {\n  constructor(name, startNumber = 0) {\n    this.name = name + '-cnt';\n    this.store = Number(localStorage.getItem(this.name)) || (startNumber - 1);\n  }\n\n  get nextCnt() {\n    this.store++;\n    localStorage.setItem(this.name, this.store);\n    return this.store;\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../store/defaults.js';\nimport { resolve } from \"chart.js/helpers\";\n\nexport const ACTION_SUCCESS = 'ACTION_SUCCESS';\nexport const ACTION_ERROR = 'ACTION_ERROR';\n\nexport const headers = {\n  Authorization: `JWT ${localStorage.getItem('jwt_token')}`\n};\n\nconst normalizeError = (err) => {\n  for (const [key, value] of Object.entries(err)) {\n    if (value != null && typeof value === 'object' && !Array.isArray(value)) {\n      err[key] = normalizeError(value);\n    } else {\n      err[key] = value[0];\n    }\n  }\n  return err;\n};\n\nexport async function getJson(url) {\n  url = serverHost + url;\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n    },\n  });\n  if (response.status >= 400 && response.status < 600) {\n    const e = new Error(\"Bad response from server: \" + response.status);\n    e.json = normalizeError(await response.json());\n    throw e;\n  }\n  return response.json();\n}\n\nasync function sendJson(url, body, method, rawResponse = false) {\n  url = serverHost + url;\n  const response = await fetch(url, {\n    method,\n    body: JSON.stringify(body),\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n    },\n  });\n  if (response.status >= 400 && response.status < 600) {\n    const e = new Error(\"Bad response from server: \" + response.status);\n    e.json = normalizeError(await response.json());\n    throw e;\n  }\n  if (rawResponse)\n    return response;\n  return response.json();\n}\n\nexport async function postJson(url, body) {\n  return sendJson(url, body, 'POST');\n}\n\nexport async function putJson(url, body) {\n  return sendJson(url, body, 'PUT');\n}\n\n// return raw response\nexport async function deleteJson(url, body) {\n  return sendJson(url, body, 'DELETE', true);\n}\n\nexport function sleep(milliseconds) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, milliseconds)\n  })\n}","import { BrowserStore, BrowserCounterStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst clientsStore = new BrowserStore('clients', []);\nconst clientCnt = new BrowserCounterStore('client');\n\nexport async function fetchClients() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(clientsStore.value));\n}\n\nexport async function fetchClient(id) {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(clientsStore.value.find(client => client.id === Number(id))));\n}\n\n\nexport async function createClient(newClientData) {\n  await sleep(200);\n  const newClient = {\n    id: clientCnt.nextCnt,\n    need_groups: [],\n    appointments: [],\n    ...newClientData\n  };\n  clientsStore.value = [...clientsStore.value, newClient];\n  return {success: true, clientId: newClient.id};\n  // return {success: false, error: 'error message here'}\n}\n\nexport async function updateClient(id, updatedClient) {\n  await sleep(200);\n  Object.assign(clientsStore.value.find(client => client.id === Number(id)), updatedClient);\n  clientsStore.save();\n  return {success: true, clientId: id};\n  // return {success: false, error: 'error message here'}\n}\n\n\nexport async function deleteClient(updatedClient) {\n  await sleep(200);\n  const idx = clientsStore.value.findIndex(client => client.id === updatedClient.id);\n  clientsStore.value.splice(idx, 1)\n  clientsStore.save();\n  return {success: true}\n}\n","export function formatLocation(location) {\n  if (Object.keys(location).length === 1) {\n    return \"Not Provided\"\n  }\n\n  let format_location = ''\n  if (location.apt_number !== undefined){\n    format_location += `${location.apt_number}-`\n  }\n  if (location.street_address !== undefined){\n    format_location += `${location.street_address}, `\n  }\n  if (location.city !== undefined)\n    format_location += `${location.city}, `\n  if (location.province !== undefined)\n    format_location += `${location.province}, `\n  if (location.postal_code !== undefined)\n    format_location += `${location.postal_code}`\n  return format_location\n}\n","export function formatPhoneNumber(number) {\n  try {\n    const codes = number.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return \"(\" + codes[1] + \") \" + codes[2] + \"-\" + codes[3];\n  } catch (e) {\n    return number;\n  }\n}\n","import React from 'react';\n\n// TODO: createClients  (CSV Upload)\nimport { fetchClients, deleteClient } from '../api/mockedApi/clients'\n\nimport { formatLocation } from '../helpers/location_helpers'\nimport { formatPhoneNumber } from '../helpers/phone_number_helpers'\n\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'clients';\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    label: 'First Name',\n    body: ({id, profile}) => {\n      return <Link color to={`/${TYPE}/${id}`}>{profile.first_name}</Link>\n    }\n  },\n  {\n    label: 'Last Name',\n    body: ({profile}) => {\n      return profile.last_name;\n    }\n  },\n  {\n    name: 'profile.primary_phone_number',\n    label: 'Phone Number',\n    body: ({profile}) => {\n      if (profile.primary_phone_number)\n        return formatPhoneNumber(profile.primary_phone_number);\n      return 'Not Provided';\n    },\n  },\n  {\n    label: 'Email',\n    body: ({profile}) => {\n      return profile.email;\n    }\n  },\n  {\n    label: 'Address',\n    body: ({profile}) => {\n      if (profile.address)\n        return formatLocation(profile.address);\n      return 'Not Provided';\n    }\n  },\n];\n\nexport default function Clients() {\n\n  const nameFormatter = (client) => {\n    return client.profile.first_name + ' ' + client.profile.last_name;\n  };\n\n  const generateMarkers = (clients, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageClients = clients.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageClients.map(client => ({\n      position: {lat: Number(client.address.lat), lng: Number(client.address.lng)},\n      title: nameFormatter(client),\n      link: `/${TYPE}/${client.id}`,\n      content: client.address && formatLocation(client.address),\n    })).filter(client => client.position.lat && client.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchClients}\n      deleteItem={deleteClient}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  Button, Box, Accordion, AccordionSummary, AccordionDetails, Typography, Paper, Grid\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Link } from '../shared'\nimport { updateClientNeedGroup } from \"../../store/actions/needActions\";\n\n//icons\nimport { Edit, PriorityHigh, Delete, Alarm, ExpandMoreOutlined } from \"@mui/icons-material\";\n\n\nexport default function NeedGroupPanel(props) {\n  const {\n    needGroupCategory, needs, needGroupId, status,\n    clientId, handleShow\n  } = props;\n  const dispatch = useDispatch();\n\n\n  const [state, setState] = useState({\n    status: status,\n    hasUrgentNeed: anyUrgentNeed(needs)\n  })\n  const changeNeedGroupCategoryStatus = () => {\n    const need_group = {\n      category: needGroupCategory,\n      status: (state.status === \"Unmet\") ? \"Met\" : \"Unmet\",\n      client_id: clientId,\n      id: needGroupId\n    }\n    setState(state => ({...state, status: need_group.status}))\n    dispatch(updateClientNeedGroup(clientId, need_group.id, need_group));\n\n  }\n\n  const classes = useStyles();\n\n  const needsUnderCat = needs.map(need =>\n    <Paper key={need.id}\n           variant={\"outlined\"}\n    >\n      <Grid container spacing={3} className={classes.innerBox}>\n        <Grid item xs>\n          <Typography color={'primary'}>{need.type}</Typography>\n        </Grid>\n        <Grid item xs>\n        </Grid>\n        {need.is_urgent && (\n          <Grid item xs>\n            <Box display=\"flex\" flexDirection={\"row\"}>\n              <Alarm className={classes.highPriority}></Alarm>\n              <Typography className={classes.highPriority}>Urgent</Typography>\n            </Box>\n          </Grid>\n        )}\n      </Grid>\n\n      <Box className={classes.innerBox}>\n        <Link color to={`/needs/${need.id}`}>\n          Find Services/Goods\n        </Link>\n        <p>{need.description}</p>\n      </Box>\n\n      <Box display='flex' className={classes.innerBox}>\n        <Box>\n          <Link to={`/needs/${need.id}/edit`}>\n            <Button\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n        </Box>\n\n        <Box>\n          <Button\n            startIcon={<Delete/>}\n            onClick={() => handleShow(need.id)}\n          >\n            Delete\n          </Button>\n        </Box>\n\n        <Box>\n          <Button\n            color={\"secondary\"}\n            onClick={() => changeNeedGroupCategoryStatus()}>\n            {state.status}\n          </Button>\n        </Box>\n      </Box>\n\n    </Paper>\n  )\n\n  return (\n    <div>\n      <Accordion className={classes.panel}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreOutlined/>}\n          aria-controls={needGroupCategory + \"-content\"}\n          id={needGroupCategory + \"-header\"}\n        >\n          <Box display=\"flex\" flexDirection={\"row\"} className={classes.column}>\n            <Typography className={classes.heading}>{needGroupCategory}</Typography>\n            {state.hasUrgentNeed && <PriorityHigh className={classes.highPriority}></PriorityHigh>}\n          </Box>\n          <div className={classes.column}>\n            <Typography className={classes.secondaryHeading}>{needs.length} need(s) inside </Typography>\n          </div>\n        </AccordionSummary>\n        <AccordionDetails className={classes.panelDetail}>\n          <Box className={classes.outerBox}>\n            {needsUnderCat}\n          </Box>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(12),\n    color: theme.palette.text.secondary,\n  },\n  column: {\n    flexBasis: '50%',\n  },\n  panel: {\n    width: '35%',\n  },\n  panelDetail: {\n    padding: 0\n  },\n  outerBox: {\n    width: '100%'\n  },\n  innerBox: {\n    padding: \"10px\"\n  },\n  highPriority: {\n    color: \"#f44336\"\n  },\n\n\n}));\n\nfunction anyUrgentNeed(needs) {\n  for (let need of needs) {\n    if (need.is_urgent) {\n      return true;\n    }\n  }\n  return false;\n}","import React, { useState} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteClientNeed, ERROR } from \"../store/actions/needActions\";\nimport DeleteModal from \"./shared/DeleteModal\";\nimport NeedGroupPanel from \"./client_needs/NeedGroupPanel\";\n\nexport default function ClientNeeds(props) {\n  const {clientId, needGroups} = props;\n  const dispatch = useDispatch();\n\n  const [state, setState] = useState({\n    show: false,\n    selectedId: null,\n    needGroupData: needGroups,\n  });\n\n  const handleHide = () => {\n    setState( state => ({\n        ...state,\n        showDeletedDiaglog: false\n      }));\n  }\n\n  const handleShow = (id) => {\n    setState(state => ({\n        ...state,\n        showDeletedDiaglog:true,\n        selectedId:id\n      })\n    )\n  }\n\n  const needsByNeedGroup = state.needGroupData.map(need_group =>\n    <NeedGroupPanel\n      key={need_group.id}\n      needGroupCategory={need_group.category}\n      needs={need_group.needs}\n      needGroupId={need_group.id}\n      status={need_group.status}\n      clientId={clientId}\n      handleShow={handleShow}\n    />\n  );\n\n\n  const handleDelete = (id, form) => {\n    dispatch(deleteClientNeed(clientId, id, form)).then((status) => {\n      if (status === ERROR) {\n        // this.setState({ displayError: true });\n      } else {\n        setState( state => ({\n          ...state,\n          showDeletedDiaglog: false,\n          needGroupData: deleteNeedInData(state.selectedId)\n        }));\n      }\n    });\n  }\n\n  const deleteNeedInData = (id) => {\n    let copy = [...state.needGroupData]\n    for (const need_cat of copy){\n      for (const need of need_cat.needs){\n        if(need.id === state.selectedId){\n          //Delete need corresponding to selectedId\n          const idx = need_cat.needs.indexOf(need);\n          if (idx > -1){\n            need_cat.needs.splice(idx,1);\n          }\n        }\n      }\n      if (need_cat.needs.length === 0){\n        //If there are no needs under this category, delete the category as well.\n        const idx = copy.indexOf(need_cat);\n        if (idx > -1){\n          copy.splice(idx,1);\n        }\n      }\n    }\n    return copy;\n  }\n\n  if (state) {\n    return (\n      <div>\n          {needsByNeedGroup}\n        <DeleteModal\n          contentType='Need'\n          objectId={state.selectedId}\n          show={state.showDeletedDiaglog}\n          onHide={handleHide}\n          delete={handleDelete}\n          title = {\"Delete this need?\"}\n        />\n      </div>\n      )\n\n  } else {\n    return '';\n  }\n}\n","import React from 'react';\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\n\n\nexport default function TR({ title, value }) {\n  if (value) {\n    return (\n      <TableRow key={title}>\n        <TableCell component=\"th\" scope=\"row\">\n          {title}\n        </TableCell>\n        <TableCell align=\"left\">{value}</TableCell>\n      </TableRow>\n    );\n  } else {\n    return null;\n  }\n}\n","import { makeStyles } from \"@mui/styles\";\n\nconst useProfileTableStyles = makeStyles({\n  table: {\n    marginTop: 20,\n    marginBottom: 40,\n    width: '80%'\n  },\n  title: {\n    backgroundColor: '#ececec',\n    width: '30%'\n  },\n\n  title2: {\n    backgroundColor: '#ececec',\n    width: '70%'\n  },\n\n});\n\nexport default useProfileTableStyles;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport TR from '../../shared/TR';\n\nimport { formatLocation } from '../../../helpers/location_helpers';\nimport { formatPhoneNumber } from '../../../helpers/phone_number_helpers';\n\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from \"@mui/material\"\n\nimport useProfileTableStyles from '../../../stylesheets/profile-table'\n\nexport default function ClientInfoTable({ step, client, infoFields, clientFields }) {\n\n  let rowTitle, rowValue;\n  const infoRows = _.map(infoFields, infoField => {\n\n\n    rowTitle = clientFields[infoField].label;\n    // console.log(\"%%%%%%%%% clientFields[infoField].label\", clientFields[infoField].label);\n\n    switch(infoField) {\n        case 'first_name':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField];\n        // console.log(\"$$$$$$ infoField, rowValue, client.profile  $$ \",infoField, rowValue,  client.profile);\n        }\n        break;\n      case 'middle_name':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile  $$  \", infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'last_name':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'preferred_name':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'gender':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'birth_date':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'email':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'primary_phone_number':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField];\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        }\n        break;\n      case 'alt_phone_number':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField] ? formatPhoneNumber(client.profile[infoField]) : 'None provided';\n        }\n        break;\n      case \"address\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client[infoField] ? formatLocation(client[infoField]) : \"None provided\";\n        }\n        break;\n\n      case \"has_children\":\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client[infoField] ? 'Yes' : 'No';\n        }\n        break;\n      case \"other_languages\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile\",infoField,  client.profile);\n        }\n        rowValue = client.profile[infoField];\n        break;\n      case \"eligibilities\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = (client[infoField] || []).join(', ')\n        }\n        break;\n      default:\n        rowValue = client[infoField];\n    }\n    return (\n      <TR\n        key={infoField}\n        title={rowTitle}\n        value={rowValue}\n      />\n    );\n  })\n\n  const classes = useProfileTableStyles()\n  return (\n    <TableContainer className={classes.table} component={Paper}>\n      <Table aria-label=\"Profile table\">\n        <TableHead>\n          <TableRow >\n            <TableCell className={classes.title}>{step}</TableCell>\n            <TableCell className={classes.title2}></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {infoRows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { Component } from 'react';\nimport { TableCell, TableRow } from \"@mui/material\";\n\n\nexport default class AppointmentRow extends Component {\n  render() {\n    const appointment = this.props.appointment;\n\n    return (\n      <TableRow>\n        {/*<td>*/}\n        {/*  <Label>{appointment.type}</Label>{' '}*/}\n        {/*  {appointment.category}*/}\n        {/*</td>*/}\n        <TableCell component=\"th\" scope=\"row\">\n          {appointment.category}\n        </TableCell>\n        <TableCell align=\"left\">{appointment.date}</TableCell>\n        <TableCell align=\"left\">{`${appointment.start_time} - ${appointment.end_time}`}</TableCell>\n        <TableCell align=\"left\">{appointment.description}</TableCell>\n      </TableRow>\n    )\n  }\n}\n","import { BrowserStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst defaultClientFields = {\n  \"steps_order\": [\n    \"info\"\n  ],\n  \"form_structure\": {\n    \"info\": {\n      \"first_name\": false,\n      \"last_name\": false,\n      \"gender\": false,\n      \"first_language\": false,\n      \"birth_date\": false,\n      \"ngo_conditions\": false,\n      \"status_in_canada\": false,\n      \"country_of_origin\": false,\n      \"has_children\": false\n    }\n  }\n};\n\nconst clientFieldsStore = new BrowserStore('client-fields', defaultClientFields);\nexport async function fetchClientFields() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(clientFieldsStore.value));\n}\n\nexport async function updateClientFields(updatedClientFields) {\n  await sleep(200);\n  clientFieldsStore.value = updatedClientFields;\n}\n","import { maritalStatusOptions, statusInCanadaOptions, educationLevelOptions, genderOptions,\n         incomeSourceOptions } from '../store/defaults.js';\n\nexport const clientFields = {\n  address: { label: 'Address' },\n  alt_phone_number: { component: 'GeneralField', type: 'tel', label: 'Alternative Phone Number' },\n  arrival_date: { component: 'GeneralField', type: 'date', label: 'Arrival Date (if different from landing_date)' },\n  birth_date: { component: 'GeneralField', type: 'date', label: 'Date of Birth' },\n  completed_education_level: { component: 'SelectField', label: 'Completed Education Level', options: educationLevelOptions },\n  country_of_last_residence: { component: 'GeneralField', type: 'text', label: 'Country of Last Residence' },\n  country_of_origin: { component: 'GeneralField', type: 'text', label: 'Country of Origin' },\n  current_education_level: { component: 'SelectField', label: 'Current Education Level', options: educationLevelOptions },\n  ngo_conditions: { component: 'CheckboxField', label: 'NGO Conditions' },\n  email: { component: 'GeneralField', type: 'email', label: 'Email' },\n  family: { label: 'Family' },\n  file_id: { component: 'GeneralField', type: 'text', label: 'File ID' },\n  first_language: { component: 'SelectField', label: 'First Language' },\n  first_name: { component: 'GeneralField', type: 'text', label: 'First Name' },\n  gender: { component: 'SelectField', label: 'Gender', options: genderOptions },\n  has_children: { component: 'RadioField', label: 'Do you have children?', options: { 'Yes': true, 'No': false } },\n  immigration_doc_number: { component: 'GeneralField', type: 'text', label: 'Immigration Document Number (if different from PR card)' },\n  income_source: { component: 'SelectField', label: 'Income Source', options: incomeSourceOptions },\n  landing_date: { component: 'GeneralField', type: 'date', label: 'Landing Date' },\n  last_name: { component: 'GeneralField', type: 'text', label: 'Last Name' },\n  marital_status: { component: 'SelectField', label: 'Marital Status', options: maritalStatusOptions },\n  middle_name: { component: 'GeneralField', type: 'text', label: 'Middle Name' },\n  num_of_children: { component: 'GeneralField', type: 'number', label: 'Number of Children' },\n  num_of_dependants: { component: 'GeneralField', type: 'number', label: 'Number of Dependants' },\n  other_languages: { component: 'MultiSelectField', label: 'Other languages' },\n  preferred_name: { component: 'GeneralField', type: 'text', label: 'Preferred Name' },\n  primary_phone_number: { component: 'GeneralField', type: 'tel', label: 'Telephone' },\n  pr_number: { component: 'GeneralField', type: 'text', label: 'Permanent Residence Card Number (PR card)' },\n  status_in_canada: { component: 'SelectField', label: 'Status in Canada', options: statusInCanadaOptions }\n}\n","import { postJson, putJson, getJson, deleteJson } from \"./index\";\n\nexport function createEligibility(params) {\n  return postJson('/eligibility_criteria/', params);\n}\n\nexport function updateEligibility(id, params) {\n  return putJson('/eligibility_criteria/' + id + '/', params);\n}\n\nexport function fetchEligibility(id) {\n  return getJson('/eligibility_criteria/' + id + '/');\n}\n\nexport function fetchEligibilities() {\n  return getJson('/eligibility_criteria/');\n}\n\nexport async function deleteEligibility(id, params) {\n  const response = await deleteJson('/eligibility_criteria/' + id + '/', params);\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","import React, { useState } from 'react';\nimport GeneralField from '../../shared/fields/GeneralField'\nimport SelectField from '../../shared/fields/SelectField'\nimport { genderOptions, familyRelationshipOptions } from '../../../store/defaults.js';\nimport { Paper, Button, FormLabel, Alert } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  paper: {\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    marginBottom: 20,\n    width: 380,\n  }\n}));\n\nfunction FamilyMemberFields({index, clientId, member, handleRemoveFamily, errMsg = {}}) {\n  const classes = useStyles();\n\n  const handleChangeMember = name => e => {\n    member.person[name] = e.target.value;\n  };\n\n  // What does this mean?\n  const disabled = clientId && member.person.id === clientId;\n  return (\n    <div className={classes.root}>\n      <FormLabel component=\"legend\">\n        Family Member #{index + 1 + '  '}\n        <Button\n          disabled={disabled}\n          onClick={e => handleRemoveFamily(index)}\n          color=\"secondary\"\n        >\n          Remove\n        </Button>\n      </FormLabel>\n      <Paper variant=\"outlined\" className={classes.paper}>\n        <GeneralField\n          type=\"text\"\n          onChange={handleChangeMember('first_name')}\n          value={member.person.first_name}\n          label=\"First name\"\n          disabled={disabled}\n          error={!!errMsg['first_name']}\n          helperText={errMsg['first_name']}\n        />\n        <GeneralField\n          type=\"text\"\n          value={member.person.last_name}\n          onChange={handleChangeMember('last_name')}\n          label=\"Last name\"\n          disabled={disabled}\n          error={!!errMsg['last_name']}\n          helperText={errMsg['last_name']}\n        />\n        <GeneralField\n          type=\"date\"\n          value={member.person.birth_date}\n          onChange={handleChangeMember('birth_date')}\n          label=\"Birth date\"\n          disabled={disabled}\n          error={!!errMsg['birth_date']}\n          helperText={errMsg['birth_date']}\n        />\n        <SelectField\n          options={genderOptions}\n          value={member.person.gender}\n          onChange={handleChangeMember('gender')}\n          label=\"Gender\"\n          disabled={disabled}\n          error={!!errMsg['gender']}\n          helperText={errMsg['gender']}\n        />\n        <SelectField\n          options={familyRelationshipOptions}\n          value={member.relationship}\n          onChange={e => member.relationship = e.target.value}\n          label={(clientId && member.person.id === clientId) ? 'Self' : 'Relationship'}\n          disabled={disabled}\n          error={!!errMsg['relationship']}\n          helperText={errMsg['relationship']}\n        />\n      </Paper>\n    </div>\n  )\n}\n\nexport default function FamilyFields({family, clientId, errMsg = {}}) {\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleAddFamily = () => {\n    family.members.push({\n      person: {\n        first_name: '',\n        last_name: '',\n        birth_date: null,\n        gender: ''\n      },\n      relationship: ''\n    });\n    forceUpdate();\n  };\n\n  const handleRemoveFamily = (index) => {\n    family.members.splice(index, 1);\n    forceUpdate();\n  };\n\n  return (\n    <div>\n      {errMsg && typeof errMsg === 'string' &&\n        <Alert severity=\"error\">{errMsg}</Alert>}\n      {family.members.map((member, index) => {\n        return (\n          <FamilyMemberFields\n            key={index}\n            index={index}\n            member={member}\n            clientId={clientId}\n            handleRemoveFamily={handleRemoveFamily}\n            errMsg = {errMsg[index]}\n          />\n        )\n      })}\n      <Button onClick={handleAddFamily} variant=\"outlined\">\n        Add Family Member\n      </Button>\n    </div>\n  );\n}\n","import React, { useCallback, useState } from 'react';\nimport { RadioGroup, Radio, FormControlLabel, FormControl, FormLabel, FormHelperText } from \"@mui/material\"\nimport { makeStyles } from \"@mui/styles\";\nimport { UN_SET } from '../../../constants';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    position: 'relative',\n    top: 16,\n  },\n  formControlRow: {\n    position: 'relative',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  labelRow: {\n    width: 200,\n    marginRight: 20,\n  }\n}));\n\nconst tryCastBool = val => val === 'true' ? true : (val === 'false' ? false : val);\n\nexport default function RadioField({row, noStar, label, required, options, onChange, value: parentValue = UN_SET, helperText, ...props}) {\n  const classes = useStyles();\n  const [value, setValue] = useState(parentValue);\n\n  const handleChange = useCallback(e => {\n    const val = tryCastBool(e.target.value);\n    setValue(val);\n    onChange({target: {value: val === UN_SET ? null : val}});\n  }, [onChange]);\n\n  return (\n    <FormControl className={row ? classes.formControlRow : classes.formControl}  error={props.error}>\n      <FormLabel className={row && classes.labelRow} required={required && !noStar} component=\"legend\">{label}</FormLabel>\n      <RadioGroup value={value} onChange={handleChange} row>\n        {/*{!required && <FormControlLabel*/}\n        {/*  key={UN_SET}*/}\n        {/*  value={UN_SET}*/}\n        {/*  control={<Radio color=\"primary\"/>}*/}\n        {/*  label={'N/A'}*/}\n        {/*  labelPlacement=\"end\"*/}\n        {/*/>}*/}\n        {Object.entries(options).map((([label, value]) =>\n            <FormControlLabel\n              key={value}\n              value={value}\n              control={<Radio color=\"primary\"/>}\n              label={label}\n              labelPlacement=\"end\"\n            />\n        ))}\n      </RadioGroup>\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { FormLabel, FormControl, FormGroup, FormControlLabel, Checkbox, FormHelperText } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    // position: 'relative',\n    marginTop: 16,\n    // marginBottom: 8,\n  },\n}));\n\nexport default function CheckboxField({label, required, options, onChange, helperText, ...props}) {\n  const optionsArray = useMemo(() =>\n    Array.isArray(options) ? options : Object.values(options), [options]);\n\n  const [value, setValue] = useState(() => {\n    const data = {};\n    optionsArray.forEach(option => {\n      data[option] = props.value.includes(option);\n    });\n    return data;\n  });\n\n  const handleChange = useCallback(name => e => {\n    const checked = e.target.checked;\n    const newValue = {\n      ...value,\n      [name]: checked\n    };\n    setValue(newValue);\n    const parentValue = [];\n    Object.entries(newValue).forEach(([name, checked]) => {\n      if (checked) parentValue.push(name);\n    });\n    onChange({target: {value: parentValue}});\n  }, [onChange, value]);\n\n  const classes = useStyles();\n  return (\n    <FormControl component=\"fieldset\" className={classes.formControl} error={props.error}>\n      <FormLabel required={required} component=\"legend\">{label}</FormLabel>\n      <FormGroup row>\n        {optionsArray.map(name =>\n          <FormControlLabel\n            key={name}\n            label={name}\n            control={<Checkbox color=\"primary\" checked={value[name]} onChange={handleChange(name)}/>}\n          />\n        )}\n      </FormGroup>\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React, { useCallback} from \"react\";\nimport { Autocomplete, TextField } from \"@mui/material\";\n\nexport default function Dropdown(props) {\n  // options is [value1, value2, ...]\n  const {options, label, value, onChange, helperText} = props;\n\n  const handleChange = useCallback((e, value) => {\n    onChange({target: {value}});\n  }, [onChange]);\n\n  return (\n    <Autocomplete\n      sx={{mt: '16px'}}\n      multiple\n      options={options}\n      onChange={handleChange}\n      getOptionLabel={option => option}\n      defaultValue={value}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label={label}\n          sx={{minWidth: 350}}\n          fullWidth={false}\n          helperText={helperText}\n        />\n      )}\n    />\n  )\n}\n","import React from 'react';\n\nimport GeneralField from './fields/GeneralField';\nimport SelectField from './fields/SelectField';\nimport RadioField from './fields/RadioField';\nimport CheckboxField from './fields/CheckboxField';\nimport MultiSelectField from './fields/MultiSelectField';\n\nexport default function FieldGroup({ component, options, value, ...props }) {\n  if (component === 'GeneralField') {\n    return (\n      <GeneralField\n        {...props}\n        value={value}\n      />\n    );\n  }\n  else if (component === 'SelectField') {\n    return (\n      <SelectField\n        options={options}\n        {...props}\n        value={value}\n      />\n    );\n  }\n  else if (component === 'MultiSelectField') {\n    return (\n      <MultiSelectField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  else if (component === 'RadioField') {\n    return (\n      <RadioField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  // return null;\n  else if (component === 'CheckboxField') {\n    return (\n      <CheckboxField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  return <div>Unknown field {component}</div>;\n}\n","import {\n  recursiveAssign,\n  isFieldEmpty,\n  verifyAddressField,\n  validateAddressPostalCode,\n  validateContactFormat,\n  verifyFamilyFields,\n} from \"./index\";\n\n// Verify the params filled in client form\nexport function client_verify_form(form, steps) {\n  const format_messages = verifyFormFormat(form);\n  const required_field_msg = verifyRequiredField(form, steps);\n  return recursiveAssign(required_field_msg, format_messages);\n}\n\n/**\n * verify if every required field is filled in\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyRequiredField(form, steps) {\n  let result = {};\n  for (const step_page_fields of steps) {\n    // traverse each step page in steps\n    for (const [field, required] of Object.entries(step_page_fields)) {\n      if (required) {\n        if (field in form && isFieldEmpty(form[field])) {\n          //  key in form\n          result[field] = 'This field is required';\n        } else if (field in form.profile && isFieldEmpty(form.profile[field])) {\n          result[field] = 'This field is required';\n        } else if (field === 'family' && field in form) {\n          if (form[field].length === 0){\n            result['family'] = \"Please add at least one family member!\";\n          } else{\n            // Some fields in family are not filled in\n            result[field] = {}\n            verifyFamilyFields(form[field]['members'], result[field])\n            if (Object.entries(result[field]).length === 0) {\n              delete result[field];\n            }\n          }\n\n        } else if (field === 'address') {\n          result[field] = {};\n          verifyAddressField(form[field], result[field]);\n          if(Object.entries(result[field]).length === 0){\n            delete result[field];\n          }\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * verify format for various field\n * @param form\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyFormFormat(form) {\n  let result = {}\n  // Verify postal code\n  validateAddressPostalCode(form.address.postal_code, result, 'address')\n\n  // verify profile\n  if(form.profile){\n    validateContactFormat(form.profile, result)\n  }\n  return result;\n}\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\nimport { clientFields } from '../../constants/client_fields.js'\nimport { defaultProfileFields, generateClientField } from '../../constants/default_fields.js'\n\n// redux\nimport { useDispatch } from 'react-redux';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { createClient, updateClient, fetchClient } from '../../api/mockedApi/clients';\nimport { fetchEligibilities } from '../../api/eligibilityApi';\nimport { fetchClientFields } from '../../api/mockedApi/clientFields';\n\n// components\nimport LocationFieldGroup from '../shared/LocationFieldGroup';\nimport FamilyFields from './client_form/FamilyFields';\nimport FieldGroup from '../shared/FieldGroup';\n\nimport { Container } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\nimport { Loading, FormStepper } from \"../shared\";\nimport { client_verify_form } from '../../helpers/client_verify_form.js';\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: '80%',\n    margin: 'auto',\n    paddingBottom: 10,\n  }\n}));\n\nexport default function ClientForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {id} = useParams();\n  const mode = id ? 'edit' : 'new';\n  const [state, setState] = useState({\n    loading: true,\n    languageOptions: [],\n    all_ngo_conditions: [],\n    stepNames: [],\n    steps: [],\n    client: null,\n    dispatchErrorMsg: [],\n    fieldErrorMsg: {},\n  });\n\n  // DO NOT store form as state, it degrades the performance as all form got rendered every time user type anything.\n  // Instead, for large form like this page, store the form as a variable and pass it to child components (input)\n  const form = useMemo(() => generateClientField(state.client), [state.client]);\n\n  // const [form, setForm] = useState(generateClientField());\n\n  useEffect(() => {\n    const promises = [];\n    promises.push(dispatch(fetchOntologyCategories('languages'))\n      .then(data => setState(state => ({...state, languageOptions: data}))));\n    promises.push(fetchEligibilities()\n      .then(data => {\n        setState(state => ({...state, all_ngo_conditions: data.map(data => data.title)}))\n      }));\n    promises.push(fetchClientFields()\n      .then(data => {\n        if (data == null || data.steps_order.length === 0\n          || Object.values(data.form_structure).length === 0) {\n          setState(state => ({...state, loading: true, dispatchErrorMsg: ['No fields are available.']}));\n        } else {\n          setState(state => ({\n            ...state,\n            stepNames: data.steps_order,\n            steps: Object.values(data.form_structure)\n          }));\n        }\n      }));\n    id && promises.push(fetchClient(id)\n      .then(data => setState(state => ({...state, client: data}))));\n    Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  }, [dispatch, id]);\n\n  const handleFinish = async () => {\n    // TODO: pretty error message\n    const fieldErrorMsg = client_verify_form(form, state.steps);\n    if (Object.keys(fieldErrorMsg).length !== 0) {\n      setState(state => ({...state, fieldErrorMsg}));\n      return;\n    }\n    if (mode === 'edit') {\n      const res = await updateClient(id, form);\n      if (res.success) {\n        history.push(`/clients/${res.clientId}`);\n      } else {\n        setState(state => ({...state, dispatchErrorMsg: [res.error]}));\n      }\n    } else {\n      const res = await createClient(form);\n      if (res.success) {\n        history.push(`/clients/${res.clientId}`);\n      } else {\n        setState(state => ({...state, dispatchErrorMsg: [res.error]}));\n      }\n    }\n  };\n\n  /**\n   * Handle changes in form\n   * @param name {string}\n   * @returns {Function}\n   */\n  const handleChange = useCallback(name => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n  }, [form]);\n\n  const getStepContent = idx => {\n    const step = state.steps[idx];\n    return <div className={classes.content}>\n      {Object.entries(step).map(([field, required]) => {\n        let options;\n        // console.log(field)\n        let errMsg = state.fieldErrorMsg[field];\n        if (field === 'first_language') {\n          options = state.languageOptions;\n        } else if (field === 'other_languages') {\n          options = state.languageOptions.filter(\n            category => category !== form.first_language)\n        } else if (field === 'ngo_conditions') {\n          options = state.all_ngo_conditions;\n        }\n\n        if (field === 'address') {\n          return (\n            <LocationFieldGroup\n              key=\"address\"\n              address={form.address}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else if (field === 'family') {\n          return (\n            <FamilyFields\n              key=\"family\"\n              family={form.family}\n              clientId={id}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else {\n          const isProfile = Object.keys(defaultProfileFields).includes(field);\n          return (\n            <FieldGroup\n              key={field}\n              label={clientFields[field].label}\n              type={clientFields[field].type}\n              component={clientFields[field].component}\n              value={isProfile ? form.profile[field] : form[field]}\n              onChange={handleChange(isProfile ? 'profile.' + field : field)}\n              required={required}\n              options={clientFields[field].options || options}\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          );\n        }\n      })}\n    </div>\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading...`}/>;\n\n  return (\n    <Container>\n      <FormStepper\n        getStepContent={getStepContent}\n        handleFinish={handleFinish}\n        stepNames={state.stepNames}\n        error={state.dispatchErrorMsg}\n      />\n    </Container>\n  );\n}\n","import { deleteJson, getJson, postJson, putJson } from \"./index\";\n\nexport function createUser(params) {\n  return postJson('/users/', params);\n}\n\nexport function createUsers(params) {\n  // TODO: implement backend?\n  return postJson('/users/', {csv: params});\n}\n\nexport function updateUser(id, params) {\n  return putJson('/user/' + id + '/', params);\n}\n\nexport function fetchUser(id) {\n  return getJson('/user/' + id + '/');\n}\n\nexport function fetchUsers() {\n  return getJson('/users/');\n}\n\nexport function deleteUser(id, params, callback) {\n  const response = deleteJson('/user/' + id + '/');\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","import RadioField from \"../components/shared/fields/RadioField\";\nimport { Validator } from \"../helpers\";\nimport { defaultField } from \"./index\";\n\nexport const userFormFields = {\n  is_superuser: {\n    ...defaultField,\n    label: 'Admin?',\n    component: RadioField,\n    options: {Yes: true, No: false},\n    required: true,\n  },\n  username: {\n    ...defaultField,\n    label: 'Username',\n    required: true,\n  },\n  password: {\n    ...defaultField,\n    label: 'Password',\n    type: 'password',\n    required: true,\n    validator: Validator.password\n  },\n  first_name: {\n    ...defaultField,\n    label: 'First name',\n  },\n  last_name: {\n    ...defaultField,\n    label: 'Last name',\n  },\n  email: {\n    ...defaultField,\n    label: 'Email',\n    type: 'email',\n    validator: Validator.email,\n  },\n  primary_phone_number: {\n    ...defaultField,\n    label: 'Telephone',\n    validator: Validator.phone\n  },\n  alt_phone_number: {\n    ...defaultField,\n    label: 'Alternate phone number',\n    validator: Validator.phone\n  }\n};","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from \"react-router\";\n\nimport { defaultUserFields } from \"../../constants/default_fields\";\nimport { Button, Container, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { userFormFields } from \"../../constants/userFields\";\nimport { fetchUser, updateUser, createUser } from \"../../api/userApi\";\nimport { Loading } from \"../shared\"\nimport { isFieldEmpty } from \"../../helpers\";\nimport { REQUIRED_HELPER_TEXT } from \"../../constants\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '80%'\n  },\n  button: {\n    marginTop: 12,\n    marginBottom: 12,\n  }\n}));\n\nexport default function UserForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const {id} = useParams();\n  const mode = id == null ? 'new' : 'edit';\n  const [state, setState] = useState({\n    form: {\n      ...defaultUserFields\n    },\n    errors: {},\n    loading: true,\n  });\n\n  useEffect(() => {\n    if (mode === 'edit') {\n      fetchUser(id).then(user => {\n        setState(state => ({\n          ...state,\n          form: {\n            ...state.form,\n            ...user\n          },\n          loading: false,\n        }))\n      })\n    } else\n      setState(state => ({...state, loading: false}));\n  }, [mode, id]);\n\n  /**\n   * @returns {boolean} true if valid.\n   */\n  const validate = () => {\n    const errors = {};\n    for (const [field, option] of Object.entries(userFormFields)) {\n      const isEmpty = isFieldEmpty(state.form[field]);\n      if (option.required && isEmpty) {\n        errors[field] = REQUIRED_HELPER_TEXT;\n      }\n      let msg;\n      if (!isEmpty && option.validator && (msg = option.validator(state.form[field]))) {\n        errors[field] = msg;\n      }\n    }\n    if (Object.keys(errors).length !== 0) {\n      setState(state => ({...state, errors}));\n      return false\n    }\n    return true;\n  };\n\n  const handleSubmit = async () => {\n    if (validate()) {\n      try {\n        if (mode === 'new') {\n          await createUser(state.form);\n          history.push('/users/');\n        } else {\n          await updateUser(id, state.form);\n          history.push('/users/' + id);\n        }\n      } catch (e) {\n        if (e.json) {\n          setState(state => ({...state, errors: e.json}));\n        }\n      }\n    }\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading user form...`}/>;\n\n  return (\n    <Container className={classes.root}>\n      <Typography variant=\"h5\">\n        {mode === 'new' ? 'Create new user' : 'Edit user'}\n      </Typography>\n      {Object.entries(userFormFields).map(([field, option]) => {\n        return (\n          <option.component\n            key={field}\n            label={option.label}\n            type={option.type}\n            options={option.options}\n            value={state.form[field]}\n            required={option.required}\n            onChange={e => state.form[field] = e.target.value}\n            error={!!state.errors[field]}\n            helperText={state.errors[field]}\n          />\n        )\n      })}\n      <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleSubmit}>\n        Submit\n      </Button>\n    </Container>\n  )\n}","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport GeneralField from '../shared/fields/GeneralField'\nimport SelectField from '../shared/fields/SelectField'\nimport MultiSelectField from '../shared/fields/MultiSelectField';\nimport { newMultiSelectFieldValue } from '../../helpers/select_field_helpers';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { createClientNeed, updateClientNeed } from '../../store/actions/needActions.js'\n\nimport { Button, Form, FormGroup, FormLabel, Col, Row } from 'react-bootstrap';\n\nclass NeedForm extends Component {\n  constructor(props) {\n    super(props);\n    let need = {};\n\n    if (this.props.match.params.need_id) {\n      need = this.props.needsById[this.props.match.params.need_id]\n    }\n\n    this.state = {\n      needId: need.id,\n      mode: (need.id) ? 'edit' : 'new',\n      form: {\n        type: need.type || undefined,\n        category: need.category || '',\n        description: need.description || '',\n        needed_by: need.needed_by || '',\n        condition: need.condition || '',\n        status: need.status || '',\n        is_urgent: need.is_urgent || false,\n        languages: need.languages || []\n      }\n    }\n\n    this.formValChange = this.formValChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleMultiSelectChange = this.handleMultiSelectChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(fetchOntologyCategories('needs'));\n  }\n\n  formValChange(e, id=e.target.id, value=e.target.value) {\n    let nextForm = {...this.state.form, [id]: value};\n    this.setState({ form: nextForm });\n  }\n\n  handleMultiSelectChange(id, selectedOption, actionMeta) {\n    const preValue = this.state.form[id]\n    const newValue = newMultiSelectFieldValue(preValue, selectedOption, actionMeta)\n\n    this.setState({\n      form: {\n        ...this.state.form,\n        [id]: newValue\n      }\n    });\n  }\n\n  submit() {\n    if (this.state.mode === 'edit') {\n      this.props.dispatch(updateClientNeed(this.props.clientId, this.state.needId, this.state.form));\n    } else {\n      this.props.dispatch(createClientNeed(this.props.clientId, this.state.form));\n    }\n    this.props.history.push(`/clients/${this.props.clientId}`)\n  }\n\n  render() {\n    const p = this.props;\n    const formTitle = (this.state.mode === 'edit') ? 'Edit Need' : 'Create Need'\n\n    if (this.state.form.type === undefined) {\n      return (\n        <div className=\"outer\">\n          <div className=\"middle\">\n            <div className=\"need-type-buttons\">\n              <Button onClick={e => this.formValChange(e, 'type', 'Good')}>\n                Goods\n              </Button>\n              <Button onClick={e => this.formValChange(e, 'type', 'Service')}>\n                Service\n              </Button>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <Row className=\"content\">\n          <Col sm={12}>\n            <h3>{formTitle}</h3>\n            <hr />\n          </Col>\n          <Col sm={12}>\n            <Form horizontal>\n              <FormGroup controlId=\"type\">\n                <Col componentClass={FormLabel} sm={3}>\n                  Type\n                </Col>\n                <Col sm={9}>\n                  <div className=\"need-type\">\n                    {this.state.form.type}\n                  </div>\n                </Col>\n              </FormGroup>\n              <FormGroup controlId=\"is_urgent\">\n                <Col componentClass={FormLabel} sm={3}>\n                  Urgent?\n                </Col>\n                <Col sm={9}>\n                  <Form.Check\n                    name=\"radioGroup\"\n                    value=\"1\"\n                    onChange={e => this.formValChange(e, 'is_urgent')}\n                    defaultChecked={this.state.form.is_urgent === true}\n                    type=\"radio\"\n                    inline\n                  >\n                    Yes\n                  </Form.Check>{' '}\n                  <Form.Check\n                    name=\"radioGroup\"\n                    value=\"0\"\n                    onChange={e => this.formValChange(e, 'is_urgent')}\n                    defaultChecked={this.state.form.is_urgent === false}\n                    type=\"radio\"\n                    inline\n                  >\n                    No{this.state.form.is_urgent === false}\n                  </Form.Check>{' '}\n                </Col>\n              </FormGroup>\n              <SelectField\n                label=\"Category\"\n                options={p.needsCategories}\n                value={this.state.form.category}\n                onChange={e => this.formValChange(e, 'category')}\n                required = {true}\n              />\n              <GeneralField\n                label=\"Needed By\"\n                type=\"date\"\n                value={this.state.form.needed_by}\n                onChange={e => this.formValChange(e, 'needed_by')}\n              />\n              <MultiSelectField\n                label=\"Languages\"\n                options={p.languagesCategories}\n                value={this.state.form.languages}\n                onChange={e => this.handleMultiSelectChange(e, null, null)}\n              />\n              <GeneralField\n                label=\"Description\"\n                value={this.state.form.description}\n                onChange={e => this.formValChange(e, 'description')}\n                required={true}\n                multiline = {true}\n                fullWidth = {true}\n              />\n              {this.state.form.type === 'Good' &&\n                <GeneralField\n                  label=\"Condition\"\n                  type=\"textarea\"\n                  value={this.state.form.condition}\n                  onChange={e => this.formValChange(e, 'condition')}\n                />\n              }\n              <FormGroup>\n                <Col smOffset={3} sm={9}>\n                  <Button onClick={this.submit}>\n                    Submit\n                  </Button>\n                </Col>\n              </FormGroup>\n            </Form>\n          </Col>\n        </Row>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    needsById: state.needs.byId,\n    clientId: state.needs.clientId,\n    needsCategories: state.ontology.needs.categories,\n    languagesCategories: state.ontology.languages.categories,\n    categoriesLoaded: state.ontology.needs.loaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(withRouter(NeedForm));\n","import _ from 'lodash';\n\nexport function newMultiSelectFieldValue(preValue,\n                                         selectedOption,\n                                         actionMeta) {\n  let newValue;\n  switch (actionMeta.action) {\n    case 'pop-value':\n    case 'remove-value':\n       _.remove(preValue, (value) => {\n        return value === actionMeta.removedValue.value\n      });\n      newValue = preValue\n      break;\n    case 'clear':\n      newValue = []\n      break;\n    default:\n      preValue.push(actionMeta.option.value)\n      newValue = preValue\n  }\n  return newValue;\n}\n","import React, { Component } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport GeneralField from '../shared/fields/GeneralField';\nimport SelectField from '../shared/fields/SelectField';\n\n// redux\nimport { connect } from 'react-redux'\nimport { createAppointment } from '../../store/actions/appointmentActions.js'\n\nclass AppointmentModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        'type': '',\n        'category': '',\n        'status': '',\n        'description': '',\n        'date': '',\n        'start_time': '',\n        'end_time': '',\n        'reminder_type': '',\n        'reminder_frequency': '',\n      }\n    };\n\n    this.formValChange = this.formValChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit() {\n    let form = Object.assign({}, this.state.form);\n    form['service_id'] = this.props.serviceId;\n    form['client_id'] = this.props.clientId;\n\n    this.props.dispatch(\n      createAppointment(form, (status, err, appointment) => {\n        this.props.onHide()\n      })\n    );\n  }\n\n  formValChange(e, id=e.target.id) {\n    let nextForm = { ...this.state.form, [id]: e.target.value };\n    this.setState({ form: nextForm });\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        bsSize=\"large\"\n        aria-labelledby=\"contained-modal-title-sm\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-sm\">\n            Appointment\n            {this.state.form.service_id}\n            {this.state.form.provider_id}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form horizontal>\n            <SelectField\n              id=\"type\"\n              label=\"Type\"\n              options={['External', 'Internal']}\n              componentClass=\"select\"\n              value={this.state.form.type}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"category\"\n              label=\"Category\"\n              type=\"text\"\n              value={this.state.form.category}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"status\"\n              label=\"Status\"\n              type=\"text\"\n              value={this.state.form.status}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"description\"\n              label=\"Description\"\n              type=\"text\"\n              value={this.state.form.description}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"date\"\n              label=\"Date\"\n              type=\"date\"\n              value={this.state.form.date}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"start_time\"\n              label=\"Start Time\"\n              type=\"time\"\n              value={this.state.form.start_time}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"end_time\"\n              label=\"End Time\"\n              type=\"time\"\n              value={this.state.form.end_time}\n              onChange={this.formValChange}\n              required\n            />\n            <SelectField\n              id=\"reminder_type\"\n              label=\"Reminder Type\"\n              options={['Email', 'Text', 'Phone']}\n              componentClass=\"select\"\n              value={this.state.form.reminder_type}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"reminder_frequency\"\n              label=\"Reminder Frequecy\"\n              type=\"text\"\n              value={this.state.form.reminder_frequency}\n              onChange={this.formValChange}\n            />\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.handleSubmit}>\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default connect()(AppointmentModal);\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\n\nexport function createAppointment(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/appointments/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(appointment => {\n      callback(ACTION_SUCCESS, null, appointment);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport AppointmentModal from '../appointments/AppointmentModal';\nimport { matchStatusOptions } from '../../store/defaults.js';\nimport { updateMatchStatus, createMatchNote } from '../../store/actions/needActions.js'\n\nimport { Col, Accordion, Card, Form, FormGroup, FormLabel,\n  FormControl, Button } from 'react-bootstrap';\n\nclass MatchedServices extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeKey: null,\n      matchStatusForm: {},\n      noteForm: {},\n      modalShow: false,\n      appointmentServiceId: null\n    }\n\n    this.handleSelect = this.handleSelect.bind(this);\n\n    this.matchStatusChange = this.matchStatusChange.bind(this);\n    this.textAreaChange = this.textAreaChange.bind(this);\n    this.submitMatchStatus = this.submitMatchStatus.bind(this);\n    this.submitNote = this.submitNote.bind(this);\n\n    this.handleModalHide = this.handleModalHide.bind(this);\n    this.handleModalShow = this.handleModalShow.bind(this);\n  }\n\n  submitMatchStatus(matchId) {\n    this.props.dispatch(updateMatchStatus(matchId, this.state.matchStatusForm[matchId]));\n  }\n\n  submitNote(matchId) {\n    let form = {...this.state.noteForm[matchId], object_id: matchId, model: 'match' }\n    this.props.dispatch(createMatchNote(form));\n  }\n\n  matchStatusChange(e, matchId) {\n    const nextForm = { ...this.state.matchStatusForm, [matchId]: { status: e.target.value }}\n    this.setState({\n      matchStatusForm: nextForm\n    });\n  }\n\n  textAreaChange(e, matchId) {\n    const nextForm = { ...this.state.noteForm, [matchId]: { text: e.target.value }}\n    this.setState({\n      noteForm: nextForm\n    });\n  }\n\n  handleModalHide() {\n    this.setState({ modalshow: false });\n  }\n\n  handleModalShow(serviceId) {\n    this.setState({\n      modalshow: true,\n      appointmentServiceId: serviceId\n    })\n  }\n\n  handleSelect(activeKey) {\n    this.setState({\n      activeKey: activeKey,\n    });\n  }\n\n  render() {\n    const matches = this.props.matches;\n    return (\n      <div>\n        <Col sm={12}>\n          <h3>Matched Services</h3>\n        </Col>\n        <Col sm={12}>\n          <Accordion\n            id=\"accordion\"\n            activeKey={this.state.activeKey}\n          >\n            {\n              _.map(matches, (match, index) => {\n                return (\n                  <Card key={match.id} eventKey={match.id} bsStyle=\"info\">\n                    <Card.Header onClick={() => this.handleSelect(index)}>\n                      <Col sm={11}>\n                        <Card.Title toggle>\n                          {index+1}. {match.service.name}\n                          {' '}\n                        </Card.Title>\n                      </Col>\n                      <Form.Label bsStyle=\"primary\">\n                        {match.status}\n                      </Form.Label>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey={index}>\n                      <Card.Body collapsible>\n                        <Col sm={8}>\n                          <FormGroup controlId=\"match_status\">\n                            <Col componentClass={FormLabel} sm={3}>\n                              Status\n                            </Col>\n                            <Col sm={6}>\n                              <FormControl\n                                componentClass=\"select\"\n                                placeholder=\"select\"\n                                defaultValue={match.status}\n                                onChange={e => this.matchStatusChange(e, match.id)}\n                              >\n                                <option value=\"select\">--- Not Set ---</option>\n                                {matchStatusOptions.map(status =>\n                                  <option key={status} value={status}>{status}</option>\n                                )}\n                              </FormControl>\n                            </Col>\n                            <Col sm={3}>\n                              <Button\n                                disabled={this.state.activeKey !== match.id || !this.state.matchStatusForm[match.id]}\n                                onClick={e => this.submitMatchStatus(match.id)}\n                              >\n                                Update Status\n                              </Button>\n                            </Col>\n                          </FormGroup>\n                          <Form.Label className='note-form'>\n                            <FormGroup controlId=\"notes\">\n                              <Col componentClass={FormLabel} sm={3}>\n                                Notes\n                              </Col>\n                              <Col sm={9}>\n                                {\n                                  _.map(match.notes, (note, index) => {\n                                    return (\n                                      <div key={index}>\n                                        {note}\n                                      </div>\n                                    )\n                                  })\n                                }\n                                <FormControl\n                                  componentClass=\"textarea\"\n                                  onChange={e => this.textAreaChange(e, match.id)}\n                                />\n                              </Col>\n                            </FormGroup>\n                            <FormGroup>\n                              <Col smOffset={3} sm={9}>\n                                <Button\n                                  disabled={this.state.activeKey !== match.id || !this.state.noteForm[match.id]}\n                                  onClick={e => this.submitNote(match.id)}\n                                >\n                                  Add Note\n                                </Button>\n                              </Col>\n                            </FormGroup>\n                          </Form.Label>\n                          <Button bsStyle=\"default\"  onClick={e => this.handleModalShow(match.service.id)}>\n                            Add appointment\n                          </Button>\n                        </Col>\n                        <Col sm={4}>\n                          <Link to={`/service/${match.service.id}`} target=\"_blank\">\n                            <h5>View Service Detail</h5>\n                          </Link>\n                          <Link to={`/provider/${match.service.provider.id}`} target=\"_blank\">\n                            <h5>View Provider Detail</h5>\n                          </Link>\n                        </Col>\n                      </Card.Body>\n                    </Accordion.Collapse>\n                  </Card>\n                )\n              })\n            }\n          </Accordion>\n        </Col>\n        <AppointmentModal\n          clientId={this.props.clientId}\n          serviceId={this.state.appointmentServiceId}\n          show={this.state.modalshow}\n          onHide={this.handleModalHide}\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect()(withRouter(MatchedServices));\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { formatLocation } from '../../helpers/location_helpers'\n\nimport { connect } from 'react-redux'\nimport { ListGroupItem, Row, Col, Button } from 'react-bootstrap';\nimport { matchClientNeed } from '../../store/actions/needActions.js'\nimport { Typography } from \"@mui/material\";\n\nclass ServiceListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit(needId, serviceId) {\n    const form = {\n      service_id: serviceId\n    }\n    this.props.dispatch(\n      matchClientNeed(needId, form)\n    );\n  }\n\n  render() {\n    const service = this.props.service,\n          needId = this.props.needId,\n          label = this.props.label;\n\n    return (\n      <ListGroupItem className=\"recommended-service\">\n        <Row>\n          <Col sm={8}>\n            <h5>{label}.</h5>\n            <Link to={`/service/${service.id}`}>\n              <h5>{service.name}</h5>\n            </Link>\n            <Typography>{service.category}</Typography>\n            {' '}\n            <Typography>{Math.round(service.distance * 100) / 100} km</Typography>\n            <p>{service.desc}</p>\n            <p>{formatLocation(service.location)}</p>\n          </Col>\n          <Col sm={4}>\n            <h5>Provider</h5>\n            <Typography color=\"primary\">{service.provider.type}</Typography>\n            <Link to={`/provider/${service.provider.id}`}>\n              { (service.provider.type === \"Individual\") ? (\n                  <p>{`${service.provider.profile.first_name} ${service.provider.profile.last_name}`}</p>\n                ) : (\n                  <p>{service.provider.company}</p>\n                )\n              }\n            </Link>\n          </Col>\n          <Col sm={12}>\n            <Button bsStyle=\"default\" onClick={e => this.submit(needId, service.id)}>\n              Select\n            </Button>\n          </Col>\n        </Row>\n      </ListGroupItem>\n    )\n  }\n}\n\nexport default connect()(withRouter(ServiceListItem));\n","import React from 'react';\nimport _ from 'lodash';\n\nimport { withGoogleMap, GoogleMap, Marker } from 'react-google-maps';\nimport ServiceListItem from './ServiceListItem';\n\nimport { Row, Col } from 'react-bootstrap';\n\n\nconst GMap = withGoogleMap(props => (\n  <GoogleMap\n    zoom={10}\n    center={props.latlng}>\n    {_.map(props.services, (service, index) => {\n      return (\n        <Marker\n          key={service.id}\n          label={(index+1).toString()}\n          position={{ lat: parseFloat(service.location.lat), lng: parseFloat(service.location.lng)}}\n        />\n      )\n    })}\n  </GoogleMap>\n));\n\nexport default function ServiceList({ need, services, latlng }) {\n  return (\n    <Row>\n      <Col sm={8}>\n        {_.map(services, (service, index) => {\n          return (\n            <ServiceListItem\n              key={service.id}\n              needId={need.id}\n              label={index+1}\n              service={service}\n            />\n          )\n        })}\n      </Col>\n      <Col sm={4}>\n        <div style={{ width: '100%', height: '400px' }}>\n          <GMap\n            containerElement={\n              <div style={{ height: `100%` }} />\n            }\n            mapElement={\n              <div style={{ height: `100%` }} />\n            }\n            latlng={latlng}\n            services={services}\n          />\n        </div>\n      </Col>\n    </Row>\n  )\n}\n","import React, { Component } from 'react';\n\nimport { Col, Form, FormGroup, InputGroup, Button, FormControl } from 'react-bootstrap';\n\n\nexport default class ServiceSearchBar  extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      queryTerm: '',\n      location: props.location.street_address\n    }\n\n    this.handleFormValChange = this.handleFormValChange.bind(this);\n  }\n\n  handleFormValChange(e, id=e.target.id) {\n    this.setState({ [id] : e.target.value });\n  }\n\n  render() {\n    return (\n      <Form horizontal>\n        <FormGroup>\n          <Col sm={12}>\n            <InputGroup>\n              {this.props.enableQueryTerm &&\n                <InputGroup.Addon>Find</InputGroup.Addon>\n              }\n              {this.props.enableQueryTerm &&\n                <FormControl\n                  type=\"text\"\n                  value={this.state.queryTerm}\n                  onChange={e => this.handleFormValChange(e, 'queryTerm')}\n                  placeholder=\"Dental service, language class...\"\n                />\n              }\n              <InputGroup.Addon>Near</InputGroup.Addon>\n              <FormControl\n                type=\"text\"\n                value={this.state.location}\n                onChange={e => this.handleFormValChange(e, 'location')}\n              />\n              <InputGroup.Button>\n                {this.props.enableQueryTerm ? (\n                  <Button\n                    onClick={e => this.props.search(this.state.queryTerm, this.state.location)}\n                  >\n                    Search\n                  </Button>\n                ) : (\n                  <Button\n                    onClick={e => this.props.search(this.state.location, this.props.needId)}\n                  >\n                    Search\n                  </Button>\n                )}\n              </InputGroup.Button>\n            </InputGroup>\n          </Col>\n        </FormGroup>\n      </Form>\n    );\n  }\n};\n","import React, { Component } from 'react';\nimport TR from '../shared/TR';\n\nimport { torontoCoordinates, serverHost } from '../../store/defaults.js';\n\nimport MatchedServices from './MatchedServices';\nimport ServiceList from './ServiceList';\nimport ServiceSearchBar from './ServiceSearchBar';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchNeed } from '../../store/actions/needActions.js'\n\nimport { Container, Row, Col, Table, Tabs, Tab } from 'react-bootstrap';\n// import { Grid, Table, Tabs, Tab } from \"@mui/material\";\n// import { Col, Label, Row} from 'react-bootstrap';\n// import SearchTabs from './NeedSearchTabs'\n\n// import PropTypes from 'prop-types';\n// import { makeStyles } from '@material-ui/core/styles';\n// import AppBar from '@material-ui/core/AppBar';\n// import { Typography } from '@material-ui/core';\n// import Box from '@material-ui/core/Box';\n\n\nclass Need extends Component {\n  constructor(props) {\n    super(props);\n\n    const need = props.needsById[props.match.params.need_id];\n    this.state = {\n      searchResult: [],\n      location: props.client.address ? { lat: parseFloat(props.client.address.lat), lng: parseFloat(props.client.address.lng) }: torontoCoordinates,\n      recommendedServices: (need && need.recommended_services) || []\n    }\n\n    this.handleSearchService = this.handleSearchService.bind(this);\n    this.handleSearchRecommendedServices = this.handleSearchRecommendedServices.bind(this);\n  }\n\n  componentWillMount() {\n    const id = this.props.match.params.need_id\n    this.props.dispatch(fetchNeed(id, need => {\n      this.setState({ recommendedServices: need.recommended_services })\n    }));\n  }\n\n  handleSearchService(queryTerm, location) {\n    const url = serverHost + '/services/search?query_term=' + queryTerm + '&location=' + location;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      })\n      .then(response => response.json())\n      .then(json => {\n        this.setState({ searchResult: json.data, location: json.location })\n      }\n    );\n  }\n\n  handleSearchRecommendedServices(location, needId) {\n    const url = serverHost + '/needs/' + needId + '/recommended_services?location=' + location;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      })\n      .then(response => response.json())\n      .then(json => {\n        this.setState({ recommendedServices: json.data, location: json.location })\n      }\n    );\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.need_id,\n          need = p.needsById[id],\n          client = p.client\n\n    function DeletedLabel({ is_deleted }) {\n      if (is_deleted) {\n        return (\n          <h4>\n            <div style={{color: 'rgb(213,87,79)'}}>Deleted</div>\n          </h4>\n        );\n      } else {\n        return null;\n      }\n    }\n\n    function UrgentLabel({ is_urgent }) {\n      if (is_urgent) {\n        return (\n          <h4>\n            <div style={{color: 'rgb(213,87,79)'}}>Urgent</div>\n          </h4>\n        );\n      } else {\n        return null;\n      }\n    }\n\n    // function TabPanel(props) {\n    //   const { children, value, index, ...other } = props;\n    \n    //   return (\n    //     <div\n    //       role=\"tabpanel\"\n    //       hidden={value !== index}\n    //       id={`simple-tabpanel-${index}`}\n    //       aria-labelledby={`simple-tab-${index}`}\n    //       {...other}\n    //     >\n    //       {value === index && (\n    //         <Box p={3}>\n    //           <Typography>{children}</Typography>\n    //         </Box>\n    //       )}\n    //     </div>\n    //   );\n    // }\n    \n    // TabPanel.propTypes = {\n    //   children: PropTypes.node,\n    //   index: PropTypes.any.isRequired,\n    //   value: PropTypes.any.isRequired,\n    // };\n    \n    // function a11yProps(index) {\n    //   return {\n    //     id: `simple-tab-${index}`,\n    //     'aria-controls': `simple-tabpanel-${index}`,\n    //   };\n    // }\n    \n    // const useStyles = makeStyles((theme) => ({\n    //   root: {\n    //     flexGrow: 1,\n    //     backgroundColor: theme.palette.background.paper,\n    //   },\n    // }));\n    \n    // function SearchTabs() {\n    //   const classes = useStyles();\n    //   const [value, setValue] = React.useState(0);\n    \n    //   const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    //   };\n    \n    //   return (\n    //     <div className={classes.root}>\n    //       <AppBar position=\"static\">\n    //         <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n    //           <Tab label=\"Recommended Services\" {...a11yProps(0)} />\n    //           <Tab label=\"Search for Services\" {...a11yProps(1)} />\n    //         </Tabs>\n    //       </AppBar>\n    //       <TabPanel value={value} index={0}>\n    //         recommended_services\n    //       </TabPanel>\n    //       <TabPanel value={value} index={1}>\n    //         Search for Services content\n    //       </TabPanel>\n    //     </div>\n    //   );\n    // }\n\n    // return (\n      \n    //   <Grid className=\"content\">\n    //     { need && need.loaded &&\n    //     <React.Fragment>\n    //       <Grid container>\n    //         <DeletedLabel is_deleted={need.is_deleted} />\n    //         <UrgentLabel is_urgent={need.is_urgent} />\n    //         <Table striped bordered condensed hover>\n    //           <tbody>\n    //             <TR\n    //               title=\"Type\"\n    //               value={need.type + need.matches.length}\n    //             />\n    //             <TR\n    //               title=\"Category\"\n    //               value={need.category}\n    //             />\n    //             <TR\n    //               title=\"Needed By\"\n    //               value={need.needed_by}\n    //             />\n    //             <TR\n    //               title=\"Description\"\n    //               value={need.description}\n    //             />\n    //             <TR\n    //               title=\"Condition\"\n    //               value={need.condition}\n    //             />\n    //             <TR\n    //               title=\"Status\"\n    //               value={need.status}\n    //             />\n    //             <TR\n    //               title=\"Languages\"\n    //               value={(need.languages || []).join(', ')}\n    //             />\n    //           </tbody>\n    //         </Table>\n    //       </Grid>\n    //       <div>\n    //       {(need.matches.length > 0) &&\n    //         <MatchedServices\n    //           clientId={client.id}\n    //           matches={need.matches}\n    //         />\n    //       }\n    //       </div>\n    //       <Grid container>\n    //         <SearchTabs />\n    //       </Grid>\n    //     </React.Fragment>\n    //     }\n    //   </Grid>\n    // )\n\n    return (\n      <Container className=\"content\">\n        { need && need.loaded &&\n          <Row>\n            <Col sm={12}>\n              <h3>Need</h3>\n            </Col>\n            <Col sm={12}>\n              <DeletedLabel is_deleted={need.is_deleted} />\n              <UrgentLabel is_urgent={need.is_urgent} />\n              <Table striped bordered condensed hover>\n                <tbody>\n                  <TR\n                    title=\"Type\"\n                    value={need.type}\n                  />\n                  <TR\n                    title=\"Category\"\n                    value={need.category}\n                  />\n                  <TR\n                    title=\"Needed By\"\n                    value={need.needed_by}\n                  />\n                  <TR\n                    title=\"Description\"\n                    value={need.description}\n                  />\n                  <TR\n                    title=\"Condition\"\n                    value={need.condition}\n                  />\n                  <TR\n                    title=\"Status\"\n                    value={need.status}\n                  />\n                  <TR\n                    title=\"Languages\"\n                    value={(need.languages || []).join(', ')}\n                  />\n                </tbody>\n              </Table>\n            </Col>\n            {(need.matches.length > 0) &&\n              <MatchedServices\n                clientId={client.id}\n                matches={need.matches}\n              />\n            }\n            <Col sm={12}>\n              <Tabs defaultActiveKey={1} id=\"serviceList\">\n                <Tab eventKey={1} title=\"RecommendedServices\">\n                  <ServiceSearchBar\n                    search={this.handleSearchRecommendedServices}\n                    location={client.address}\n                    needId={need.id}\n                  />\n                  {need.recommended_services && need.recommended_services.length > 0 &&\n                    <ServiceList\n                      need={need}\n                      services={this.state.recommendedServices}\n                      latlng={this.state.location}\n                    />\n                  }\n                </Tab>\n                <Tab eventKey={2} title=\"Search for Services\">\n                  <ServiceSearchBar\n                    search={this.handleSearchService}\n                    location={client.address}\n                    enableQueryTerm\n                  />\n                  {this.state.searchResult && this.state.searchResult.length > 0 &&\n                    <ServiceList\n                      need={need}\n                      services={this.state.searchResult}\n                      latlng={this.state.location}\n                    />\n                  }\n                </Tab>\n              </Tabs>\n            </Col>\n          </Row>\n        }\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    needsById: state.needs.byId,\n    client: state.clients.byId[state.needs.clientId]\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(Need);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, isLoggedin, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isLoggedin === true ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login-pane\" />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoggedin: state.auth.isLoggedin\n  }\n}\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AdminRoute = ({ component: Component, isLoggedin, isAdmin, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      (isLoggedin === true && isAdmin === true) ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login-pane\" />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    isAdmin: state.auth.currentUser && state.auth.currentUser.is_admin,\n    isLoggedin: state.auth.isLoggedin\n  }\n}\n\nexport default connect(mapStateToProps) (AdminRoute);\n","import { BrowserStore, BrowserCounterStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst providersStore = new BrowserStore('providers', []);\nconst providerCnt = new BrowserCounterStore('provider');\n\nexport async function fetchProviders() {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(providersStore.value));\n}\n\nexport async function fetchProvider(id) {\n  await sleep(200);\n  // ugly deep copy\n  return JSON.parse(JSON.stringify(providersStore.value.find(provider => provider.id === Number(id))));\n}\n\n\nexport async function createProvider(newProviderData) {\n  await sleep(200);\n  const newProvider = {\n    id: providerCnt.nextCnt,\n    reviews: [],\n    ...newProviderData\n  };\n  providersStore.value = [...providersStore.value, newProvider];\n  return {success: true, providerId: newProvider.id};\n  // return {success: false, error: 'error message here'}\n}\n\nexport async function updateProvider(id, updatedProvider) {\n  await sleep(200);\n  Object.assign(providersStore.value.find(provider => provider.id === Number(id)), updatedProvider);\n  providersStore.save();\n  return {success: true, providerId: id};\n  // return {success: false, error: 'error message here'}\n}\n\n\nexport async function deleteProvider(updatedProvider) {\n  await sleep(200);\n  const idx = providersStore.value.findIndex(provider => provider.id === updatedProvider.id);\n  providersStore.value.splice(idx, 1)\n  providersStore.save();\n  return {success: true}\n}\n","import React from 'react';\n// TODO: createProviderWithCSV  (CSV Upload)\nimport { fetchProviders, deleteProvider } from '../api/mockedApi/providers';\n\nimport { formatLocation } from '../helpers/location_helpers'\nimport { formatPhoneNumber } from '../helpers/phone_number_helpers'\n\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'providers';\n\nconst formatProviderName = provider => {\n  const {profile} = provider;\n  if (provider.type === 'Individual')\n    return profile && profile.first_name + \" \" + profile.last_name;\n  else\n    return provider.company;\n};\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    label: 'Name',\n    body: ({id, profile, company, type}) => {\n      return <Link color to={`/${TYPE}/${id}`}>\n        {formatProviderName({\n          company, type, profile,\n        })}\n      </Link>\n    },\n  },\n  {\n    label: 'Type',\n    body: ({type}) => type,\n  },\n  {\n    label: 'Email',\n    body: ({profile}) => profile.email,\n  },\n  {\n    label: 'Phone Number',\n    body: ({profile}) => {\n      if (profile.primary_phone_number)\n        return formatPhoneNumber(profile.primary_phone_number);\n      return 'Not Provided';\n    }\n  },\n  {\n    name: 'main_address',\n    label: 'Address',\n    body: ({main_address}) => {\n      if (main_address)\n        return formatLocation(main_address);\n      return 'Not Provided';\n    }\n  },\n];\n\nexport default function Providers() {\n\n  const generateMarkers = (data, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageProviders = data.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageProviders.map(provider => ({\n      position: {lat: Number(provider.main_address.lat), lng: Number(provider.main_address.lng)},\n      title: formatProviderName(provider),\n      link: `/${TYPE}/${provider.id}`,\n      content: provider.main_address && formatLocation(provider.main_address),\n    })).filter(provider => provider.position.lat && provider.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchProviders}\n      deleteItem={deleteProvider}\n      generateMarkers={generateMarkers}\n      nameFormatter={formatProviderName}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nexport default class AddServicePrompt extends Component {\n  render() {\n    return(\n      <Row className=\"content\">\n        <Col sm={12}>\n          <h2>Would you like to add a service for this provider?</h2>\n          <hr />\n          <Link to=\"/service/new\">\n            <Button bsStyle=\"default\">\n              Yes\n            </Button>\n          </Link>{' '}\n          <Link to=\"/providers\">\n            <Button bsStyle=\"default\">\n              No\n            </Button>\n          </Link>\n        </Col>\n      </Row>\n    )\n  }\n}\n","import { recursiveAssign, isFieldEmpty, isAvailabilityEmpty, verifyAddressField,\n  verifyOtherAddressesFields, validateAddressPostalCode, validateContactFormat,\n  verifyEmail, verifyPhoneNumber} from \"./index\";\n\n\n// Verify the params filled in client form\nexport function provider_verify_form(form, steps) {\n  const format_messages = verifyFormFormat(form);\n  // const format_messages = {}\n  const required_field_msg = verifyRequiredField(form, steps);\n  return recursiveAssign(required_field_msg, format_messages);\n}\n\n/**\n * verify if every required field is filled in\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyRequiredField(form, steps) {\n  let result = {};\n  for (const step_page_fields of steps) {\n    // traverse each step page in steps\n    for (const [field, required] of Object.entries(step_page_fields)) {\n      if (required) {\n        if (field === 'availability' && isAvailabilityEmpty(form['operation_hours'])) {\n          result['availability'] = \"Please fill in at least one availability time slot!\";\n        } else if (field === 'main_address') {\n          result[field] = {};\n          verifyAddressField(form[field], result[field]);\n          if (Object.entries(result[field]).length === 0) {\n            delete result[field];\n          }\n        } else if (field === 'other_addresses') {\n          if (form[field].length === 0) {\n            // The user did not create an other address\n            result[field] = \"Please create at least one other address form!\"\n          } else {\n            // Some fields in other address are not filled in\n            result[field] = {};\n            verifyOtherAddressesFields(form[field], result[field])\n            if (Object.entries(result[field]).length === 0) {\n              delete result[field];\n            }\n          }\n        } else if (field === \"primary_contact\"){\n          verifyContactEmptiness(field, form, result, 'primary_contact')\n        } else if (field === 'secondary_contact'){\n          verifyContactEmptiness(field, form, result, 'secondary_contact')\n        } else {\n          verifyRequiredFieldByFormType(field, form, result)\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * verify format for various field\n * @param form\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyFormFormat(form) {\n  let result = {}\n  // Verify postal code\n  validateAddressPostalCode(form.main_address.postal_code, result, 'main_address')\n  if (form.other_addresses.length > 0){\n    result['other_addresses'] = {};\n    let i = 0;\n    for (const address of form.other_addresses){\n      validateAddressPostalCode(address.postal_code, result['other_addresses'], i);\n      i++;\n    }\n    if (Object.entries(result['other_addresses']).length === 0) {\n      delete result['other_addresses'];\n    }\n  }\n\n  if(form.primary_contact.profile){\n    if (!!!result['primary_contact']){\n      // if field secondary_contact doesn't exist, create one first\n      result['primary_contact'] = {};\n    }\n    validateContactFormat(form.primary_contact.profile, result['primary_contact'])\n    if (Object.entries(result['primary_contact']).length === 0) {\n      delete result['primary_contact'];\n    }\n  }\n\n  if(form.secondary_contact.profile){\n    if (!!!result['secondary_contact']){\n      // if field secondary_contact doesn't exist, create one first\n      result['secondary_contact'] = {};\n    }\n    validateContactFormat(form.secondary_contact.profile, result['secondary_contact'])\n    if (Object.entries(result['secondary_contact']).length === 0) {\n      delete result['secondary_contact'];\n    }\n  }\n\n  if(form.reference1_email.length !== 0){\n    verifyEmail(form.reference1_email, 'reference1_email', result);\n  }\n  if(form.reference2_email.length !== 0){\n    verifyEmail(form.reference2_email, 'reference2_email', result);\n  }\n  if(form.reference1_phone.length !== 0){\n    verifyPhoneNumber(form.reference1_phone, 'reference1_phone', result);\n  }\n  if(form.reference2_phone.length !== 0){\n    verifyPhoneNumber(form.reference2_phone, 'reference2_phone', result);\n  }\n\n  if(form.type === \"Individual\"){\n    //check fields in form.profile\n    if(form.profile.email.length !== 0){\n      verifyEmail(form.profile.email, 'email', result);\n    }\n    if(form.profile.primary_phone_number.length !== 0){\n      verifyPhoneNumber(form.profile.primary_phone_number, 'primary_phone_number', result);\n    }\n    if(form.profile.alt_phone_number.length !== 0){\n      verifyPhoneNumber(form.profile.alt_phone_number, 'alt_phone_number', result);\n    }\n  }\n  return result;\n}\n\n/**\n * Check the field in contact emptiness and generate error message for the corresponding field\n * @param field\n * @param form\n * @param result\n * @param contactType Can be either \"primary_contact\" or \"secondary_contact\"\n */\nfunction verifyContactEmptiness(field, form, result, contactType){\n  for (const field of Object.keys(form[contactType]['profile'])){\n    if(isFieldEmpty(form[contactType]['profile'][field])){\n      if (!!!result[contactType]){\n        // if field contactType doesn't exist, create one first\n        result[contactType] = {};\n      }\n      result[contactType][field] = \"This field is required\"\n    }\n  }\n}\n\n/**\n * Verify required fields that are depends on form type, form type can either be \"Individual\" or \"Organization\".\n * @param field\n * @param form\n * @param result\n */\nfunction verifyRequiredFieldByFormType(field, form, result){\n  const org_ignore_fields = [\"email\", \"primary_phone_number\", \"alt_phone_number\", \"profile\"]\n  const individual_ignore_fields = [\"email\", \"primary_phone_number\", \"alt_phone_number\"]\n  if (form.type === \"Individual\"){\n    if (field in form['profile'] && isFieldEmpty(form['profile'][field])){\n      result[field] = 'This field is required';\n    } else if (field in form && !individual_ignore_fields.includes(field) && isFieldEmpty(form[field])) {\n      result[field] = 'This field is required';\n    }\n  } else if (form.type === 'Organization'){\n    if (field in form && !org_ignore_fields.includes(field) && isFieldEmpty(form[field])) {\n      result[field] = 'This field is required';\n    }\n  }\n}","import { BrowserStore } from './browserStore';\nimport { sleep } from \"../index\";\n\nconst defaultProviderFields =\n  {\n    \"organization\": {\n      \"steps_order\": [\"s1\"],\n      \"form_structure\": {\n        \"s1\": {\n          \"company\": {\"type\": \"field\", \"required\": false},\n          \"status\": {\"type\": \"field\", \"required\": false}\n        }\n      }\n    },\n    \"volunteer\": {\n      \"steps_order\": [\"s1\"],\n      \"form_structure\": {\n        \"s1\": {\n          \"first_name\": {\"type\": \"field\", \"required\": false},\n          \"last_name\": {\"type\": \"field\", \"required\": false}\n        }\n      }\n    },\n    \"goods_donor\": {\"steps_order\": [], \"form_structure\": {}},\n    \"professional_service_provider\": {\"steps_order\": [], \"form_structure\": {}}\n  };\n\nconst providerFieldsStore = new BrowserStore('provider-fields', defaultProviderFields);\n\nexport async function fetchProviderFields(reformat = true) {\n  await sleep(200);\n  // ugly deep copy\n  const data = JSON.parse(JSON.stringify(providerFieldsStore.value));\n  if (reformat) {\n    // transform to the same object as client fields\n    Object.keys(data).forEach(providerType => {\n      const formStructure = data[providerType].form_structure;\n      Object.keys(formStructure).forEach(stepName => {\n        const fields = formStructure[stepName];\n        formStructure && Object.keys(fields).forEach(fieldName => {\n          // skip questions\n          if (fields[fieldName].type !== 'field') return;\n          fields[fieldName] = fields[fieldName].required;\n          console.log(fieldName)\n        })\n      })\n    });\n    console.log('fetchProviderFields', data)\n    return data;\n  }\n  return data;\n}\n\nexport async function updateProviderFields(updatedProviderFields) {\n  await sleep(200);\n  providerFieldsStore.value = updatedProviderFields\n}\n","import React, { useState } from 'react';\nimport { operationHourMapping, defaultTimeSlot } from '../../helpers/operation_hour_helpers'\n\nimport { IconButton, Typography, Grid, Alert } from '@mui/material';\nimport { makeStyles } from \"@mui/styles\";\nimport { Delete, Add, ArrowRightAltOutlined as Arrow } from '@mui/icons-material';\nimport { FieldsWrapper } from \"./index\";\nimport SelectField from \"./fields/SelectField\";\n\nimport { format } from 'date-fns';\nimport GeneralField, {dateFormat} from './fields/GeneralField.js'\n\nconst useStyles = makeStyles(theme => ({\n  weekday: {\n    minWidth: 110,\n    alignSelf: 'start',\n    top: 28,\n    position: 'relative',\n  },\n  day: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  times: {\n    display: 'flex',\n    minWidth: 350,\n    alignItems: 'start',\n    flexDirection: 'column'\n  },\n  date: {\n    display: 'flex',\n    width: 170,\n  },\n  time: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  select: {\n    minWidth: 120,\n    margin: 10,\n  },\n  button: {\n    position: 'relative',\n    top: 8,\n  },\n  arrow: {\n    paddingTop: 24,\n    marginLeft: 12,\n    marginRight: 12\n  }\n}));\n\nexport default function OperationHoursFieldGroup({operationHours, operationDates, errMsg}) {\n  const classes = useStyles();\n  // console.log(operationHours)\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleOperationHourOnClick = (e, weekDay, action) => {\n    if (action === 'add') {\n      operationHours[weekDay].push({...defaultTimeSlot})\n    } else {\n      operationHours[weekDay].pop()\n    }\n    forceUpdate();\n  };\n\n  const handleChange = (e, weekDay, slotIndex, id) => {\n    const value = e.target.value;\n    operationHours[weekDay][slotIndex][id] = value == null ? '' : value;\n    forceUpdate();\n  };\n\n  return (\n    <FieldsWrapper label=\"Availability\">\n\n      {operationDates.map(({start_date: startDate, end_date: endDate}, idx) => {\n        // default is today\n        if (startDate == null) startDate = operationDates[idx].start_date = format(new Date(), dateFormat);\n\n        return (\n          <Grid container direction=\"row\" alignItems=\"center\" key={idx}>\n            <GeneralField\n              label=\"Start Date\"\n              className={classes.date}\n              type=\"date\"\n              value={startDate}\n              onChange={e => operationDates[idx].start_date = e.target.value}\n            />\n            <Arrow className={classes.arrow}/>\n            <GeneralField\n              label=\"End Date\"\n              className={classes.date}\n              type=\"date\"\n              value={endDate}\n              onChange={e => operationDates[idx].end_date = e.target.value}\n              helperText={\"leave empty if not sure\"}\n            />\n            {idx === (operationDates.length - 1) &&\n            <IconButton\n              className={classes.button}\n              onClick={e => {\n                operationDates.push({start_date: null, end_date: null});\n                forceUpdate();\n              }}\n              size=\"large\">\n              <Add/>\n            </IconButton>\n            }\n            {idx !== 0 && idx === (operationDates.length - 1) &&\n            <IconButton\n              className={classes.button}\n              onClick={e => {\n                operationDates.splice(idx, 1);\n                forceUpdate();\n              }}\n              size=\"large\">\n              <Delete/>\n            </IconButton>\n            }\n          </Grid>\n        );\n      })}\n\n\n      {Object.entries(operationHours).map(([weekDay, timeSlots]) => {\n        return (\n          <div key={weekDay} className={classes.day}>\n            <Typography color=\"textSecondary\" variant=\"subtitle1\" className={classes.weekday}>\n              {weekDay}\n            </Typography>\n            <div className={classes.times}>\n              {timeSlots.map((time, idx) => {\n                return (\n                  <div key={idx} className={classes.time}>\n                    <SelectField\n                      className={classes.select}\n                      value={time.start_time}\n                      label=\"Start\"\n                      options={operationHourMapping}\n                      onChange={e => handleChange(e, weekDay, idx, 'start_time', 'change')}\n                      // InputLabelProps={{ shrink: true }}\n                      // variant=\"outlined\"\n                    />\n                    <SelectField\n                      className={classes.select}\n                      value={time.end_time}\n                      label=\"End\"\n                      options={operationHourMapping}\n                      onChange={e => handleChange(e, weekDay, idx, 'end_time')}\n                      // InputLabelProps={{ shrink: true }}\n                    />\n                    {idx === (timeSlots.length - 1) &&\n                    <IconButton\n                      className={classes.button}\n                      onClick={e => handleOperationHourOnClick(e, weekDay, 'add')}\n                      size=\"large\">\n                      <Add/>\n                    </IconButton>\n                    }\n                    {idx !== 0 && idx === (timeSlots.length - 1) &&\n                    <IconButton\n                      className={classes.button}\n                      onClick={e => handleOperationHourOnClick(e, weekDay, 'remove')}\n                      size=\"large\">\n                      <Delete/>\n                    </IconButton>\n                    }\n                  </div>\n                );\n              })}\n            </div>\n\n          </div>\n        );\n      })}\n      {errMsg &&\n      <Alert severity=\"error\">{errMsg}</Alert>}\n    </FieldsWrapper>\n  );\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { providerFields, providerFormTypes, providerCategoryValue2Key } from '../../constants/provider_fields.js'\nimport { defaultProfileFields, defaultContactFields } from '../../constants/default_fields.js'\nimport {\n  operationHourObjectToList\n} from '../../helpers/operation_hour_helpers';\nimport { provider_verify_form } from \"../../helpers/provider_verify_form\";\n\n// redux\nimport { useHistory, useParams } from 'react-router';\nimport { useDispatch } from 'react-redux'\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\nimport { createProvider, updateProvider, fetchProvider } from '../../api/mockedApi/providers';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { fetchProviderFields } from '../../api/mockedApi/providerFields';\n\n// components\nimport FieldGroup from '../shared/FieldGroup';\nimport OperationHoursFieldGroup from '../shared/OperationHoursFieldGroup';\nimport LocationFieldGroup from '../shared/LocationFieldGroup';\n\nimport { generateProviderFields } from \"../../constants/default_fields\";\nimport { FormStepper, Loading, FieldsWrapper, OtherLocationsFields } from \"../shared\";\nimport { Container } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: '80%',\n    margin: 'auto',\n    paddingBottom: 10,\n  },\n  addressPaper: {\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    width: 380,\n  }\n}));\n\nexport default function ProviderForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {id, formType: category} = useParams();\n  const mode = id ? 'edit' : 'new';\n  const [state, setState] = useState({\n    loading: true,\n    category: category,\n    languageOptions: [],\n    eligibilities: [],\n    stepNames: [],\n    steps: [],\n    provider: null,\n    dispatchErrorMsg: [],\n    fieldErrorMsg: {},\n  });\n\n  /**\n   * Provider Type\n   * @type {('Organization', 'Individual')}\n   */\n  const providerType = useMemo(() => {\n    if (mode === 'new')\n      return category === 'organization' ? 'Organization' : 'Individual';\n    else {\n      if (state.provider) return state.provider.category === 'organization' ? 'Organization' : 'Individual';\n    }\n  }, [state.provider, category, mode]);\n\n  // DO NOT store form as state, it degrades the performance as all form got rendered every time user type anything.\n  // Instead, for large form like this page, store the form as a variable and pass it to child components (input)\n  const form = useMemo(() =>\n      generateProviderFields(providerType, state.category, state.provider),\n    [providerType, state.category, state.provider]);\n\n  const load = useCallback((category) => {\n    console.log(category);\n    const promises = [];\n    promises.push(dispatch(fetchOntologyCategories('languages'))\n      .then(data => setState(state => ({...state, languageOptions: data}))));\n    promises.push(fetchProviderFields()\n      .then(data => {\n        console.log('provider form', data)\n        // no fields is available\n        if (data[category] == null || data[category].steps_order.length === 0\n          || Object.values(data[category].form_structure).length === 0) {\n          setState(state => ({...state, loading: true, errorMessage: ['No fields are available.']}));\n        } else {\n          setState(state => ({\n            ...state,\n            stepNames: data[category].steps_order,\n            steps: Object.values(data[category].form_structure)\n          }));\n        }\n      }));\n    Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  }, [dispatch]);\n\n  useEffect(() => {\n    // load provider first if editing\n    if (id) {\n      fetchProvider(id)\n        .then((provider) => {\n          console.log(provider)\n          const cat = provider.type === 'Organization' ? 'organization' : providerCategoryValue2Key[provider.category];\n          setState(state => ({...state, provider: provider, category: cat}));\n          load(cat);\n        });\n    } else {\n      load(category);\n    }\n  }, [dispatch, id, category, load]);\n\n  const handleFinish = async () => {\n    const newForm = {...form};\n    newForm['operation_hours'] = operationHourObjectToList(newForm['operation_hours']);\n    if (newForm.status === '') newForm.status = undefined;\n    console.log(newForm);\n    // TODO: pretty error message\n    const fieldErrorMsg = provider_verify_form(form, state.steps);\n    if (Object.keys(fieldErrorMsg).length !== 0) {\n      setState(state => ({...state, fieldErrorMsg}));\n      return;\n    }\n    if (mode === 'edit') {\n      const res = await updateProvider(id, newForm);\n      if (res.success) {\n        history.push(`/providers/${res.providerId}`);\n      } else {\n        setState(state => ({...state, errorMessage: [res.error]}));\n      }\n    } else {\n      const res = await createProvider(newForm);\n      if (res.success) {\n        history.push(`/providers/${res.providerId}`);\n      } else {\n        setState(state => ({...state, errorMessage: [res.error]}));\n      }\n    }\n  };\n\n  /**\n   * Handle changes in form\n   * @param name {string}\n   * @returns {Function}\n   */\n  const handleChange = useCallback(name => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n  }, [form]);\n\n  const getStepContent = idx => {\n    const step = state.steps[idx];\n    if (!step) return null;\n    return <div className={classes.content}>\n      {Object.entries(step).map(([field, required]) => {\n        // The field is not a normal field, i.e. questions\n        // const isQuestion = typeof required === 'object';\n\n        let options;\n        const errMsg = state.fieldErrorMsg[field];\n        if (field === 'languages') {\n          options = state.languageOptions;\n        }\n\n        if (field === 'main_address') {\n          return (\n            <FieldsWrapper label=\"Main address\" key={field}>\n              <LocationFieldGroup\n                address={form.main_address}\n                required={required}\n                errMsg={errMsg}\n              />\n            </FieldsWrapper>\n          );\n        } else if (field === 'other_addresses') {\n          return (\n            <OtherLocationsFields\n              key={field}\n              otherLocations={form.other_addresses}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else if (field === 'primary_contact' || field === 'secondary_contact') {\n          return (\n            <FieldsWrapper key={field} label={providerFields[field].label}>\n              {Object.keys(defaultContactFields).map(contactField => {\n                return (\n                  <FieldGroup\n                    key={contactField}\n                    label={providerFields[contactField]['label']}\n                    type={providerFields[contactField]['type']}\n                    component={providerFields[contactField]['component']}\n                    value={form[field]['profile'][contactField]}\n                    onChange={handleChange(field + '.' + contactField)}\n                    error={errMsg == null ? false : errMsg[contactField] != null}\n                    helperText={!!errMsg ? errMsg[contactField] : null}\n                  />\n                )\n              })}\n            </FieldsWrapper>\n          )\n        } else if (field === 'availability') {\n          return (\n            <OperationHoursFieldGroup\n              key={field}\n              operationHours={form.operation_hours}\n              operationDates={form.operation_dates}\n              errMsg={errMsg}\n            />\n          )\n        } else if (field === 'notes') {\n          return (\n            <GeneralField\n              key={field}\n              label={providerFields[field].label}\n              value={form[field]}\n              onChange={handleChange(field)}\n              required={required}\n              multiline\n              variant=\"outlined\"\n              fullWidth\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          )\n        } else {\n          const isProfile = Object.keys(defaultProfileFields).includes(field);\n          // only individual has field \"profile\"\n          if (isProfile && providerType !== \"Individual\") return null;\n          let fieldProps = providerFields[field];\n          if (fieldProps == null) fieldProps = {};\n          return (\n            <FieldGroup\n              key={field}\n              label={providerFields[field].label}\n              type={providerFields[field].type}\n              component={providerFields[field].component}\n              value={isProfile ? form.profile[field] : form[field]}\n              onChange={handleChange(isProfile ? 'profile.' + field : field)}\n              required={required}\n              options={providerFields[field].options || options}\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          );\n        }\n      })}\n    </div>\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading...`}/>;\n\n  console.log(state.category);\n  return (\n    <Container>\n      <FormStepper\n        getStepContent={getStepContent}\n        handleFinish={handleFinish}\n        stepNames={state.stepNames}\n        error={state.dispatchErrorMsg}\n        title={(mode === 'new' ? 'Create ' : 'Edit ') + providerFormTypes[state.category]}\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport _ from 'lodash';\n\nimport TR from '../../shared/TR';\nimport { defaultContactFields } from '../../../constants/default_fields.js'\nimport { formatLocation } from '../../../helpers/location_helpers';\nimport { formatPhoneNumber } from '../../../helpers/phone_number_helpers';\nimport { operationHourListToObject, OperationHourTable }\n  from '../../../helpers/operation_hour_helpers';\n\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from \"@mui/material\"\nimport useProfileTableStyles from '../../../stylesheets/profile-table'\n\nexport default function ProviderInfoTable({step, provider, infoFields, providerFields}) {\n  let rowTitle, rowValue;\n  const infoRows = _.map(infoFields, (data, fieldId) => {\n    if (data.type === 'field') {\n      rowTitle = providerFields[fieldId].label;\n      switch (fieldId) {\n        case 'first_name':\n        case 'middle_name':\n        case 'last_name':\n        case 'preferred_name':\n        case 'gender':\n        case 'birth_date':\n        case 'email':\n          if (provider.type === 'Individual') {\n            rowValue = provider.profile[fieldId];\n          } else {\n            rowValue = provider[fieldId];\n          }\n          break;\n        case 'primary_phone_number':\n        case 'alt_phone_number':\n          if (provider.type === 'Individual') {\n            rowValue = provider.profile[fieldId] ? formatPhoneNumber(provider.profile[fieldId]) : 'None provided';\n          } else {\n            rowValue = provider[fieldId] ? formatPhoneNumber(provider[fieldId]) : 'None provided';\n          }\n          break;\n        case \"main_address\":\n          rowValue = provider[fieldId] ? formatLocation(provider[fieldId]) : \"None provided\";\n          break;\n        case \"other_addresses\":\n          if (provider[fieldId]) {\n            rowValue = _.map(provider[fieldId], (address, index) =>\n              <p key={index}>{formatLocation(address)}</p>)\n          } else {\n            rowValue = null;\n          }\n          break;\n        case \"languages\":\n          rowValue = (provider[fieldId] || []).join(', ')\n          break;\n        case \"availability\":\n          const operation_hours = operationHourListToObject(provider.operation_hours)\n          rowValue = <OperationHourTable operationHourObj={operation_hours}/>\n          break;\n        case 'primary_contact':\n        case 'secondary_contact':\n          if (provider[fieldId]) {\n            rowValue = _.map(_.keys(defaultContactFields), contactField => {\n              if (provider[fieldId]['profile'][contactField]) {\n                return (\n                  <li key={contactField}>\n                    {`${providerFields[contactField]['label']}: ${provider[fieldId]['profile'][contactField]}`}\n                  </li>\n                )\n              }\n            })\n          } else {\n            rowValue = null;\n          }\n          break;\n\n        default:\n          rowValue = provider[fieldId];\n      }\n    } else if (data.type === 'question') {\n      rowTitle = fieldId;\n      const response = _.find(provider.responses, response => {\n        return response.question_id === data.id.toString()\n      })\n      if (response) {\n        rowValue = response.text\n      } else {\n        rowValue = null;\n      }\n    }\n    return (\n      <TR\n        key={fieldId}\n        title={rowTitle}\n        value={rowValue}\n      />\n    );\n  })\n\n  const classes = useProfileTableStyles()\n  return (\n    <TableContainer className={classes.table} component={Paper}>\n      <Table aria-label=\"Profile table\">\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.title}>{step}</TableCell>\n            <TableCell className={classes.title2}></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {infoRows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { Component } from 'react';\n\nimport { Button, FormGroup, FormControl, FormLabel, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { rateProvider } from '../../store/actions/providerActions.js';\nimport StarRatingComponent from 'react-star-rating-component';\n\nclass ProviderRatingForm extends Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.handleStarSelection=this.handleStarSelection.bind(this);\n\t\tthis.handleCommentChange=this.handleCommentChange.bind(this);\n    this.handleSubmit=this.handleSubmit.bind(this);\n    this.handleTextRating=this.handleTextRating.bind(this);\n    const id = this.props.match.params.id\n    this.state = {\n      id: id,\n\t\t\trating: 0,\n      comment: ''\n    }\n  }\n\n  handleStarSelection(nextValue, name) {\n    this.setState({rating: nextValue});\n  }\n\n  handleTextRating(e) {\n    this.setState({rating: e.target.value});\n  }\n  handleCommentChange(e) {\n    this.setState({comment: e.target.value});\n  }\n  handleSubmit(e) {\n    const id = this.props.match.params.id\n    this.props.dispatch(rateProvider(id, this.state));\n    this.props.history.push('/provider/' + id);\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <Col sm={9}>\n          <h3> Rate Provider </h3>\n          <hr/>\n        </Col>\n\n        <FormGroup controlId=\"rating\">\n          <Col componentClass={FormLabel} sm={5}>\n            Rate this provider (0-5)\n          </Col>\n          <Col sm={9}>\n            <FormControl\n              type=\"text\"\n              placeholder=\"A number between 0 and 5\"\n              value={this.state.rating}\n              onChange={this.handleTextRating}\n            />\n          </Col>\n        </FormGroup>\n        <Col sm={9}>\n          <StarRatingComponent\n            name=\"rating\"\n            starCount={5}\n            value={this.state.rating}\n            onStarClick={this.handleStarSelection}\n          />\n        </Col>\n        <Col sm={9}>\n          <hr/>\n          <FormGroup controlId=\"comments\">\n            <FormLabel>Comments</FormLabel>\n            <FormControl\n              componentClass=\"textarea\"\n              placeholder=\"Comments about this provider...\"\n              onChange={this.handleCommentChange}\n            />\n          </FormGroup>\n        </Col>\n        <Col sm={9}>\n          <Button type=\"submit\" onClick={this.handleSubmit}> Submit </Button>\n        </Col>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    providersById: state.providers.byId || {},\n    providerLoaded: state.providers.indexLoaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(ProviderRatingForm);\n","import React from 'react'\nimport { Link } from './shared';\nimport { fetchServices, deleteService } from '../store/actions/serviceActions.js'\nimport { GenericPage } from \"./shared\";\n\nconst TYPE = 'services';\n\nconst formatProvider = ({provider}) => {\n  return provider.type === 'Organization' ? provider.company\n    : (provider.profile ? `${provider.profile.first_name} ${provider.profile.last_name}` : 'Not provided')\n};\n\nconst columnsWithoutOptions = [\n  {\n    label: 'Name',\n    body: ({id, name}) => {\n      return <Link color to={`/${TYPE}/${id}`}>{name}</Link>\n    }\n  },\n  {\n    label: 'Provider',\n    body: ({provider}) => {\n      return  <Link color to={`/providers/${provider.id}`}>\n        {formatProvider({provider})}\n      </Link>\n    }\n  },\n  {\n    label: 'Description',\n    body: ({desc}) => desc\n  },\n  {\n    label: 'Category',\n    body: ({category}) => category\n  }\n];\n\nexport default function Services() {\n\n  const nameFormatter = service => service.name;\n\n  const generateMarkers = (data, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageServices = data.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageServices.map(service => ({\n      position: {lat: Number(service.location.lat), lng: Number(service.location.lng)},\n      title: service.name,\n      link: `/${TYPE}/${service.id}`,\n      content: service.desc,\n    })).filter(service => service.position.lat && service.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchServices}\n      deleteItem={deleteService}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","export function formatEligibilityConditions(condType, condValue) {\n  if (condValue instanceof Array) {\n    return `${condType}: ${condValue.join(', ')}`\n  }\n  else {\n    return `${condType}: ${condValue}`\n  }\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport TR from '../shared/TR'\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchService } from '../../store/actions/serviceActions.js'\n\nimport { formatLocation } from '../../helpers/location_helpers'\nimport { formatEligibilityConditions } from '../../helpers/eligibility_condition_helpers'\n\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@mui/icons-material\";\n\nclass Service extends Component {\n  componentWillMount() {\n    const id = this.props.match.params.id\n    this.props.dispatch(fetchService(id));\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.id,\n          service = p.servicesById[id];\n\n    return (\n      <div className=\"content client\">\n        <h3>Service Profile</h3>\n        <Link to={`/services/${service.id}/edit`}>\n          <Button bsStyle=\"primary\">\n            Edit\n          </Button>\n        </Link>{' '}\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n\n        { service && service.servicesLoaded &&\n          <Table striped bordered condensed hover>\n            <tbody>\n              <TR\n                title=\"Name\"\n                value={service.name}\n              />\n\n              <TR\n                title=\"Type\"\n                value={service.type}\n              />\n              <TR\n                title=\"Description\"\n                value={service.desc}\n              />\n              <TR\n                title=\"Category\"\n                value={service.category}\n              />\n              <TR\n                title=\"Eligibility\"\n                value={service.eligibility}\n              />\n              <TR\n                title=\"Available from\"\n                value={service.available_from}\n              />\n              <TR\n                title=\"Available until\"\n                value={service.available_to}\n              />\n              <TR\n                title=\"Languages\"\n                value={(service.languages || []).join(', ')}\n              />\n              <TR\n                title=\"Max Capacity\"\n                value={service.max_capacity}\n              />\n              <TR\n                title=\"Current capacity\"\n                value={service.current_capacity}\n              />\n              <TR\n                title=\"Frequency\"\n                value={service.frequency}\n              />\n              <TR\n                title=\"Billable\"\n                value={service.billable}\n              />\n              <TR\n                title=\"Price\"\n                value={service.price}\n              />\n              <TR\n                title=\"Method of delivery\"\n                value={service.method_of_delivery}\n              />\n              <TR\n                title=\"Method of registration\"\n                value={service.method_of_registration}\n              />\n              <TR\n                title=\"Registration\"\n                value={service.registration}\n              />\n              <TR\n                title=\"Contact Person Email\"\n                value={service.email}\n              />\n              <TR\n                title=\"Contact Person Phone\"\n                value={service.primary_phone_number}\n              />\n              <TR\n                title=\"Secondary Phone\"\n                value={service.alt_phone_number}\n              />\n              <tr>\n                <td><b>Location</b></td>\n                <td>{formatLocation(service.location)}</td>\n              </tr>\n\n              {_.keys(_.omit(service.eligibility_conditions, ['lower_age_limit', 'upper_age_limit'])) > 0 &&\n                <tr>\n                  <td><b>Eligibility Conditions</b></td>\n                  <td>\n                    {_.map(\n                        _.omit(service.eligibility_conditions, ['lower_age_limit', 'upper_age_limit']\n                      ), (value, type) => {\n                      return (\n                        <li key={type}>\n                          {formatEligibilityConditions(type, value)}\n                        </li>\n                      );\n                    })}\n                    {service.eligibility_conditions.lower_age_limit &&\n                      <li>\n                        {formatEligibilityConditions('Age greater than' , service.eligibility_conditions.lower_age_limit)}\n                      </li>\n                    }\n                    {service.eligibility_conditions.upper_age_limit &&\n                      <li>\n                        {formatEligibilityConditions('Age less than' , service.eligibility_conditions.upper_age_limit)}\n                      </li>\n                    }\n                  </td>\n                </tr>\n              }\n              <TR\n                title=\"Public?\"\n                value={service.is_public ? 'Yes': 'No'}\n              />\n              <TR\n                title=\"Share with\"\n                value={(service.share_with || []).join(', ')}\n              />\n              <TR\n                title=\"Notes\"\n                value={service.notes}\n              />\n              <tr>\n                <td><b>Provider</b></td>\n                <td>\n                  <Link to={`/provider/${service.provider.id}`}>\n                    {(service.provider.type === 'Organization') ?\n                      service.provider.company\n                    :\n                      `${service.provider.profile.first_name} ${service.provider.profile.last_name}`\n                    }\n                  </Link>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servicesById: state.services.byId,\n    serviceLoaded: state.services.indexLoaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(Service);\n","import { statusInCanadaOptions, genderOptions, educationLevelOptions, countryOptions, languageOptions, provinceOptions, incomeSourceOptions, maritalStatusOptions} from '../../store/defaults';\nimport React, { useEffect, useState, useMemo, useCallback, Comopnent } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { fetchEligibilities } from '../../api/eligibilityApi';\nimport { serverHost } from '../../store/defaults';\n\n\n// export default function  something() {\n//   // const dispatch = useDispatch();\n//   const [state, setState] = useState({\n//     loading: true,\n//     languageOptions: [],\n//     all_ngo_conditions: [],\n//     stepNames: [],\n//     steps: [],\n//     client: null,\n//     dispatchErrorMsg: [],\n//     fieldErrorMsg: {},\n//   });\n  \n//   // useEffect(() => {\n//     const promises = [];\n//     promises.push(fetchOntologyCategories('languages')\n//       .then(data => setState(state => ({...state, languageOptions: data}))));\n//     promises.push(fetchEligibilities()\n//       .then(data => {\n//         setState(state => ({...state, all_ngo_conditions: data.map(data => data.title)}))\n//       }));\n//     Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  \n//     // }, [dispatch]);\n\n//   return promises\n// }\n// const appRes = something()\n// console.log(\"conditionConfig:\", appRes)\n\n\n\n\n// const ontologyCategories = fetchOntologyCategories('languages')\n// console.log(\"conditionConfig: \", ontologyCategories)\n\n\n// const ngoEligibilities = fetchEligibilities('languages')\n// console.log(\"conditionConfig: \", all_ngo_conditions)\n// const all_ngo_conditions= ngoEligibilities.map(data => data.title)\n\n// const ontologyRes = retrieveOnotologyStoreConditionConfig()\n// console.log(\"conditionConfig\", ontologyRes)\n\n\n// const data = await fetchEligibilities().then(data => {return data=> data.title})\n// For reference\nconst conditions = [\"age\", \"alt_phone_number\", \"apt_number\", \"arrival_date\", \"birth_date\", \"city\", \"completed_education_level\",\n  \"country_of_last_residence\", \"country_of_origin\", \"current_education_level\", \"email\", \"first_language\", \"first_name\", \"gender\",\n  \"has_children\", \"immigration_doc_number\", \"income_source\", \"landing_date\", \"last_name\", \"lat\", \"lng\", \"marital_status\", \"middle_name\",\n  \"ngo_conditions\", \"num_of_children\", \"num_of_dependants\", \"other_languages\", \"phone_numbers\", \"postal_code\", \"pr_number\", \"preferred_name\",\n  \"primary_phone_number\", \"province\", \"service_set\", \"status_in_canada\", \"street_address\"]\n\nconst compareOps = ['<', '>', '<=', '>=', '=='];\nconst IN = ['in'];\nconst IS = ['=='];\n\nexport const TYPE = {\n  NUMBER: 1,\n  DATE: 2,  // use case? not implemented.\n  STRING: 3,\n  BOOLEAN: 4,  // use case? not implemented.\n  LIST: 5\n};\n\nexport const defaultConfig = {\n  operators: [...compareOps, ...IN],\n  type: TYPE.STRING\n};\n\nexport const eligibilityConditionHideItems = [\"alt_phone_number\", \"apt_number\", \"city\", \"landing_date\", \"last_name\", \"middle_name\",\n  \"phone_numbers\", \"postal_code\", \"pr_number\", \"preferred_name\", \"primary_phone_number\", \"service_set\", \"street_address\"\n]\n\nexport const eligibilityConditionConfigs = {\n  // NOTE: In alphabetic order\n  age: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  arrival_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  birth_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  completed_education_level: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: educationLevelOptions,\n    multipleSelect: true\n  },\n  // Where to retrieve coutry options?\n  country_of_last_residence: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: countryOptions,\n    multipleSelect: true\n  }, \n  country_of_origin: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: countryOptions,\n    multipleSelect: true\n  },\n  current_education_level: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: educationLevelOptions,\n    multipleSelect: true\n  },\n  // Where to retrieve language options, Ontology or default.js?\n  first_language: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: [],\n    multipleSelect: true\n  },\n  gender: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: genderOptions,\n    multipleSelect: true,\n  },\n  has_children: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: ['True', 'False'],\n    multipleSelect: true\n  },\n  income_source: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: incomeSourceOptions,\n    multipleSelect: true\n  },\n  landing_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  lat: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  lng: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  marital_status: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: maritalStatusOptions,\n    multipleSelect: true\n  },\n  // Get NGO condition\n  ngo_conditions: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: ['example'],\n    multipleSelect: true\n  },\n  num_of_children: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  num_of_dependants: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  other_languages: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: languageOptions,\n    multipleSelect: true\n  },\n  province: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: provinceOptions,\n    multipleSelect: true\n  },\n  status_in_canada: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: statusInCanadaOptions,  // only for list data type\n    multipleSelect: true  // is multiple select?\n  }\n};\n\n\nexport const nameFunc = () => {\n  const languagesUrl = serverHost + '/categories/languages/';\n  const promises = [];\n  promises.push(fetch(languagesUrl)\n    .then(response => response.json())\n    .then(data => {eligibilityConditionConfigs.first_language.options = data.categories;\n      eligibilityConditionConfigs.other_languages.options = data.categories}));\n  promises.push(fetchEligibilities()\n    .then(data => eligibilityConditionConfigs.ngo_conditions.options= data.map(data => data.title)));\n  Promise.all(promises)\n}\n// nameFunc()\n\n","import React, { useEffect, useState } from 'react';\nimport { Paper, TextField, Grid, Button, IconButton } from \"@mui/material\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport { Add as AddIcon, Delete as DeleteIcon } from '@mui/icons-material'\n\nimport { fetchFormulaFields } from \"../../api/formulaApi\";\nimport { escapeList, escapeString, titleCase, unescapeList, unescapeString } from \"../../helpers/formulaHelpers\";\nimport { eligibilityConditionConfigs, TYPE, defaultConfig, eligibilityConditionHideItems } from \"./conditionConfig\";\nimport { educationLevelOptions } from \"../../store/defaults\";\nimport MultiSelectField from \"../shared/fields/MultiSelectField\";\n\n\nexport function CustomEligibilityField({value, handleChange, fields, onDelete}) {\n\n  const [state, setState] = useState({\n    operator: value[1] || '', // duplicate state\n    ...(eligibilityConditionConfigs[value[0]] || defaultConfig)\n  });\n\n  const handleLeftOperandChange = e => {\n    const leftOperand = e.target.value;\n    const changes = {leftOperand, rightOperand: ''};\n\n    const config = eligibilityConditionConfigs[leftOperand] || defaultConfig;\n\n    const ops = config.operators;\n    if (!ops.includes(value[1])) {\n      changes.operator = ops[0];\n      setState(state => ({...state, operator: ops[0], ...config}));\n    } else {\n      setState(state => ({...state, ...config}));\n    }\n    handleChange(changes);\n    value[2] = '';\n  };\n  let rightOperand;\n  if (state.type === TYPE.STRING) {\n    rightOperand =\n      <TextField\n        style={{marginLeft: 20}}\n        label=\"Right Operand\"\n        defaultValue={unescapeString(value[2])}\n        onChange={e => handleChange({rightOperand: escapeString(e.target.value)})}/>;\n  } else if (state.type === TYPE.NUMBER) {\n    rightOperand =\n      <TextField\n        style={{marginLeft: 20}}\n        label=\"Right Operand\"\n        defaultValue={typeof + value[2] === \"number\" ? value[2] : 0}\n        onChange={e => handleChange({rightOperand: e.target.value})}/>;\n  } else if (state.type === TYPE.LIST && state.multipleSelect) {\n    rightOperand =\n      <MultiSelectField\n        label=\"Right Operand\"\n        options={state.options}\n        value={unescapeList(value[2]) || []} // warning: this is a list\n        onChange={e => handleChange({rightOperand: escapeList(e.target.value)})}\n        noDefaultStyle\n      />\n  } else if (state.type === TYPE.LIST && !state.multipleSelect) {\n    rightOperand =\n      <SelectField\n        style={{marginRight: 20}}\n        noEmpty\n        noDefaultStyle\n        options={state.options}\n        value={value[2]} // warning: this is a string\n        label=\"Right Operand\"\n        onChange={e => handleChange({rightOperand: e.target.value})}/>\n  } else {\n    rightOperand = 'Not implemented';\n  }\n\n  return (\n    <div style={{padding: 20}}>\n      <Grid container direction=\"row\" spacing={1}>\n        <SelectField\n          style={{marginRight: 20}}\n          noEmpty\n          noDefaultStyle\n          options={fields}\n          value={value[0]}\n          label=\"Field\"\n          onChange={handleLeftOperandChange}/>\n        <SelectField\n          style={{width: 60}}\n          noEmpty\n          noDefaultStyle\n          options={state.operators}\n          label=\"Operator\"\n          value={state.operator}\n          controlled\n          onChange={e => {\n            const operator = e.target.value;\n            setState(state => ({...state, operator}));\n            handleChange({operator});\n          }}/>\n        {rightOperand}\n        <IconButton onClick={onDelete} size=\"large\">\n          <DeleteIcon/>\n        </IconButton>\n      </Grid>\n    </div>\n  );\n}\n\nexport default function EligibilityCondition({value: originalValue, formValChange}) {\n  /**\n   * @type {[{condition_clauses: [field_name, clauses: [{left_operand, right_operand, operator}]]}]}\n   **/\n  const [value, setValue] = useState(originalValue);\n\n  const [fields, setFields] = useState({});\n\n  useEffect(() => {\n    fetchFormulaFields().then(({fields, dynamic_fields, functions}) => {\n      const fieldsObj = {};\n      console.log(fields)\n      fields.forEach(field => {\n        if (!eligibilityConditionHideItems.includes(field))\n          fieldsObj[field] = titleCase(field)\n      });\n      setFields(fieldsObj);\n    })\n  }, []);\n\n  const handleFieldChange = clause => ({leftOperand, operator, rightOperand}) => {\n    clause[0] = leftOperand || clause[0];\n    clause[1] = operator === undefined ? clause[1] : operator;\n    clause[2] = rightOperand || clause[2];\n  };\n\n  const handleAddField = idx => () => {\n    setValue(value => {\n      value[idx].push(['age', '==', '']);\n      formValChange({target: {value}});\n      return [...value];\n    })\n  };\n\n  const handleAddCondition = () => {\n    setValue(value => {\n      value.push([]);\n      formValChange({target: {value}});\n      return [...value];\n    })\n  };\n\n  const handleRemoveField = (conditionIdx, fieldIdx) => () => {\n    setValue(value => {\n      value[conditionIdx].splice(fieldIdx, 1);\n      formValChange({target: {value}});\n      return [...value]\n    })\n  };\n\n  const handleRemoveCondition = (conditionIdx) => () => {\n    setValue(value => {\n      value.splice(conditionIdx, 1);\n      formValChange({target: {value}});\n      return [...value]\n    })\n  };\n\n  const conditionComponents = [];\n  for (let conditionIdx = 0; conditionIdx < value.length; conditionIdx++) {\n    const condition = value[conditionIdx];\n    const field_components = [];\n    conditionComponents.push(field_components);\n\n    for (let fieldIdx = 0; fieldIdx < condition.length; fieldIdx++) {\n      const [leftOperand, operator, rightOperand] = condition[fieldIdx];\n      field_components.push(\n        <Grid item xs={12} key={fieldIdx}>\n          <CustomEligibilityField\n            value={condition[fieldIdx]}\n            handleChange={handleFieldChange(condition[fieldIdx])}\n            fields={fields}\n            onDelete={handleRemoveField(conditionIdx, fieldIdx)}\n          />\n        </Grid>\n      )\n\n    }\n  }\n\n  return (\n    <div>\n      {conditionComponents.map((field_components, idx) =>\n        <Paper variant=\"outlined\" key={idx}>\n          <Grid container>\n            {field_components}\n            <Grid item xs={12}>\n              <Button\n                onClick={handleRemoveCondition(idx)}\n                style={{margin: 12, float: 'right'}}\n                variant=\"contained\"\n                startIcon={<DeleteIcon/>}>\n                Remove\n              </Button>\n              <Button\n                style={{margin: 12, float: 'right'}}\n                variant=\"contained\"\n                startIcon={<AddIcon/>}\n                onClick={handleAddField(idx)}>\n                And\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>)}\n      <Button\n        style={{margin: 12}}\n        variant=\"contained\"\n        onClick={handleAddCondition}\n        startIcon={<AddIcon/>}>\n        OR\n      </Button>\n    </div>\n  );\n}\n","import { getJson } from \"./index\";\n\nexport function fetchFormulaFields() {\n  return getJson('/formula/fields/');\n}\n\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from '../shared';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport {\n  statusInCanadaOptions, educationLevelOptions,\n  serviceSharedWithOptions, serviceTypeOptions\n} from '../../store/defaults'\nimport GeneralField from '../shared/fields/GeneralField'\nimport SelectField from '../shared/fields/SelectField'\nimport RadioField from '../shared/fields/RadioField'\nimport MultiSelectField from '../shared/fields/MultiSelectField';\nimport { formatLocation } from '../../helpers/location_helpers.js';\nimport { Validator } from \"../../helpers\";\n\n// redux\nimport { connect } from 'react-redux'\nimport { createService, updateService } from '../../store/actions/serviceActions.js'\nimport { fetchProviders } from '../../store/actions/providerActions.js';\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\n\nimport { Container, Divider, Typography, Button, Alert } from \"@mui/material\";\nimport { withStyles } from \"@mui/styles\";\nimport LocationFieldGroup from \"../shared/LocationFieldGroup\";\nimport EligibilityCondition from './EligibilityCondition'\nimport { transformToBackendType, transformToFrontendType } from '../../helpers/formulaHelpers';\n\nconst styles = {\n  root: {\n    width: '80%'\n  },\n  divider: {\n    margin: '20px 0',\n  },\n  errorText: {\n    color: '#e41919'\n  },\n  title: {\n    fontWeight: 600,\n  }\n};\n\nclass ServiceForm extends Component {\n  constructor(props) {\n    super(props);\n    let service = {};\n    if (this.props.match.params.id) {\n      service = this.props.servicesById[this.props.match.params.id];\n    }\n\n    this.state = {\n      errors: {},\n      serviceId: service.id,\n      mode: (service.id) ? 'edit' : 'new',\n      form: {\n        name: service.name || '',\n        type: service.type || '',\n        desc: service.desc || '',\n        category: service.category || '',\n        available_from: service.available_from || '',\n        available_to: service.available_to || '',\n        languages: service.languages || [],\n        max_capacity: service.max_capacity || '',\n        current_capacity: service.current_capacity || 0,\n        frequency: service.frequency || '',\n        billable: service.billable || 'No',\n        price: service.price || '',\n        method_of_delivery: service.method_of_delivery || '',\n        method_of_registration: service.method_of_registration || '',\n        registration: service.registration || '',\n        email: service.email || '',\n        primary_phone_number: service.primary_phone_number || '',\n        alt_phone_number: service.alt_phone_number || '',\n        location: Object.assign({\n          id: '',\n          street_address: '',\n          apt_number: '',\n          city: '',\n          province: '',\n          postal_code: ''\n        }, service.location),\n        location_same_as_provider: service.location_same_as_provider || false,\n        share_with: service.share_with || [],\n        notes: service.notes || '',\n        eligibility_conditions: Object.assign({\n          'upper_age_limit': '',\n          'lower_age_limit': '',\n          'immigration_status': [],\n          'current_education_level': [],\n          'completed_education_level': []\n        }, service.eligibility_conditions),\n        provider_id: (service.provider && service.provider.id) || '',\n        is_public: service.is_public || false,\n        /**\n         * @type {[{condition_clauses: [field_name, clauses: [{left_operand, right_operand, operator}]]}]}\n         **/\n        eligibility_criteria: transformToFrontendType(service.eligibility_criteria) || []\n      }\n    };\n\n    this.props.dispatch(fetchOntologyCategories('services'));\n    this.props.dispatch(fetchOntologyCategories('languages'));\n    this.props.dispatch(fetchProviders());\n  }\n\n  formValChange = (name, render) => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    const {form} = this.state;\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = this.state.form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n    if (render) this.setState(state => ({form: {...state.form}}));\n  };\n\n  submit = () => {\n    console.log(this.state.form);\n    let form = Object.assign({}, this.state.form);\n    form['eligibility_conditions']['age'] = [\n      form['eligibility_conditions']['lower_age_limit'] || null,\n      form['eligibility_conditions']['upper_age_limit'] || null\n    ];\n    delete form['eligibility_conditions']['lower_age_limit'];\n    delete form['eligibility_conditions']['upper_age_limit'];\n\n    form.eligibility_criteria = transformToBackendType(form.eligibility_criteria);\n\n    if (this.validateForm()) {\n      if (this.state.mode === 'edit') {\n        this.props.dispatch(\n          updateService(this.state.serviceId, form, (status, err, serviceId) => {\n            if (status === ACTION_SUCCESS) {\n              this.props.history.push('/services');\n              this.forceUpdate()\n            }\n          }));\n      } else {\n        this.props.dispatch(\n          createService(this.state.form, (status, err, serviceId) => {\n            this.props.history.push('/services');\n            this.forceUpdate()\n          }));\n      }\n    }\n  };\n\n  validateForm = () => {\n\n    let errors = {};\n    let formIsValid = true;\n    if (!this.state.form.provider_id) {\n      formIsValid = false;\n      errors[\"provider_id\"] = \"*Please enter a provider.\";\n    }\n\n    if (!this.state.form.type) {\n      formIsValid = false;\n      errors[\"type\"] = \"*Please enter the type.\";\n    }\n\n    if (!this.state.form.name) {\n      formIsValid = false;\n      errors[\"name\"] = \"*Please enter the name.\";\n    }\n\n    if (!this.state.form.category) {\n      formIsValid = false;\n      errors[\"category\"] = \"*Please enter the category.\";\n    }\n\n    if (this.state.form.primary_phone_number) {\n      const errMsg = Validator.phone(this.state.form.primary_phone_number);\n      if (errMsg) {\n        errors['primary_phone_number'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.alt_phone_number) {\n      const errMsg = Validator.phone(this.state.form.alt_phone_number);\n      if (errMsg) {\n        errors['alt_phone_number'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.email) {\n      const errMsg = Validator.email(this.state.form.email);\n      if (errMsg) {\n        errors['email'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.location.postal_code) {\n      const errMsg = Validator.postalCode(this.state.form.location.postal_code);\n      if (errMsg) {\n        errors['postal_code'] = \"*\" + errMsg;\n      }\n    }\n\n    this.setState({\n      errors: errors\n    });\n\n    return formIsValid;\n\n  };\n\n  render() {\n    const {classes} = this.props;\n    const p = this.props;\n    const formTitle = (this.state.mode === 'edit') ?\n      'Edit Service Profile' : 'New Service';\n\n    let provider, provider_locations;\n    if (isInt(this.state.form.provider_id)) {\n      // assumption: this.state.form.provider_id should be an integer\n      // Delete this condition check if the assumption is no longer needed\n      provider = this.props.providersById && this.props.providersById.providersById[this.state.form.provider_id];\n      provider_locations = provider.other_addresses ? provider.other_addresses.concat([provider.main_address]) : []\n    }\n\n    const locations = {}, location2Obj = {};\n    if (provider_locations) provider_locations.forEach((address, index) => {\n      const loc = formatLocation(address);\n      locations[loc] = loc;\n      location2Obj[loc] = address;\n    });\n\n    return (\n      <Container className={classes.root}>\n        <Typography variant=\"h5\" className={classes.title}>\n          {formTitle}\n        </Typography>\n\n        {this.state.showAlert && this.state.error_messages.map((message, index) =>\n          <Alert key={index} severity=\"error\">{message}</Alert>)}\n\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Service Information\n        </Typography>\n        <SelectField\n          label=\"Provider\"\n          options={_.reduce(p.providers, (map, provider) => {\n            if (provider.type === 'Individual') {\n              map[provider.id] = provider.profile && provider.profile.first_name + \" \" + provider.profile.last_name;\n            } else {\n              map[provider.id] = provider.company\n            }\n            return map;\n          }, {})}\n          value={this.state.form.provider_id}\n          onChange={this.formValChange('provider_id')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.provider_id}</div>\n        <Link to={'/providers'} color>\n          <Typography>\n            Add new provider\n          </Typography>\n        </Link>\n        <SelectField\n          label=\"Type\"\n          options={serviceTypeOptions}\n          value={this.state.form.type}\n          onChange={this.formValChange('type')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.type}</div>\n        <GeneralField\n          label=\"Name\"\n          type=\"text\"\n          value={this.state.form.name}\n          onChange={this.formValChange('name')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.name}</div>\n        <GeneralField\n          label=\"Description\"\n          type=\"text\"\n          value={this.state.form.desc}\n          onChange={this.formValChange('desc')}\n        />\n        <SelectField\n          label=\"Category\"\n          options={p.servicesCategories}\n          value={this.state.form.category}\n          onChange={this.formValChange('category')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.category}</div>\n        <GeneralField\n          label=\"Available from\"\n          type=\"date\"\n          value={this.state.form.available_from}\n          onChange={this.formValChange('available_from')}\n        />\n        <GeneralField\n          label=\"Available until\"\n          type=\"date\"\n          value={this.state.form.available_to}\n          onChange={this.formValChange('available_to')}\n        />\n        <MultiSelectField\n          label=\"Languages\"\n          options={p.languagesCategories}\n          value={this.state.form.languages}\n          onChange={this.formValChange('languages')}\n        />\n        <GeneralField\n          label=\"Max Capacity\"\n          type=\"number\"\n          value={this.state.form.max_capacity}\n          min=\"0\"\n          onChange={this.formValChange('max_capacity')}\n        />\n        {parseInt(this.state.form.max_capacity, 10) > 0 &&\n        <GeneralField\n          label=\"Current Capacity\"\n          type=\"number\"\n          value={this.state.form.current_capacity}\n          min=\"0\"\n          onChange={this.formValChange('current_capacity')}\n        />\n        }\n        <SelectField\n          label=\"Frequency\"\n          value={this.state.form.frequency}\n          onChange={this.formValChange('frequency')}\n          options={['Weekly', 'Biweekly', 'Monthly', 'Non-repeated']}\n        />\n        <RadioField\n          label=\"Billable\"\n          value={this.state.form.billable}\n          onChange={this.formValChange('billable', true)}\n          options={{Yes: 'Yes', No: 'No'}}\n        >\n        </RadioField>\n\n        {this.state.form.billable === \"Yes\" &&\n        <GeneralField\n          label=\"Price\"\n          type=\"text\"\n          value={this.state.form.price}\n          onChange={this.formValChange('price')}\n        />}\n\n        <SelectField\n          label=\"Method of delivery\"\n          value={this.state.form.method_of_delivery}\n          onChange={this.formValChange('method_of_delivery')}\n          options={{\n            Online: 'Online',\n            'One on one (In person)': 'One on one (In person)',\n            Group: 'Group (In person)'\n          }} // In person\n        />\n\n        <SelectField\n          label=\"Method of registration\"\n          value={this.state.form.method_of_registration}\n          onChange={this.formValChange('method_of_registration')}\n          options={['Self registration', 'Registration by social worker', 'No registration']}\n        />\n\n        <SelectField\n          label=\"Registration\"\n          placeholder=\"select\"\n          value={this.state.form.registration}\n          onChange={this.formValChange('registration')}\n          options={['Online', 'In person', 'By phone']}\n        />\n\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Eligibility\n        </Typography>\n        <EligibilityCondition\n          value={this.state.form.eligibility_criteria}\n          formValChange={this.formValChange('eligibility_criteria')}\n        />\n        <MultiSelectField\n          label=\"Immigration Status\"\n          options={statusInCanadaOptions}\n          value={this.state.form.eligibility_conditions.immigration_status}\n          onChange={this.formValChange('eligibility_conditions.immigration_status')}\n        />\n        <GeneralField\n          label=\"Age greater than\"\n          type=\"text\"\n          value={this.state.form.eligibility_conditions.lower_age_limit}\n          onChange={this.formValChange('eligibility_conditions.lower_age_limit')}\n        />\n        <GeneralField\n          id=\"upper_age_limit\"\n          label=\"Age less than\"\n          type=\"text\"\n          value={this.state.form.eligibility_conditions.upper_age_limit}\n          onChange={this.formValChange('eligibility_conditions.upper_age_limit')}\n        />\n        <MultiSelectField\n          label=\"Current Education\"\n          options={educationLevelOptions}\n          value={this.state.form.eligibility_conditions.current_education_level}\n          onChange={this.formValChange('eligibility_conditions.current_education_level')}\n        />\n        <MultiSelectField\n          label=\"Completed Education Level\"\n          options={educationLevelOptions}\n          value={this.state.form.eligibility_conditions.completed_education_level}\n          onChange={this.formValChange('eligibility_conditions.completed_education_level')}\n        />\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Contact Information\n        </Typography>\n        <GeneralField\n          label=\"Contact Person Email\"\n          type=\"email\"\n          value={this.state.form.email}\n          onChange={this.formValChange('email')}\n        />\n        <div className={classes.errorText}>{this.state.errors.email}</div>\n        <GeneralField\n          label=\"Telephone\"\n          type=\"tel\"\n          value={this.state.form.primary_phone_number}\n          onChange={this.formValChange('primary_phone_number')}\n        />\n        <div className={classes.errorText}>{this.state.errors.primary_phone_number}</div>\n        <GeneralField\n          label=\"Alternative Phone Number\"\n          type=\"tel\"\n          value={this.state.form.alt_phone_number}\n          onChange={this.formValChange('alt_phone_number')}\n        />\n        <div className={classes.errorText}>{this.state.errors.alt_phone_number}</div>\n        <RadioField\n          label=\"Location\"\n          options={{'Same as provider': true, 'Other': false}}\n          onChange={this.formValChange('location_same_as_provider', true)}\n          value={this.state.form.location_same_as_provider}\n        />\n\n        {this.state.form.location_same_as_provider && this.state.form.provider_id &&\n        <div>\n          <RadioField\n            label=\"Select the location this service is provided at\"\n            value={this.state.form.location}\n            options={locations}\n            onChange={(e) => {\n              const {form} = this.state;\n              form.location = {...locations[e.target.value]};\n              this.formValChange('location');\n            }}\n          />\n          {!_.includes(_.map(provider_locations, 'id'), this.state.form.location.id) &&\n          <Typography style={{marginTop: 10}}>\n            {`The current location of service is at\n                          ${formatLocation(this.state.form.location)}, which has\n                          been removed from provider locations. Please select a\n                          new location.`}\n          </Typography>\n          }\n        </div>\n        }\n        {!this.state.form.location_same_as_provider &&\n        <LocationFieldGroup\n          key=\"address\"\n          address={this.state.form.location}\n          errMsg={this.state.errors}\n        />\n        }\n        <RadioField\n          label=\"Public?\"\n          options={{'Yes': true, 'No': false}}\n          onChange={this.formValChange('is_public')}\n          value={this.state.form.is_public}\n        />\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Other Information\n        </Typography>\n        <MultiSelectField\n          label=\"Share with\"\n          options={serviceSharedWithOptions}\n          value={this.state.form.share_with}\n          onChange={this.formValChange('share_with')}\n        />\n        <GeneralField\n          label=\"Notes\"\n          type=\"text\"\n          value={this.state.form.notes}\n          onChange={this.formValChange('notes')}\n          multiline\n          variant=\"outlined\"\n          fullWidth\n        />\n        <Button onClick={this.submit} variant=\"outlined\" color=\"primary\" style={{margin: '12px 0'}}>\n          Submit\n        </Button>\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servicesById: state.services.byId,\n    servicesCategories: state.ontology.services.categories,\n    categoriesLoaded: state.ontology.services.loaded,\n    languagesCategories: state.ontology.languages.categories,\n    languagesLoaded: state.ontology.languages.loaded,\n    providers: state.providers.filteredProviders || [],\n    providersById: state.providers.byId,\n    providersLoaded: state.providers.loaded,\n    providerIndex: state.providers.index\n  }\n};\n\nfunction isInt(value) {\n  return !isNaN(value) && \n         parseInt(Number(value)) === value && \n         !isNaN(parseInt(value, 10));\n}\n\nexport default connect(mapStateToProps)(withRouter(withStyles(styles)(ServiceForm)));\n","import React from 'react'\nimport { fetchGoods, deleteGood } from '../store/actions/goodActions.js'\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'goods';\n\nconst formatProvider = ({provider}) => {\n  return provider.type === 'Organization' ? provider.company\n    : (provider.profile ? `${provider.profile.first_name} ${provider.profile.last_name}` : 'Not provided')\n};\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    name: 'id',\n    options: {\n      sort: false,\n      viewColumns: false,\n      display: 'excluded',\n      searchable: false,\n      filter: false,\n    }\n  },\n  {\n    name: 'name',\n    label: 'Name',\n    options: {\n      sort: true,\n      customBodyRender: (data, {rowData}) => {\n        return <Link color to={`/${TYPE}/${rowData[0]}`}>{data}</Link>\n      }\n    }\n  },\n  {\n    name: 'provider',\n    label: 'Provider',\n    options: {\n      sort: true,\n      customBodyRender: provider => {\n        return (\n          <Link color to={`/${TYPE}/${provider.id}`}>\n            {formatProvider({provider})}\n          </Link>\n        );\n      }\n    }\n  },\n  {\n    name: 'desc',\n    label: 'Description',\n  },\n  {\n    name: 'category',\n    label: 'Category'\n  }\n];\n\nexport default function Goods() {\n\n  const nameFormatter = good => good.name;\n\n  const generateMarkers = (goods, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    goods.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage)\n      .map(good => ({\n        position: {lat: Number(good.location.lat), lng: Number(good.location.lng)},\n        title: nameFormatter(good),\n        link: `/${TYPE}/${good.id}`,\n        content: good.desc,\n      })).filter(client => client.position.lat && client.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchGoods}\n      deleteItem={deleteGood}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n    />\n  )\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchGood } from '../../store/actions/goodActions.js'\n\nimport { formatLocation } from '../../helpers/location_helpers'\n\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@mui/icons-material\";\n\nclass Good extends Component {\n  componentWillMount() {\n    const id = this.props.match.params.id\n    this.props.dispatch(fetchGood(id));\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.id,\n          good = p.goodsById[id];\n\n    return (\n      <div className=\"content client\">\n        <h3>Good Profile</h3>\n        <Link to={`/goods/${good.id}/edit`}>\n          <Button bsStyle=\"primary\">\n            Edit\n          </Button>\n        </Link>{' '}\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n\n        { good && good.goodsLoaded &&\n          <Table striped bordered condensed hover>\n            <tbody>\n              <tr>\n                <td><b>Name</b></td>\n                <td>{good.name}</td>\n              </tr>\n              <tr>\n                <td><b>Description</b></td>\n                <td>{good.desc}</td>\n              </tr>\n              <tr>\n                <td><b>Category</b></td>\n                <td>{good.category}</td>\n              </tr>\n              <tr>\n                <td><b>Available from</b></td>\n                <td>{good.available_from}</td>\n              </tr>\n              <tr>\n                <td><b>Available until</b></td>\n                <td>{good.available_to}</td>\n              </tr>\n              <tr>\n                <td><b>Transportation</b></td>\n                <td>{good.transportation}</td>\n              </tr>\n              <tr>\n                <td><b>Condition</b></td>\n                <td>{good.condition}</td>\n              </tr>\n              <tr>\n                <td><b>Material</b></td>\n                <td>{good.material}</td>\n              </tr>\n              <tr>\n                <td><b>Quantity</b></td>\n                <td>{good.quantity}</td>\n              </tr>\n              <tr>\n                <td><b>Length</b></td>\n                <td>{good.length}</td>\n              </tr>\n              <tr>\n                <td><b>Width</b></td>\n                <td>{good.width}</td>\n              </tr>\n              <tr>\n                <td><b>Height</b></td>\n                <td>{good.height}</td>\n              </tr>\n              <tr>\n                <td><b>Diameter</b></td>\n                <td>{good.diameter}</td>\n              </tr>\n              <tr>\n                <td><b>Contact Person Email</b></td>\n                <td>{good.email}</td>\n              </tr>\n              <tr>\n                <td><b>Contact Person Phone</b></td>\n                <td>{good.primary_phone_number}</td>\n              </tr>\n              <tr>\n                <td><b>Secondary Phone</b></td>\n                <td>{good.alt_phone_number}</td>\n              </tr>\n              <tr>\n                <td><b>Location</b></td>\n                <td>{formatLocation(good.location)}</td>\n              </tr>\n              <tr>\n                <td><b>Share with</b></td>\n                <td>{(good.share_with || []).join(', ')}</td>\n              </tr>\n              <tr>\n                <td><b>Notes</b></td>\n                <td>{good.notes}</td>\n              </tr>\n              <tr>\n                <td><b>Provider</b></td>\n                <td>\n                  <Link to={`/provider/${good.provider.id}`}>\n                    {`${good.provider.profile.first_name} ${good.provider.profile.last_name}`}\n                  </Link>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { \n    goodsById: state.goods.byId,\n    goodLoaded: state.goods.indexLoaded \n  }  \n}\n\nexport default connect(\n  mapStateToProps\n)(Good);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport _ from 'lodash';\nimport { provinceOptions } from '../../store/defaults';\n\n// redux\nimport { connect } from 'react-redux'\nimport SelectField from '../shared/fields/SelectField'\nimport GeneralField from '../shared/fields/GeneralField'\nimport { createGood, updateGood, GOOD_SUCCESS } from '../../store/actions/goodActions.js'\nimport { fetchProviders } from '../../store/actions/providerActions.js'\nimport RadioField from '../shared/fields/RadioField'\nimport { formatLocation } from '../../helpers/location_helpers.js';\n\n\nimport { Button, Form, FormGroup, FormControl, FormLabel, Col, Row } from 'react-bootstrap';\n\nclass GoodForm extends Component {\n  constructor(props) {\n    super(props);\n    let good = {};\n    if (this.props.match.params.id) {\n      good = this.props.goodsById[this.props.match.params.id];\n    }\n\n    this.state = {\n      goodId: good.id,\n      mode: (good.id) ? 'edit' : 'new',\n      is_provider_location: false,\n      form: {\n        name: good.name || '',\n        desc: good.desc || '',\n        category: good.category || '',\n        available_from: good.available_from || '',\n        available_to: good.available_to || '',\n        transportation: good.transportation || '',\n        condition: good.condition || '',\n        material: good.material || '',\n        quantity: good.quantity || '',\n        length: good.length || '',\n        width: good.width || '',\n        height: good.height || '',\n        diameter: good.diameter || '',\n        email: good.email || '',\n        primary_phone_number: good.primary_phone_number || '',\n        alt_phone_number: good.alt_phone_number || '',\n        location: Object.assign({\n          street_address: '',\n          apt_number: '',\n          city: '',\n          province: '',\n          postal_code: ''\n        }, good.location),\n        share_with: good.share_with || '',\n        notes: good.notes || '',\n        provider_id: (good.provider && good.provider.id) || ''\n      }\n    }\n\n    this.formValChange = this.formValChange.bind(this);\n    this.locationChange = this.locationChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.indicatorChange = this.indicatorChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(fetchOntologyCategories('goods'));\n    this.props.dispatch(fetchProviders());\n  }\n\n  formValChange(e, id=e.target.id) {\n    let nextForm;\n    if (id === 'location') {\n      nextForm = {...this.state.form, [id]: JSON.parse(e.target.value)};\n    }\n    else {\n      nextForm = {...this.state.form, [id]: e.target.value};\n    }\n    this.setState({ form: nextForm });\n  }\n\n  locationChange(e) {\n    let nextForm = _.clone(this.state.form);\n    nextForm['location'][e.target.id] = e.target.value\n    this.setState({ form: nextForm });\n  }\n\n  indicatorChange(e, id) {\n    this.setState({ [id] : JSON.parse(e.target.value) });\n  }\n\n  submit() {\n    let form = Object.assign({}, this.state.form);\n    if (this.state.mode === 'edit') {\n      this.props.dispatch(\n        updateGood(this.state.goodId, form, (status, err, goodId) => {\n        if (status === GOOD_SUCCESS) {\n          this.props.history.push('/goods/')\n        } else {\n          const error_messages =\n            _.reduce(JSON.parse(err.message), (result, error_messages, field) => {\n              const titleizedField = (field.charAt(0).toUpperCase() + field.slice(1))\n                .split('_').join(' ')\n              _.each(error_messages, message => {\n                result.push(message.replace('This field', titleizedField))\n              })\n              return result;\n            }, [])\n          this.setState({ showAlert: true, error_messages: error_messages });\n        }\n      }));\n    } else {\n      this.props.dispatch(\n        createGood(this.state.form, (status, err, goodId) => {\n        if (status === GOOD_SUCCESS) {\n          this.props.history.push('/goods/')\n        } else {\n          const error_messages =\n            _.reduce(JSON.parse(err.message), (result, error_messages, field) => {\n              const titleizedField = (field.charAt(0).toUpperCase() + field.slice(1))\n                .split('_').join(' ')\n              _.each(error_messages, message => {\n                result.push(message.replace('This field', titleizedField))\n              })\n              return result;\n            }, [])\n          this.setState({ showAlert: true, error_messages: error_messages });\n        }\n      }));\n    }\n  }\n\n  render() {\n    const p = this.props;\n\n    const formTitle = (this.state.mode === 'edit') ?\n      'Edit Good Profile' : 'New Good'\n\n    let provider;\n    if (this.state.form.provider_id) {\n      provider = this.props.providersById && this.props.providersById[this.state.form.provider_id];\n    }\n\n    return (\n      <Row className=\"content\">\n        <Col sm={12}>\n          <h3>{formTitle}</h3>\n          <hr />\n        </Col>\n        <Col sm={12}>\n            <Form horizontal>\n            {this.state.showAlert &&\n              <Col sm={12} className=\"flash-error\">\n                {_.map(this.state.error_messages, (message, index) => {\n                  return (\n                    <li key={index}>\n                      {message}\n                    </li>\n                  );\n                })}\n              </Col>\n            }\n            <SelectField\n              id=\"provider_id\"\n              label=\"Provider\"\n              options={_.reduce(p.providers, (map, provider) => {\n                if (provider.type === 'Individual') {\n                  map[provider.id] = provider.profile.first_name + \" \" + provider.profile.last_name;\n                } else {\n                  map[provider.id] = provider.company\n                }\n                return map;\n              }, {})}\n              componentClass=\"select\"\n              value={this.state.form.provider_id}\n              onChange={this.formValChange}\n              required\n            />\n\n            <FormGroup>\n              <Col smOffset={3} sm={9}>\n                <Link to=\"/providers/new\">\n                  <Button>\n                    Add new provider\n                  </Button>\n                </Link>\n              </Col>\n            </FormGroup>\n\n            <GeneralField\n              id=\"name\"\n              label=\"Name\"\n              type=\"text\"\n              value={this.state.form.name}\n              onChange={this.formValChange}\n              required\n            />\n\n            <FormGroup controlId=\"desc\">\n              <Col componentClass={FormLabel} sm={3}>\n                Description\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.desc} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"category\">\n              <Col componentClass={FormLabel} sm={3}>\n                Category *\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  placeholder=\"select\"\n                  value={this.state.form.category}\n                  onChange={this.formValChange}\n                  required\n                >\n                  <option value=\"select\">-- Not Set --</option>\n                  <option value=\"Furniture\">Furniture</option>\n                  <option value=\"Food\">Food</option>\n                  <option value=\"Clothing\">Clothing</option>\n                  <option value=\"Utensils\">Utensils</option>\n                  <option value=\"Books\">Books</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"transportation\">\n              <Col componentClass={FormLabel} sm={3}>\n                Transportation\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.transportation} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"available_from\">\n              <Col componentClass={FormLabel} sm={3}>\n                Available from\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"date\"\n                  value={this.state.form.available_from}\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"available_to\">\n              <Col componentClass={FormLabel} sm={3}>\n                Available until\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"date\"\n                  value={this.state.form.available_to}\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"condition\">\n              <Col componentClass={FormLabel} sm={3}>\n                Condition\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.condition} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"material\">\n              <Col componentClass={FormLabel} sm={3}>\n                Material\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.material} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"quantity\">\n              <Col componentClass={FormLabel} sm={3}>\n                Quantity\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.quantity}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"length\">\n              <Col componentClass={FormLabel} sm={3}>\n                Length\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.length}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"width\">\n              <Col componentClass={FormLabel} sm={3}>\n                Width\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.width}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"height\">\n              <Col componentClass={FormLabel} sm={3}>\n                Height\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.height}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"diameter\">\n              <Col componentClass={FormLabel} sm={3}>\n                Diameter\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.diameter}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <GeneralField\n              id=\"email\"\n              label=\"Contact Person Email\"\n              type=\"email\"\n              value={this.state.form.email}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"primary_phone_number\"\n              label=\"Telephone\"\n              type=\"tel\"\n              value={this.state.form.primary_phone_number}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"alt_phone_number\"\n              label=\"Alternative Phone Number\"\n              type=\"tel\"\n              value={this.state.form.alt_phone_number}\n              onChange={this.formValChange}\n              required\n            />\n            <RadioField\n              id=\"is_provider_location\"\n              label=\"Location\"\n              options={{ 'Same as provider': true, 'Other': false }}\n              onChange={this.indicatorChange}\n              defaultChecked={this.state.is_provider_location}\n              required\n            />\n            {this.state.is_provider_location && this.state.form.provider_id &&\n              <div>\n                <FormGroup controlId=\"location\">\n                  <Col className=\"required\" componentClass={FormLabel} sm={3}>\n                    Select the location this good is provided at\n                  </Col>\n                  <Col sm={9}>\n                    <Form.Check\n                      name=\"provider_address\"\n                      value={JSON.stringify(provider.main_address)}\n                      onChange={(e) => this.formValChange(e, 'location')}\n                      type=\"radio\"\n                    >\n                      {formatLocation(provider.main_address)}\n                    </Form.Check>{' '}\n                    { provider.other_addresses.map((address, index) =>\n                    <Form.Check\n                      name=\"provider_address\"\n                      value={JSON.stringify(address)}\n                      onChange={(e) => this.formValChange(e, 'location')}\n                      key={index}\n                      type=\"radio\"\n                      >\n                      {formatLocation(address)}\n                    </Form.Check>\n                    )}\n                  </Col>\n                </FormGroup>\n              </div>\n            }\n            {!this.state.is_provider_location &&\n            <div>\n              <GeneralField\n                id=\"street_address\"\n                label=\"Street Address\"\n                type=\"text\"\n                value={this.state.form.location.street_address}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"apt_number\"\n                label=\"Apt. #\"\n                type=\"text\"\n                value={this.state.form.location.apt_number}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"city\"\n                label=\"City\"\n                type=\"text\"\n                value={this.state.form.location.city}\n                onChange={this.locationChange}\n              />\n              <SelectField\n                id=\"province\"\n                label=\"Province\"\n                options={provinceOptions}\n                componentClass=\"select\"\n                value={this.state.form.location.province}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"postal_code\"\n                label=\"Postal Code\"\n                type=\"text\"\n                value={this.state.form.location.postal_code}\n                onChange={this.locationChange}\n              />\n            </div>\n            }\n\n            <FormGroup controlId=\"share_with\">\n              <Col componentClass={FormLabel} sm={3}>\n                Share with\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  placeholder=\"select\"\n                  value={this.state.form.share_with}\n                  onChange={this.formValChange}\n                >\n                  <option value=\"select\">-- Not Set --</option>\n                  <option value=\"Private\">Private</option>\n                  <option value=\"Public\">Public</option>\n                  <option value=\"Boost Child & Youth Advocacy Centre\">Boost Child & Youth Advocacy Centre</option>\n                  <option value=\"Children's Aid Society of Toronto\">Children's Aid Society of Toronto</option>\n                  <option value=\"Abrigo Centre\">Abrigo Centre</option>\n                  <option value=\"Barbra Schlifer Commemorative Clinic\">Barbra Schlifer Commemorative Clinic</option>\n                  <option value=\"Durham Rape Crisis Centre\">Durham Rape Crisis Centre</option>\n                  <option value=\"Durham Children's Aid Society\">Durham Children's Aid Society</option>\n                  <option value=\"Alexandra Park Community Centre\">Alexandra Park Community Centre</option>\n                  <option value=\"Applegrove Community Complex\">Applegrove Community Complex</option>\n                  <option value=\"Albion Neighbourhood Goods\">Albion Neighbourhood Goods</option>\n                  <option value=\"Applegrove Community Complex\">Applegrove Community Complex</option>\n                  <option value=\"Kababayan Multicultural Centre\">Kababayan Multicultural Centre</option>\n                  <option value=\"Central Toronto Youth Goods\">Central Toronto Youth Goods</option>\n                  <option value=\"Covenant House Toronto\">Covenant House Toronto</option>\n                  <option value=\"Durham Youth Housing and Support Goods\">Durham Youth Housing and Support Goods</option>\n                  <option value=\"Eva's Initiatives\">Eva's Initiatives</option>\n                  <option value=\"Horizons for Youth\">Horizons for Youth</option>\n                  <option value=\"AIDS Committee of Durham Region\">AIDS Committee of Durham Region</option>\n                  <option value=\"Arab Community Centre of Toronto\">Arab Community Centre of Toronto</option>\n                  <option value=\"Pediatric Oncology Group of Ontario\">Pediatric Oncology Group of Ontario</option>\n                  <option value=\"Adventist community goods\">Adventist community goods</option>\n                  <option value=\"Aurora Food Pantry\">Aurora Food Pantry</option>\n                  <option value=\"Bluffs Food Bank\">Bluffs Food Bank</option>\n                  <option value=\"Brock Community Food Bank\">Brock Community Food Bank</option>\n                  <option value=\"Markham Food Bank\">Markham Food Bank</option>\n                  <option value=\"Parkdale Community Food Bank\">Parkdale Community Food Bank</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"notes\">\n              <Col componentClass={FormLabel} sm={3}>\n                Notes\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.notes} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup>\n              <Col smOffset={3} sm={9}>\n                <Button onClick={this.submit}>\n                  Submit\n                </Button>\n              </Col>\n            </FormGroup>\n          </Form>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    goodsById: state.goods.byId,\n    servicesCategories: state.ontology.services.categories,\n    categoriesLoaded: state.ontology.services.loaded,\n    providers: state.providers.filteredProviders || [],\n    providersById: state.providers.byId,\n    providersLoaded: state.providers.loaded,\n    providerIndex: state.providers.index\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(GoodForm));\n","import { getJson } from \"./index\";\n\nexport async function fetchAdminLogs() {\n  return getJson('/admin_logs/');\n}\n","import React, { useEffect, useState } from 'react';\n// redux\nimport { fetchAdminLogs } from '../api/adminLogApi';\nimport { Container } from \"@mui/material\";\nimport { Link, Loading, DataTable } from \"./shared\";\n\nfunction object_url(contentType, objectId) {\n  if (contentType === 'Person') {\n    return `/clients/${objectId}`\n  } else if (contentType === 'EligibilityCriteria') {\n    return `/eligibility-criteria/${objectId}`\n  }\n  return `/${contentType.toLowerCase()}s/${objectId}`\n}\n\nconst columns = [\n  {\n    label: 'Time',\n    body: ({action_time}) => new Date(action_time).toLocaleString()\n  },\n  {\n    label: 'Username',\n    body: ({user}) =>  <Link color to={`/users/${user.id}`}>\n      {user.username}\n    </Link>\n  },\n  {\n    label: 'Action',\n    body: ({action, object_id, object_repr}) => {\n      return (\n        <span>\n            {action + ' '}\n          <Link color to={object_url(object_repr, object_id)}>\n              {object_id}\n            </Link>\n          </span>\n      )\n    }\n  },\n  {\n    label: 'Message',\n    body: ({change_message: msg}) => {\n      if (msg) {\n        try {\n          msg = JSON.parse(msg);\n          if (msg.reason != null)\n            return 'Reason: ' + msg.reason;\n        } catch (e) {\n        }\n      }\n      return 'N/A';\n    }\n  }\n];\n\nexport default function AdminLogs() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetchAdminLogs().then(data => {\n      setData(data);\n      setLoading(false);\n    });\n  }, []);\n\n  if (loading)\n    return <Loading message={`Loading admin logs...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Admin Logs\"}\n        data={data}\n        columns={columns}\n        idField=\"id\"\n      />\n    </Container>\n  );\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Bar as BarChart, Pie as PieChart } from 'react-chartjs';\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@mui/icons-material\";\nimport { serverHost } from '../store/defaults.js';\nimport SelectField from './shared/fields/SelectField';\n// styles\nimport '../stylesheets/Reporting.scss';\n\nconst START_YEARS = [1931, 1941, 1951, 1961, 1971, 1981, 1991, 2001, 2011]\n\nexport default class Report extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total_clients: 0,\n      number_of_clients_by_gender: {},\n      number_of_clients_by_birth_year: {},\n      number_of_clients_by_marital_status: {},\n      number_of_clients_by_language: {},\n      number_of_providers_by_status: {},\n      number_of_providers_by_type: {},\n      number_of_individual_providers_by_category: {},\n      selectedCategory: '',\n      selectedAttribute: '',\n    }\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n  }\n\n  componentWillMount() {\n    const url = serverHost + '/reporting?years=' + START_YEARS;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      }).then(response => response.json())\n      .then(data => {\n        this.setState({\n          total_clients: data.total_clients,\n          number_of_clients_by_gender: data.number_of_clients_by_gender,\n          number_of_clients_by_birth_year: data.number_of_clients_by_birth_year,\n          number_of_clients_by_marital_status: data.number_of_clients_by_marital_status,\n          number_of_clients_by_language: data.number_of_clients_by_language,\n          number_of_providers_by_status: data.number_of_providers_by_status,\n          number_of_providers_by_type: data.number_of_providers_by_type,\n          number_of_individual_providers_by_category: data.number_of_individual_providers_by_category\n        })\n      }\n    );\n  }\n\n  handleSelectChange(e) {\n    this.setState({ [e.target.id]: e.target.value })\n  }\n\n  render() {\n    const reportingCategoryOptions = ['Clients', 'Providers', 'Services', 'Matches']\n\n    const attributeOptions = {\n      'Clients': ['Birth Year', 'Gender', 'Language', 'Marital Status'],\n      'Providers': ['Individuals by Category', 'Status', 'Type'],\n      'Services': ['Category', 'Type'],\n      'Matches': ['Time between selected and matched', 'Time between selected and fulfilled']\n\n    }\n\n    const year_labels = _.map(START_YEARS, (start_year) => {\n      return `${start_year}-${start_year + 9}`\n    });\n\n    const barChartDataBirthYear = {\n      labels: year_labels,\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_birth_year),\n      }]\n    }\n\n    const barChartOptions = {\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero:true\n          }\n        }]\n      }\n    }\n\n    const barChartDataLanguage = {\n      labels: Object.keys(this.state.number_of_clients_by_language),\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_language),\n      }]\n    }\n\n    const pieChartDataGender = [\n      {\n        value: this.state.number_of_clients_by_gender[\"Female\"],\n        color:\"#F7464A\",\n        highlight: \"#FF5A5E\",\n        label: \"Female\"\n      },\n      {\n        value: this.state.number_of_clients_by_gender[\"Male\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Male\"\n      },\n      {\n        value: this.state.number_of_clients_by_gender[\"Other\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Other\"\n      }\n    ]\n\n    const pieChartDataProviderStatus = [\n      {\n        value: this.state.number_of_providers_by_status[\"Internal\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Internal\"\n      },\n      {\n        value: this.state.number_of_providers_by_status[\"External\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"External\"\n      }\n    ]\n\n        const pieChartDataIndividualProviderCategory = [\n      {\n        value: this.state.number_of_individual_providers_by_category[\"Volunteer/Goods Donor\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Volunteer/Goods Donor\"\n      },\n      {\n        value: this.state.number_of_individual_providers_by_category[\"Professional Service Provider\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Professional Service Provider\"\n      }\n    ]\n\n    const pieChartDataProviderType = [\n      {\n        value: this.state.number_of_providers_by_type[\"Individual\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Individual\"\n      },\n      {\n        value: this.state.number_of_providers_by_type[\"Organization\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Organization\"\n      }\n    ]\n\n    const barChartDataMaritalStatus = {\n      labels: Object.keys(this.state.number_of_clients_by_marital_status),\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_marital_status),\n      }]\n    }\n\n    const pieChartOptions = {\n      maintainAspectRatio: false,\n      responsive: false,\n      legend: {\n        display: true,\n        position: 'right',\n        labels: {\n          boxWidth: 10\n        }\n      }\n    }\n\n    return (\n      <div className=\"content client\">\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n        <SelectField\n          id='selectedCategory'\n          componentClass=\"select\"\n          label='Get a report on'\n          value={this.state.selectedCategory}\n          options={reportingCategoryOptions}\n          onChange={this.handleSelectChange}\n        />\n        <br></br>\n        <br></br>\n        <SelectField\n          id='selectedAttribute'\n          componentClass=\"select\"\n          label='Select attribute'\n          value={this.state.selectedAttribute}\n          options={(this.state.selectedCategory !== '')\n            ? attributeOptions[this.state.selectedCategory]\n            : []}\n          onChange={this.handleSelectChange}\n        />\n        <br></br>\n        <br></br>\n        <br></br>\n        <br></br>\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Gender') &&\n          <GenderStats\n            data={pieChartDataGender}\n            options={pieChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByGender={this.state.number_of_clients_by_gender}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute ==='Language') &&\n          <LanguageStats\n            data={barChartDataLanguage}\n            options={barChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByLanguage={this.state.number_of_clients_by_language}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Marital Status') &&\n          <MaritalStatusStats\n            data={barChartDataMaritalStatus}\n            options={barChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByMaritalStatus={this.state.number_of_clients_by_marital_status}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Birth Year') &&\n          <BirthYearStats\n            data={barChartDataBirthYear}\n            options={barChartOptions}\n            ClientsCountByBirthYear={this.state.number_of_clients_by_birth_year}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Status') &&\n          <ProviderStatusStats\n            data={pieChartDataProviderStatus}\n            options={pieChartOptions}\n            ProvidersCountByStatus={this.state.number_of_providers_by_status}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Type') &&\n          <ProviderTypeStats\n            data={pieChartDataProviderType}\n            options={pieChartOptions}\n            ProvidersCountByType={this.state.number_of_providers_by_type}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Individuals by Category') &&\n          <IndividualProviderCategoryStats\n            data={pieChartDataIndividualProviderCategory}\n            options={pieChartOptions}\n            IndividualProvidersCountByCategory={this.state.number_of_individual_providers_by_category}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nfunction GenderStats({ data, options, totalClientsCount, ClientsCountByGender}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Gender</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            <div>\n              <b>Total = {totalClientsCount}</b>\n            </div>\n            {\n              _.map(ClientsCountByGender, (count, gender) => {\n                return (\n                  <div key={gender}>\n                    <b>{gender} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction ProviderStatusStats({ data, options, ProvidersCountByStatus}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of providers by Status</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(ProvidersCountByStatus, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction IndividualProviderCategoryStats({ data, options, IndividualProvidersCountByCategory}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of individual providers by Category</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(IndividualProvidersCountByCategory, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction ProviderTypeStats({ data, options, ProvidersCountByType}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of providers by type</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(ProvidersCountByType, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction LanguageStats({ data, options, ClientsCountByLanguage}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Language</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByLanguage, (count, first_language) => {\n                return (\n                  <div key={first_language}>\n                    <b>{first_language} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\nfunction MaritalStatusStats({ data, options, ClientsCountByMaritalStatus}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Marital Status</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByMaritalStatus, (count, marital_status) => {\n                return (\n                  <div key={marital_status}>\n                    <b>{marital_status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction BirthYearStats({ data, options, ClientsCountByBirthYear }) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Distribution of clients by Birth Year</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByBirthYear, (count, startYear) => {\n                return (\n                  <div key={startYear}>\n                    <b>\n                      Clients born between {startYear} and {parseInt(startYear, 10) + 9} = {count}\n                    </b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { fetchEligibilities, deleteEligibility, createEligibility, updateEligibility } from '../../api/eligibilityApi';\nimport {\n  Chip, Container, IconButton, Dialog, DialogActions, DialogTitle, DialogContent,\n  Button, Box\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon } from \"@mui/icons-material\";\nimport { DeleteModal, Loading, DataTable } from \"../shared\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    padding: 4\n  }\n}));\n\nconst ADD_TITLE = 'Add Eligibility Criteria';\nconst EDIT_TITLE = 'Edit Eligibility Criteria';\n\nfunction AddEditDialog({open, title, value, handleConfirm, handleClose}) {\n  const [err, setErr] = useState({\n    title: '',\n  });\n\n  /**\n   * @returns {boolean} true if passed.\n   */\n  const check = () => {\n    const newErr = {};\n    if (value.title === '')\n      newErr.title = 'This field is required';\n    setErr(newErr);\n    return value.title !== '';\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <GeneralField\n          autoFocus\n          label=\"Eligible criteria\"\n          value={value.title}\n          onChange={e => value.title = e.target.value}\n          error={!!err.title}\n          helperText={err.title}\n          fullWidth\n          InputLabelProps={{}}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            if (check()) {\n              handleConfirm();\n            }\n          }}\n          color=\"primary\">\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default function Eligibilities() {\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    value: {},\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n    dialogTitle: '',\n    showAddEditDialog: false,\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchEligibilities().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const shoeEditDialog = (title, id) => () => setState(state => ({\n    ...state,\n    selectedId: id,\n    value: {title, id},\n    showAddEditDialog: true,\n    dialogTitle: EDIT_TITLE,\n  }));\n\n  const showAddDialog = () => setState(state => ({\n    ...state,\n    value: {title: ''},\n    showAddEditDialog: true,\n    dialogTitle: ADD_TITLE,\n  }));\n\n  const handleAdd = async () => {\n    try {\n      const newItem = await createEligibility(state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: [...state.data, newItem]\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteEligibility(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleEdit = async () => {\n    try {\n      const newItem = await updateEligibility(state.value.id, state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: state.data.map(item => item.id === state.selectedId ? newItem : item),\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Title',\n      body: ({title}) => <Box sx={{width: '80%'}}>{title}</Box>\n    },\n    {\n      label: ' ',\n      body: ({id, title}) => {\n        return (\n          <span>\n              <IconButton\n                onClick={shoeEditDialog(title, id)}\n                className={classes.button}\n                size=\"large\">\n                <EditIcon fontSize=\"small\" color=\"primary\"/>\n              </IconButton>\n              <IconButton\n                onClick={showDeleteDialog(id, title)}\n                className={classes.button}\n                size=\"large\">\n                <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\n              </IconButton>\n            </span>\n        );\n      }\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading eligibilities...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Eligibility Criteria\"}\n        data={state.data}\n        columns={columns}\n        customToolbar={<Chip\n          onClick={showAddDialog}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n      <AddEditDialog\n        open={state.showAddEditDialog}\n        value={state.value}\n        title={state.dialogTitle}\n        handleClose={() => setState(state => ({...state, showAddEditDialog: false}))}\n        handleConfirm={state.dialogTitle === ADD_TITLE ? handleAdd : handleEdit}\n      />\n    </Container>\n  );\n}\n","import { deleteJson, getJson, postJson, putJson } from \"./index\";\n\nexport function createQuestion(params) {\n  return postJson('/questions/', params);\n}\n\nexport function updateQuestion(id, params) {\n  return putJson('/questions/' + id + '/', params);\n}\n\nexport function fetchQuestion(id) {\n  return getJson('/questions/' + id + '/');\n}\n\nexport function fetchQuestions() {\n  return getJson('/questions/');\n}\n\nexport async function deleteQuestion(id, params) {\n  const response = await deleteJson('/questions/' + id + '/', params);\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","/**\n * For how the drag and drop works, please check the library repository:\n * https://github.com/atlassian/react-beautiful-dnd\n */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { useDispatch } from 'react-redux';\nimport { providerFields, allForms, providerFormTypes } from '../../constants/provider_fields.js'\nimport { clientFields } from \"../../constants/client_fields\";\nimport { fetchQuestions } from '../../api/questionApi';\nimport RadioField from '../shared/fields/RadioField';\nimport { Button, Container, Grid, TextField, Typography, Divider, IconButton } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Close as Delete } from \"@mui/icons-material\";\nimport { fetchProviderFields, updateProviderFields } from \"../../api/mockedApi/providerFields\";\n\nimport { fetchClientFields, updateClientFields } from '../../api/mockedApi/clientFields';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: 8,\n  },\n  droppable: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  submitButton: {\n    margin: '10px 0'\n  }\n}));\n\nconst radioButtonOptions = {'Mandatory': true, 'Not mandatory': false};\n\nfunction StepFields({stepFields, fields, stepName, handleRadioChange, handleDeleteField}) {\n  return stepFields.map(({field, required, type}, index) => {\n    return (\n      <Draggable key={field} draggableId={field} index={index}>\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            style={{\n              backgroundColor: snapshot.isDragging ? '#bbb' : null,\n              ...provided.draggableProps.style\n            }}>\n            <RadioField\n              required noStar row\n              key={field}\n              label={(fields[field] && fields[field]['label']) || field}\n              onChange={handleRadioChange(field, stepName)}\n              options={radioButtonOptions}\n              value={required}\n            />\n            <IconButton\n              onClick={() => !snapshot.isDragging && handleDeleteField(index, stepName)}\n              size=\"large\">\n              <Delete/>\n            </IconButton>\n          </div>\n        )}\n      </Draggable>\n    );\n  });\n}\n\nexport default function ManageFields() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    category: '',\n    stepToAdd: '',\n    selectedStep: '',\n    selectedField: '',\n    questions: {},\n    /**\n     * @type {{organization: {form_structure: {}, steps_order: []}, }}\n     */\n    fields: {}\n  });\n\n  useEffect(() => {\n    fetchQuestions().then(questions => setState(state => ({...state, questions})));\n    // fetch provider fields\n    fetchProviderFields(false).then(fields => {\n      for (const category of Object.keys(fields)) {\n        const formStructure = fields[category].form_structure;\n        const stepsOrder = fields[category].steps_order;\n        for (const stepName of stepsOrder) {\n          const stepsList = [];\n          const steps = formStructure[stepName];\n          for (const [field, value] of Object.entries(steps)) {\n            stepsList.push({field, ...value});\n          }\n          fields[category].form_structure[stepName] = stepsList;\n        }\n      }\n      // server may not respond full list of provider options, add it manually\n      for (const providerCategory of Object.keys(providerFormTypes)) {\n        if (!fields[providerCategory])\n          fields[providerCategory] = {form_structure: [], steps_order: []};\n      }\n\n      setState(state => ({...state, fields: {...state.fields, ...fields}}));\n    });\n\n    // fetch clients fields\n    fetchClientFields().then(clientFields => {\n      const formStructure = clientFields.form_structure;\n      for (const stepName of Object.keys(formStructure)) {\n        const stepsList = [];\n        for (const [field, required] of Object.entries(formStructure[stepName])) {\n          stepsList.push({field, type: 'field', required});\n        }\n        formStructure[stepName] = stepsList;\n      }\n      setState(state => ({...state, fields: {...state.fields, client: clientFields}}));\n    })\n\n  }, [dispatch]);\n\n  const submit = async () => {\n    let form = {};\n    let submitFunction;\n    if (state.category === 'client') {\n      submitFunction = updateClientFields;\n      form = {\n        steps_order: state.fields.client.steps_order,\n        form_structure: {},\n      };\n      const formStructure = state.fields.client.form_structure;\n      for (const stepName of Object.keys(formStructure)) {\n        const newFormStructure = form.form_structure[stepName] = {};\n        for (const {field, required} of formStructure[stepName]) {\n          newFormStructure[field] = required\n        }\n      }\n    }\n    // providers\n    else {\n      submitFunction = updateProviderFields;\n      for (const category of Object.keys(state.fields)) {\n        form[category] = {\n          steps_order: state.fields[category].steps_order,\n          form_structure: {},\n        };\n        const formStructure = state.fields[category].form_structure;\n        for (const stepName of Object.keys(formStructure)) {\n          const newFormStructure = form[category].form_structure[stepName] = {};\n          for (const {field, required} of formStructure[stepName]) {\n            newFormStructure[field] = {type: 'field', required};\n          }\n        }\n      }\n      delete form.client;\n    }\n    console.log(form);\n    try {\n      await submitFunction(form);\n      history.push('/dashboard');\n    } catch (e) {\n      // TODO: show error message\n      console.error(e)\n    }\n  };\n\n  const initialOptions = useMemo(() => {\n    let fieldOptions = {};\n    const fields = state.category === 'client' ? clientFields : providerFields;\n    for (const [field, {label}] of Object.entries(fields)) {\n      fieldOptions[field] = label;\n    }\n    return fieldOptions;\n  }, [state.category]);\n\n  // this may not be efficient, but it is easier to implement...\n  const availableOptions = useMemo(() => {\n    if (!state.category) return {};\n    const options = {...initialOptions};\n    for (const steps of Object.values(state.fields[state.category].form_structure)) {\n      for (const {field} of steps) {\n        if (Object.keys(options).includes(field))\n          delete options[field];\n      }\n    }\n    return options;\n  }, [state.fields, state.category, initialOptions]);\n\n  const handleChange = useCallback(name => e => {\n    const value = e.target.value;\n    if (name === 'category') {\n      if (state.fields[value]) {\n        setState(state => ({\n          ...state, [name]: value, selectedField: '', selectedStep: '', stepToAdd: ''\n        }));\n      }\n    } else\n      setState(state => ({...state, [name]: value}));\n  }, [state.fields]);\n\n  const handleRadioChange = useCallback((field, stepName) => e => {\n    const fields = state.fields[state.category].form_structure[stepName];\n    for (const curr_field of fields) {\n      if (curr_field.field === field)\n        curr_field.required = e.target.value;\n    }\n  }, [state.fields, state.category]);\n\n  const handleDeleteField = useCallback((index, stepName) => {\n    const fields = [...state.fields[state.category].form_structure[stepName]];\n    fields.splice(index, 1);\n    state.fields[state.category].form_structure[stepName] = fields;\n    setState(state => ({...state, fields: {...state.fields}}));\n  }, [state.fields, state.category]);\n\n  const handleAddField = useCallback(() => {\n    const formStructure = state.fields[state.category].form_structure;\n    for (const steps of Object.values(formStructure)) {\n      for (const {field} of steps) {\n        if (field === state.selectedField)\n          return;\n      }\n    }\n    state.fields[state.category].form_structure[state.selectedStep].push({\n      field: state.selectedField,\n      type: 'field', // TODO: implement questions\n      required: false,\n    });\n    setState(state => ({...state, selectedField: '', fields: {...state.fields}}))\n  }, [state.fields, state.category, state.selectedStep, state.selectedField]);\n\n  const handleRemoveStep = useCallback((index, stepName) => () => {\n    state.fields[state.category].steps_order.splice(index, 1);\n    delete state.fields[state.category].form_structure[stepName];\n    setState(state => ({...state, fields: {...state.fields}}))\n  }, [state.fields, state.category]);\n\n  // a little function to help us with reordering the result\n  const reorder = (list, startIndex, endIndex) => {\n    const [removed] = list.splice(startIndex, 1);\n    list.splice(endIndex, 0, removed);\n  };\n\n  // invoked when something is dropped\n  const onDragEnd = ({source, destination}) => {\n\n    // dropped outside the list\n    if (!destination) {\n      return;\n    }\n    const targetStepName = destination.droppableId;\n    const sourceStepName = source.droppableId;\n\n    // moved to other steps\n    if (source.droppableId !== destination.droppableId) {\n      const sourceSteps = state.fields[state.category].form_structure[sourceStepName];\n      const targetSteps = state.fields[state.category].form_structure[targetStepName];\n      const [removed] = sourceSteps.splice(source.index, 1);\n      targetSteps.splice(destination.index, 0, removed);\n    }\n    // moved within a step\n    else {\n      reorder(\n        state.fields[state.category].form_structure[targetStepName],\n        source.index,\n        destination.index\n      );\n    }\n  };\n\n  const newStepComponent = useMemo(() => {\n    if (!state.category) return null;\n    return (\n      <Grid container alignItems=\"flex-end\" spacing={2} className={classes.root}>\n        <Grid item>\n          <TextField\n            label=\"New step name\"\n            value={state.stepToAdd}\n            onChange={handleChange('stepToAdd')}\n          />\n        </Grid>\n        <Grid item>\n          <Button variant=\"outlined\" color=\"primary\" disabled={!state.stepToAdd} onClick={() => {\n            setState(state => {\n              state.fields[state.category].form_structure[state.stepToAdd] = [];\n              state.fields[state.category].steps_order.push(state.stepToAdd);\n              return ({...state, fields: {...state.fields}});\n            });\n          }}>\n            Add Step\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }, [state.stepToAdd, state.category, classes.root, handleChange]);\n\n  const newFieldComponent = useMemo(() => {\n    if (!state.category) return null;\n    return (\n      <Grid container alignItems=\"flex-end\" spacing={2}>\n        <Grid item sm={3} xs={4}>\n          <SelectField\n            label=\"Choose step\"\n            value={state.selectedStep}\n            onChange={handleChange('selectedStep')}\n            options={state.fields[state.category].steps_order}\n            noDefaultStyle\n            formControlProps={{fullWidth: true}}\n            noEmpty\n            controlled\n          />\n        </Grid>\n        <Grid item sm={7} xs={8}>\n          <SelectField\n            label=\"Choose field\"\n            value={state.selectedField}\n            onChange={handleChange('selectedField')}\n            options={availableOptions}\n            noDefaultStyle\n            formControlProps={{fullWidth: true}}\n            noEmpty\n            controlled\n          />\n        </Grid>\n        <Grid item sm={2}>\n          <Button variant=\"outlined\" color=\"primary\" onClick={handleAddField}\n                  disabled={!state.selectedField || !state.selectedStep}>\n            Add Field\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }, [state.fields, state.category, handleChange, handleAddField, state.selectedField,\n    state.selectedStep, availableOptions]);\n\n  const fieldsComponents = useMemo(() => {\n    if (!state.fields[state.category]) return null;\n    const formStructure = state.fields[state.category].form_structure;\n    return Object.keys(formStructure).map((stepName, index) => {\n      return (\n        <div key={index} className={classes.root}>\n          <Typography variant=\"h6\" color=\"textSecondary\">\n            {stepName}\n            <IconButton onClick={handleRemoveStep(index, stepName)} size=\"large\">\n              <Delete/>\n            </IconButton>\n          </Typography>\n          <Droppable droppableId={stepName} className={classes.droppable}>\n            {(provided, snapshot) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                <StepFields\n                  stepName={stepName}\n                  stepFields={formStructure[stepName]}\n                  handleRadioChange={handleRadioChange}\n                  handleDeleteField={handleDeleteField}\n                  fields={state.category === 'client' ? clientFields : providerFields}\n                />\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n          <Divider/>\n        </div>\n      );\n    });\n  }, [state.fields, state.category, classes.root, classes.droppable,\n    handleRadioChange, handleDeleteField, handleRemoveStep]);\n\n  return (\n    <Container>\n      <Typography variant=\"h5\">\n        Manage Fields\n      </Typography>\n      <SelectField\n        label=\"Please select\"\n        value={state.category}\n        onChange={handleChange('category')}\n        options={allForms}\n        noEmpty\n      />\n      {newStepComponent}\n      {newFieldComponent}\n      <DragDropContext onDragEnd={onDragEnd}>\n        {fieldsComponents}\n      </DragDropContext>\n      {state.category &&\n      <Button variant=\"outlined\" color=\"primary\" onClick={submit} className={classes.submitButton}>\n        Submit\n      </Button>}\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { fetchQuestions, updateQuestion, deleteQuestion, createQuestion } from '../../api/questionApi';\nimport {\n  Chip, Container, IconButton, Dialog, DialogActions, DialogTitle, DialogContent,\n  Button, Box\n} from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon } from \"@mui/icons-material\";\nimport { DeleteModal, Loading, DataTable } from \"../shared\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    padding: 4\n  },\n  formControl: {\n    margin: null,\n  },\n}));\n\nconst ADD_TITLE = 'Add Question';\nconst EDIT_TITLE = 'Edit Question';\nconst contentTypeOptions = {\n  provider: 'Provider',\n};\n\nfunction AddEditDialog({open, title, value, objectId, handleConfirm, handleClose}) {\n  const [err, setErr] = useState({\n    type: '',\n    value: '',\n  });\n\n  /**\n   * @returns {boolean} true if passed.\n   */\n  const check = () => {\n    const newErr = {};\n    if (value.content_type === '')\n      newErr.content_type = 'This field is required';\n    if (value.text === '')\n      newErr.text = 'This field is required';\n    setErr(newErr);\n    return value.content_type !== '' && value.text !== '';\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <Box sx={{mt: 2}}/>\n        <SelectField\n          label={'Content type'}\n          value={value.content_type}\n          options={contentTypeOptions}\n          onChange={(e) => value.content_type = e.target.value}\n          disabled={title === EDIT_TITLE}\n          formControlProps={{fullWidth: true}}\n          error={!!err.content_type}\n          helperText={err.content_type}\n          required noDefaultStyle noEmpty\n        />\n        <GeneralField\n          label=\"Question\"\n          value={value.text}\n          onChange={e => value.text = e.target.value}\n          error={!!err.text}\n          helperText={err.text}\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            if (check()) {\n              handleConfirm();\n            }\n          }}\n          color=\"primary\">\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default function Questions() {\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    value: {},\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n    dialogTitle: '',\n    showAddEditDialog: false,\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchQuestions().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const showEditDialog = (text, type, id) => () => setState(state => ({\n    ...state,\n    value: {id, text, content_type: type},\n    selectedId: id,\n    showAddEditDialog: true,\n    dialogTitle: EDIT_TITLE,\n  }));\n\n  const showAddDialog = () => setState(state => ({\n    ...state,\n    value: {text: '', content_type: ''},\n    showAddEditDialog: true,\n    dialogTitle: ADD_TITLE,\n  }));\n\n  const handleAdd = async () => {\n    try {\n      const newItem = await createQuestion(state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: [...state.data, newItem]\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteQuestion(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleEdit = async () => {\n    try {\n      const newItem = await updateQuestion(state.value.id, state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: state.data.map(item => item.id === state.selectedId ? newItem : item),\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Text',\n      body: ({text}) => <Box sx={{width: '60%'}}>{text}</Box>\n    },\n    {\n      label: 'Content type',\n      body: ({content_type}) => content_type\n    },\n    {\n      label: ' ',\n      body: ({id, text, content_type: type}) => {\n        return (\n          <span>\n              <IconButton\n                onClick={showEditDialog(text, type, id)}\n                className={classes.button}\n                size=\"large\">\n                <EditIcon fontSize=\"small\" color=\"primary\"/>\n              </IconButton>\n              <IconButton\n                onClick={showDeleteDialog(id, text)}\n                className={classes.button}\n                size=\"large\">\n                <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\n              </IconButton>\n            </span>\n        );\n      }\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading questions...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Questions\"}\n        data={state.data}\n        columns={columns}\n        customToolbar={<Chip\n          onClick={showAddDialog}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n      <AddEditDialog\n        open={state.showAddEditDialog}\n        value={state.value}\n        objectId={state.selectedId}\n        title={state.dialogTitle}\n        handleClose={() => setState(state => ({...state, showAddEditDialog: false}))}\n        handleConfirm={state.dialogTitle === ADD_TITLE ? handleAdd : handleEdit}\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Switch } from 'react-router';\nimport { Route } from 'react-router-dom';\n\n// components\nimport Landing from './components/Landing';\nimport Login from './components/Login';\nimport LoginPane from './components/LoginPane';\nimport Dashboard from './components/Dashboard';\nimport Clients from './components/Clients';\nimport Client from './components/clients/Client';\nimport ClientForm from './components/clients/ClientForm'\nimport Users from './components/Users';\nimport User from './components/users/User';\nimport UserForm from './components/users/UserForm'\nimport NeedForm from './components/client_needs/NeedForm'\nimport Need from './components/client_needs/Need'\nimport PrivateRoute from './components/routes/PrivateRoute'\nimport AdminRoute from './components/routes/AdminRoute'\nimport Providers from './components/Providers';\nimport AddServicePrompt from './components/providers/AddServicePrompt'\nimport ProviderForm from './components/providers/ProviderForm'\nimport ProviderProfile from './components/providers/ProviderProfile'\nimport ProviderRatingForm from './components/providers/ProviderRatingForm.js';\nimport Services from './components/Services';\nimport Service from './components/services/Service';\nimport ServiceForm from './components/services/ServiceForm'\nimport Goods from './components/Goods';\nimport Good from './components/goods/Good';\nimport GoodForm from './components/goods/GoodForm'\nimport AdminLogs from './components/AdminLogs';\nimport Reporting from './components/Reporting';\nimport Eligibilities from './components/additionalFIelds/Eligibilities';\nimport ManageFields from './components/settings/ManageFields';\nimport Questions from './components/additionalFIelds/Questions';\n\nconst routes = (\n  <Switch>\n    <Route exact path='/' component={Landing} />\n    <Route path='/login' component={Login} />\n    <Route path='/login-pane' component={LoginPane} />\n    <PrivateRoute path='/dashboard' component={Dashboard} />\n\n    <PrivateRoute path='/clients/:id/edit' component={ClientForm} />\n    <PrivateRoute path='/clients/:id/needs/new' component={NeedForm} />\n    <PrivateRoute path='/clients/new' component={ClientForm} />\n    <PrivateRoute path='/clients/:id' component={Client} />\n    <PrivateRoute path='/clients' component={Clients} />\n\n    <AdminRoute path='/users/:id/edit' component={UserForm} />\n    <AdminRoute path='/users/new' component={UserForm} />\n    <AdminRoute path='/users/:id' component={User} />\n    <AdminRoute path='/users' component={Users} />\n    <AdminRoute path='/admin-logs' component={AdminLogs} />\n\n    <PrivateRoute path='/needs/:need_id/edit' component={NeedForm} />\n    <PrivateRoute path='/needs/:need_id' component={Need} />\n\n    <PrivateRoute path='/providers/:id/rate' component={ProviderRatingForm} />\n    <PrivateRoute path='/providers/new/add-service' component={AddServicePrompt} />\n    <PrivateRoute path='/providers/:formType/new' component={ProviderForm} />\n    <PrivateRoute path='/providers/:id/edit/' component={ProviderForm} />\n    <PrivateRoute path='/providers/:id' component={ProviderProfile} />\n    <PrivateRoute path='/providers' component={Providers} />\n\n    <PrivateRoute path='/services/:id/edit' component={ServiceForm} />\n    <PrivateRoute path='/services/new' component={ServiceForm} />\n    <PrivateRoute path='/services/:id' component={Service} />\n    <PrivateRoute path='/services' component={Services} />\n\n    <PrivateRoute path='/goods/:id/edit' component={GoodForm} />\n    <PrivateRoute path='/goods/new' component={GoodForm} />\n    <PrivateRoute path='/goods/:id' component={Good} />\n    <PrivateRoute path='/goods' component={Goods} />\n\n    <PrivateRoute path='/reporting' component={Reporting} />\n\n    <PrivateRoute path='/eligibility-criteria' component={Eligibilities} />\n\n    <PrivateRoute path='/questions' component={Questions} />\n\n    <AdminRoute path='/settings/manage-fields' component={ManageFields} />\n  </Switch>\n);\n\nexport default routes;\n","import React, { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Typography, Alert , Button} from \"@mui/material\";\nimport { Edit, Print } from '@mui/icons-material';\nimport { Link } from '../shared'\n\nimport ClientNeeds from '../ClientNeeds';\nimport ClientInfoTable from './client_table/ClientInfoTable';\nimport AppointmentRow from '../appointments/AppointmentRow';\n\nimport { fetchClient } from '../../api/mockedApi/clients';\nimport { fetchClientFields } from \"../../api/mockedApi/clientFields\";\nimport { clientFields } from '../../constants/client_fields.js'\n\n//Table\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@mui/material\"\n\nexport default function Client() {\n  //redux hooks\n  const dispatch = useDispatch();\n  const {id} = useParams();\n\n  const [state, setState] = useState({\n    data: null,\n    CF: null,\n    CN: null\n  });\n\n\n  useEffect(() => {\n      fetchClient(id).then(data => {\n        setState(state => ({\n          ...state,\n          data\n        }))\n      })\n  }, [dispatch, id]);\n\n  useEffect(() => {\n      if (state.CF == null) {\n        fetchClientFields().then(json => {\n          setState(state => ({\n            ...state,\n            CF: json\n          }))\n        })\n      }\n    }, [dispatch, state.CF]\n  );\n\n\n  if (state.data && state.CF) {\n    const client = state.data;\n    const CF = state.CF;\n    const formStructure = CF['form_structure'];\n\n    if (client.family) {\n      let members = _.clone(client.family.members);\n      _.remove(members, {\n        person: { id: id }\n      });\n    }\n\n    return (\n      <Container>\n        <Typography variant=\"h3\" paddingY={2}>Client Profile</Typography>\n        <div>\n          <Link to={`/clients/${id}/edit/`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n          &nbsp;\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => window.print()}\n            startIcon={<Print/>}>\n            Print\n          </Button>\n\n          <div>\n            {client.is_deleted &&\n            <Alert variant=\"filled\" severity=\"error\">\n              The client has been deleted\n            </Alert>\n            }\n            {/*Client info tables*/}\n            {_.map(formStructure, (infoFields, step) => {\n              return (\n                <ClientInfoTable\n                  key={step}\n                  step={step}\n                  client={client}\n                  infoFields={_.keys(_.omit(infoFields, 'family'))}\n                  clientFields={clientFields}\n                />\n              )\n            })}\n\n            {/*Family*/}\n            {/*TODO: have family tested*/}\n            {(client.family && client.family.members.length > 0) &&\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow >\n                      <TableCell>First name</TableCell>\n                      <TableCell>Last name</TableCell>\n                      <TableCell>Date of Birth</TableCell>\n                      <TableCell>Gender</TableCell>\n                      <TableCell>Relationship</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  {_.map(_.filter(client.family.members, member => {\n                    return member.person.id !== client.id\n                  }), (member, index) => {\n                    return (\n                      <clientFamilyTableRow\n                        member = {member}\n                        index = {index}\n                      />\n                      )\n                  })}\n                </Table>\n              </TableContainer>\n            }\n          </div>\n\n          {/*TODO： client needs*/}\n          <Typography variant=\"h4\" paddingY={2}>Needs</Typography>\n          <Link to={`/clients/${client.id}/needs/new`}>\n            <Button variant=\"contained\">\n              Add need\n            </Button>\n          </Link>\n          { client && client.need_groups.length > 0 &&\n          <ClientNeeds\n            clientId={client.id}\n            needGroups={client.need_groups}\n          />\n          }\n\n          <Typography variant=\"h4\" paddingY={2}>Appointments</Typography>\n          { client && client.appointments.length > 0 &&\n          <TableContainer>\n            <Table>\n              <TableHead>\n                <TableRow >\n                  <TableCell>Category</TableCell>\n                  <TableCell>Date</TableCell>\n                  <TableCell>Time</TableCell>\n                  <TableCell>Description</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {client.appointments.map(appointment => {\n                  return (\n                    <AppointmentRow\n                      key={appointment.id}\n                      appointment={appointment}\n                    />\n                  )\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          }\n          <hr />\n\n        </div>\n      </Container>\n    )\n  } else {\n    return null;\n  }\n}\n\nfunction clientFamilyTableRow({member, index}) {\n  return (\n    <TableRow key={member.person.id}>\n      <TableCell component=\"th\" scope=\"row\">\n        Family member #{index + 1}\n      </TableCell>\n      <TableCell align=\"left\">{member.person.first_name}</TableCell>\n      <TableCell align=\"left\">{member.person.last_name}</TableCell>\n      <TableCell align=\"left\">{member.person.birth_date}</TableCell>\n      <TableCell align=\"left\">{member.person.gender}</TableCell>\n      <TableCell align=\"left\">{member.relationship}</TableCell>\n    </TableRow>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport TR from '../shared/TR'\nimport { fetchUser } from '../../api/userApi'\nimport { useParams } from \"react-router\";\nimport { Link, Loading } from \"../shared\";\nimport { Container, Paper, Table, Typography, TableBody, Button } from \"@mui/material\";\n\nexport default function User() {\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  const {id} = useParams();\n  useEffect(() => {\n    fetchUser(id).then(user => {\n      setUser(user);\n      setLoading(false);\n    });\n  }, [id]);\n\n  if (loading)\n    return <Loading message={`Loading user...`}/>;\n\n  return (\n    <Container>\n      <Typography variant=\"h5\" gutterBottom>\n        User profile\n      </Typography>\n      <Link to={`/users/${id}/edit`}>\n        <Button color=\"primary\" variant=\"contained\" style={{marginBottom: 12}}>\n          Edit\n        </Button>\n      </Link>\n\n      <Paper elevation={4}>\n        <Table>\n          <TableBody>\n            <TR\n              title=\"First Name\"\n              value={user.first_name}\n            />\n            <TR\n              title=\"Last Name\"\n              value={user.last_name}\n            />\n            <TR\n              title=\"Username\"\n              value={user.username}\n            />\n            <TR\n              title=\"Email\"\n              value={user.email}\n            />\n            <TR\n              title=\"Role\"\n              value={user.is_superuser ? 'Admin' : 'User'}\n            />\n            <TR\n              title=\"Phone Number\"\n              value={user.primary_phone_number}\n            />\n            <TR\n              title=\"Alternative Phone Number\"\n              value={user.alt_phone_number}\n            />\n          </TableBody>\n        </Table>\n      </Paper>\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { Chip, Container } from \"@mui/material\";\nimport { Add as AddIcon, Check as YesIcon } from \"@mui/icons-material\";\nimport { DeleteModal, DropdownMenu, Link, Loading, DataTable } from \"./shared\";\nimport { deleteUser, fetchUsers } from \"../api/userApi\";\nimport { useHistory } from \"react-router\";\nimport { formatPhoneNumber } from \"../helpers/phone_number_helpers\";\n\nexport default function Users() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n  });\n\n  useEffect(() => {\n    fetchUsers().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteUser(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Username',\n      body: ({id, username}) => {\n        return <Link color to={`/users/${id}`}>\n          {username}\n        </Link>\n      }\n    },\n    {\n      label: 'Email',\n      body: ({email}) => email\n    },\n    {\n      label: 'First name',\n      body: ({first_name}) => first_name\n    },\n    {\n      label: 'Last name',\n      body: ({last_name}) => last_name\n    },\n    {\n      label: 'Primary phone',\n      body: ({primary_phone_number}) => {\n        if (primary_phone_number)\n          return formatPhoneNumber(primary_phone_number);\n        return 'Not Provided';\n      },\n    },\n    {\n      label: 'Primary phone',\n      body: ({secondary_phone_number}) => {\n        if (secondary_phone_number)\n          return formatPhoneNumber(secondary_phone_number);\n        return 'Not Provided';\n      },\n    },\n    {\n      label: 'Admin',\n      body: ({is_superuser}) => {\n        if (is_superuser)\n          return <YesIcon color=\"primary\"/>\n      }\n    },\n    {\n      label: ' ',\n      body: ({username, id}) =>\n        <DropdownMenu urlPrefix={'users'} objectId={id}\n                      handleDelete={() => showDeleteDialog(id, username)}/>\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading users...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Users\"}\n        data={state.data}\n        columns={columns}\n        idField=\"id\"\n        customToolbar={<Chip\n          onClick={() => history.push('/users/new')}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Button, Rating, Box } from \"@mui/material\";\nimport { Edit, RateReview, Print } from '@mui/icons-material';\nimport { Link } from '../shared'\n\nimport { providerFields } from '../../constants/provider_fields.js'\n\n// components\nimport ProviderInfoTable from './provider_table/ProviderInfoTable';\n\n\nimport { fetchProvider } from '../../api/mockedApi/providers';\nimport { fetchProviderFields } from '../../api/mockedApi/providerFields';\n\nexport default function ProviderProfile() {\n  //redux hooks\n  const dispatch = useDispatch();\n  const {id} = useParams();\n\n  const [state, setState] = useState({\n    data: null,\n    formSetting: null\n  });\n\n\n  useEffect(() => {\n      fetchProvider(id).then(data => {\n        setState(state => ({\n          ...state,\n          data\n        }))\n      })\n    }, [id]\n  );\n\n  useEffect(() => {\n      if (state.formSetting == null) {\n        fetchProviderFields(false).then(json => {\n          setState(state => ({\n            ...state,\n            formSetting: json\n          }))\n        })\n      }\n    }, [dispatch, state.formSetting]\n  );\n  if (state.data && state.formSetting) {\n    const provider = state.data;\n    const {formSetting} = state;\n\n    let formType;\n    if (provider.type === 'Organization') {\n      formType = 'organization'\n    } else if (provider.type === 'Individual') {\n      formType = provider.category.split(' ').join('_').toLowerCase()\n    }\n    const reviewValue = ((provider.reviews.map(review => review.rating))\n      .reduce((first, second) => first + second, 0)) / provider.reviews.length;\n    return (\n      <Container>\n        <h3>Provider Profile</h3>\n        <div>\n          <Link to={`/providers/${id}/edit/`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n          &nbsp;\n          <Link to={`/providers/${id}/rate`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<RateReview/>}>\n              Rate Provider\n            </Button>\n          </Link>\n          {' '}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => window.print()}\n            startIcon={<Print/>}>\n            Print\n          </Button>\n\n          {formSetting[formType] &&\n          _.map(formSetting[formType].form_structure, (infoFields, step) => {\n            return (\n              <ProviderInfoTable\n                key={step}\n                step={step}\n                provider={provider}\n                providerFields={providerFields}\n                infoFields={infoFields}\n              />\n            )\n          })\n          }\n\n          <h3> Reviews </h3>\n          <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n            <Rating size=\"large\" name=\"provider-rating\" value={reviewValue}/>\n          </Box>\n\n          <h3>Services</h3>\n          <Link to=\"/services/new\">\n            <Button variant=\"contained\">\n              Add Service\n            </Button>\n          </Link>\n\n        </div>\n      </Container>\n    )\n  } else {\n    return '';\n  }\n}\n","import React from 'react';\n\n// components\nimport TopNavbar from './components/layouts/TopNavbar'\nimport Footer from './components/layouts/Footer'\nimport { createTheme, ThemeProvider, StyledEngineProvider } from '@mui/material';\nimport { blue, pink } from '@mui/material/colors'\n\nimport routes from \"./routes\";\n\n// style\nimport './stylesheets/App.scss';\n\nconst theme = createTheme({\n  palette: {\n    primary: {main: blue[700]},\n    secondary: pink,\n  },\n});\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <StyledEngineProvider injectFirst>\n        <ThemeProvider theme={theme}>\n          <TopNavbar/>\n          <div style={{paddingTop: 50, paddingBottom: 22}}>\n            {/*<Breadcurum/>*/}\n            {routes}\n          </div>\n          <Footer/>\n        </ThemeProvider>\n      </StyledEngineProvider>\n    </div>\n  );\n}\n","// import 'bootstrap/dist/css/bootstrap.css';\n// import 'bootstrap/dist/css/bootstrap-theme.css';\n\nimport configureStore from './store.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nimport App from './App';\n\nconst { store, persistor } = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}