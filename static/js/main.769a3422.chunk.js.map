{"version":3,"sources":["store/defaults.js","store/actions/needActions.js","store/actions/authAction.js","store/reducers/authReducer.js","store/actions/ontologyActions.js","store/reducers/ontologyReducers.js","store/actions/clientActions.js","store/actions/serviceActions.js","store/actions/providerActions.js","store/actions/goodActions.js","store/reducers.js","store/reducers/serviceReducer.js","store/reducers/clientReducer.js","store/reducers/goodReducer.js","store/reducers/needReducers.js","store/reducers/providerReducers.js","store.js","components/shared/GoogleMap.js","components/shared/CSVUploadModal.js","components/shared/DeleteModal.js","components/shared/DropdownMenu.js","components/shared/GenericPage.js","components/shared/FormStepper.js","components/shared/FieldsWrapper.js","components/shared/fields/GeneralField.js","constants/index.js","components/shared/fields/SelectField.js","components/shared/LocationFieldGroup.js","helpers/operation_hour_helpers.js","helpers/formulaHelpers.js","helpers/index.js","constants/provider_fields.js","constants/default_fields.js","components/shared/OtherLocationsFields.js","components/shared/Table/EnhancedTableHead.js","components/shared/Table/EnhancedTableToolbar.js","components/shared/Table/index.js","components/shared/index.js","components/layouts/TopNavbar.js","components/layouts/Footer.js","components/Landing.js","components/Login.js","components/LoginPane.js","components/Dashboard.js","helpers/location_helpers.js","helpers/phone_number_helpers.js","components/Clients.js","components/client_needs/NeedGroupPanel.js","components/ClientNeeds.js","components/shared/TR.js","stylesheets/profile-table.js","components/clients/client_table/ClientInfoTable.js","components/appointments/AppointmentRow.js","api/mockedApi/clientFields.js","constants/client_fields.js","api/index.js","api/eligibilityApi.js","components/clients/client_form/FamilyFields.js","components/shared/fields/RadioField.js","components/shared/fields/CheckboxField.js","components/shared/fields/MultiSelectField.js","components/shared/FieldGroup.js","helpers/client_verify_form.js","components/clients/ClientForm.js","api/userApi.js","constants/userFields.js","components/users/UserForm.js","components/client_needs/NeedForm.js","helpers/select_field_helpers.jsx","components/appointments/AppointmentModal.js","store/actions/appointmentActions.js","components/client_needs/MatchedServices.js","components/client_needs/ServiceListItem.js","components/client_needs/ServiceList.js","components/client_needs/ServiceSearchBar.js","components/client_needs/Need.js","components/routes/PrivateRoute.js","components/routes/AdminRoute.js","components/Providers.js","components/providers/AddServicePrompt.js","helpers/provider_verify_form.js","api/settingApi.js","components/shared/OperationHoursFieldGroup.js","components/providers/ProviderForm.js","components/providers/provider_table/ProviderInfoTable.js","components/providers/ProviderRatingForm.js","components/Services.js","helpers/eligibility_condition_helpers.js","components/services/Service.js","components/services/conditionConfig.js","components/services/EligibilityCondition.js","api/formulaApi.js","components/services/ServiceForm.js","components/Goods.js","components/goods/Good.js","components/goods/GoodForm.js","api/adminLogApi.js","components/AdminLogs.js","components/Reporting.js","components/additionalFIelds/Eligibilities.js","api/questionApi.js","components/settings/ManageFields.js","components/additionalFIelds/Questions.js","routes.js","components/clients/Client.js","components/users/User.js","components/Users.js","components/providers/ProviderProfile.js","App.js","index.js"],"names":["serverHost","window","location","hostname","module","exports","Object","freeze","torontoCoordinates","lat","lng","countryOptions","languageOptions","genderOptions","maritalStatusOptions","statusInCanadaOptions","educationLevelOptions","incomeSourceOptions","matchStatusOptions","familyRelationshipOptions","needStatusOptions","serviceTypeOptions","serviceSharedWithOptions","provinceOptions","ACTION_SUCCESS","ACTION_ERROR","RECEIVE_CLIENT_NEEDS","RECEIVE_CLIENT_NEED","REMOVE_CLIENT_NEED","REQUEST_NEED","REQUEST_NEEDS","RECEIVE_NEEDS","RECEIVE_CLIENT_NEED_GROUP","RECEIVE_CLIENT_NEED_INFO","receiveClientNeed","clientId","need","needGroup","type","receiveClientNeedInfo","needId","updateClientNeedGroup","needGroupId","params","dispatch","url","fetch","method","body","JSON","stringify","headers","localStorage","getItem","then","response","json","receiveClientNeedGroup","deleteClientNeed","status","removeClientNeed","fetchNeed","callback","client_id","id","LOGIN_SUCCESS","LOGIN_FAILURE","LOGGED_OUT","UPDATE_ORGANIZATION","login","console","log","a","error","Error","decoded_token","jwt_decode","token","user","user_id","username","email","is_admin","organization","provider_id","name","organization_name","setItem","login_success","catch","err","alert","message","login_failure","logout","sessionExpired","logged_out","removeItem","DEFAULT_STATE","currentUser","isLoggedin","RECEIVE_CATEGORIES","fetchOntologyCategories","categories","category_type","receiveCategories","DEFAULT_CATEGORY_STATE","loaded","REQUEST_CLIENT","RECEIVE_CLIENT","REQUEST_CLIENTS","REMOVE_CLIENT","RECEIVE_CLIENTS","SEARCH_CLIENTS","receiveClient","client","receiveClients","clients","fetchClient","requestClient","needGroups","needs","receiveClientNeeds","fetchClients","deleteClient","removeClient","REQUEST_SERVICE","RECEIVE_SERVICE","REQUEST_SERVICES","REMOVE_SERVICE","RECEIVE_SERVICES","SEARCH_SERVICES","receiveService","service","receiveServices","services","fetchService","requestService","fetchServices","deleteService","removeService","REQUEST_PROVIDERS","RECEIVE_PROVIDERS","REMOVE_PROVIDER","RECEIVE_PROVIDER","REQUEST_PROVIDER","SEARCH_PROVIDERS","receiveProvider","provider","receiveProviders","providers","receivedAt","Date","now","fetchProvider","requestProvider","fetchProviders","createProvider","updateAuthOrganization","deleteProvider","removeProvider","REQUEST_GOOD","RECEIVE_GOOD","REQUEST_GOODS","RECEIVE_ALL_GOODS","REMOVE_GOOD","RECEIVE_GOODS","GOOD_ERROR","GOOD_SUCCESS","SEARCH_GOODS","receiveGood","good","receiveGoods","goods","fetchGood","requestGood","fetchGoods","deleteGood","removeGood","appReducer","combineReducers","nextById","sortedServices","nextIndex","state","index","filteredServices","servicesLoaded","byId","action","newServicesById","_","keyBy","clone","remove","n","sortType","sort","b","toLowerCase","localeCompare","profile","first_name","desc","category","searchValue","searchType","filter","includes","company","last_name","sortedClients","filteredClients","clientsLoaded","newClientsById","reverse","address","sortedGoods","filteredGoods","goodsLoaded","newGoodsById","nextNeedGroup","needGroupIndex","map","indexOf","toString","need_group_id","needIndex","length","splice","sortedProviders","providersByType","providerLoaded","value","filteredProviders","providersById","displayType","primary_phone_number","auth","assign","ontology","languages","initialState","persistConfig","key","storage","persistedReducer","persistReducer","authMiddleware","store","next","getState","expired_at","google","maps","Map","Marker","InfoWindow","Size","createInfoWindow","markerElement","marker","history","idx","infoWindow","content","position","pixelOffset","addListener","e","render","ReactInfoWindow","document","getElementById","clicked","show","querySelector","open","close","event","title","link","Link","style","cursor","onClick","push","Typography","color","GoogleMap","props","useHistory","defaultCenter","useMemo","zoom","center","markers","useState","setMap","useEffect","i","currMarker","Paper","elevation","width","height","marginTop","info","CSVUploadModal","onHide","submit","Dialog","onClose","DialogTitle","DialogContent","InputBase","DialogActions","Button","DeleteModal","objectId","reason","form","setForm","fullWidth","TextField","label","sx","mt","onChange","target","delete","DropdownMenu","urlPrefix","handleDelete","hideViewOption","anchorEl","setAnchorEl","Boolean","handleClose","handleLink","IconButton","currentTarget","size","MoreVert","Menu","keepMounted","PaperProps","maxHeight","ITEM_HEIGHT","MenuItem","ListItemIcon","OpenInBrowser","fontSize","variant","Edit","Delete","GenericPage","fetchData","deleteItem","generateMarkers","nameFormatter","columnsWithoutOptions","charAt","toUpperCase","slice","useDispatch","showUploadDialog","showDeleteDialog","deleteId","deleteDialogTitle","data","pageNumber","rowsPerPage","loading","setState","hideDialog","useCallback","item","columns","tableOptions","customToolbar","CustomToolbar","handleAdd","handleUpload","onDelete","ids","onChangePage","onChangeRowsPerPage","Loading","Fade","in","Container","file","contentType","useStyles","makeStyles","theme","buttons","margin","paddingTop","paddingBottom","button","marginRight","spacing","backButton","FormStepper","stepNames","handleFinish","getStepContent","classes","React","activeStep","setActiveStep","Stepper","alternativeLabel","nonLinear","Step","StepButton","step","className","Alert","severity","disabled","prevActiveStep","root","paper","display","paddingLeft","minWidth","children","gutterBottom","dateFormat","GeneralField","defaultValue","parse","setValue","handleChange","val","onChangeDate","date","onAcceptDate","formattedDate","format","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","onAccept","renderInput","TimePicker","UN_SET","defaultField","component","validator","required","formControl","SelectField","InputLabelProps","options","noDefaultStyle","noEmpty","controlled","defaultOptionTitle","formControlProps","helperText","undefined","FormControl","InputLabel","Select","Array","isArray","option","entries","FormHelperText","LocationFieldGroup","errMsg","apt_number","street_address","city","province","postal_code","defaultTimeSlot","defaultOperationHour","mapping","hour","hourStringam","minutes","timeSlot","operationHourMapping","operationHourListToObject","operation_hour_list","operation_hours","each","operation_hour","weekday","start_time","end_time","OperationHourTable","operationHourObj","times","day","time","transformToFrontendType","condition_clauses","condition","clauses","field_name","left_operand","right_operand","operator","escapeString","string","replace","unescapeList","array","recursiveAssign","obj","forEach","isFieldEmpty","field","isAvailabilityEmpty","availability","keys","time_slot","verifyAddressField","result","fieldName","verifyOtherAddressesFields","validateAddressPostalCode","errsContainer","parentField","test","verifyEmail","concat","verifyPhoneNumber","validateContactFormat","alt_phone_number","verifyFamilyFields","families","family","emailRegex","phoneNumberRegex","passwordRegex","postalCodeRegex","Validator","phone","password","postalCode","providerFormTypes","allForms","providerCategoryValue2Key","ret","objectFlip","providerFields","commitment","gender","main_address","notes","other_addresses","own_car","primary_contact","reference1_email","reference1_name","reference1_phone","reference2_email","reference2_name","reference2_phone","referrer","secondary_contact","skills","start_date","visibility","sponsor","defaultProfileFields","middle_name","preferred_name","birth_date","defaultContactFields","defaultLocationFields","defaultUserFields","is_superuser","LocationFields","handleRemove","update","FormLabel","FieldsWrapper","OtherLocationsFields","otherLocations","forceUpdate","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","TableHead","TableRow","TableCell","padding","Checkbox","indeterminate","checked","inputProps","headCell","sortDirection","sortBy","TableSortLabel","active","direction","getFieldValueFn","sortSpan","useToolbarStyles","paddingRight","highlight","palette","mode","primary","main","backgroundColor","lighten","light","text","secondary","dark","flex","EnhancedTableToolbar","Toolbar","clsx","Tooltip","descendingComparator","getValue","extraData","getComparator","stableSort","comparator","stabilizedThis","el","table","visuallyHidden","tableRow","EnhancedTable","rowsPerPageOptions","idField","defaultOrderBy","rowStyle","setOrder","setOrderBy","selected","setSelected","page","setPage","setRowsPerPage","findIndex","_id","emptyRows","Math","max","TableContainer","Table","stickyHeader","TableBody","row","isItemSelected","isSelected","hover","role","tabIndex","selectedIndex","newSelected","handleClick","cell","colSpan","TablePagination","count","onPageChange","newPage","onRowsPerPageChange","parseInt","textDecorationLine","linkWithHover","fontWeight","progress","chipButton","marginLeft","Chip","icon","Add","formType","textAlign","CircularProgress","StyledTabs","styled","Tabs","justifyContent","transition","StyledTab","Tab","textTransform","typography","fontWeightRegular","pxToRem","NavTab","TopNavBar","useSelector","tabNames","pathname","AppBar","flexGrow","newValue","indicatorColor","Box","whiteSpace","to","left","bottom","borderRadius","alignContent","href","textDecoration","Landing","Component","container","maxWidth","Login","Grid","alignItems","marginBottom","LoginPane","prev","onKeyPress","Divider","NavButton","startIcon","Dashboard","Create","People","formatLocation","format_location","formatPhoneNumber","number","codes","match","TYPE","NeedGroupPanel","needGroupCategory","handleShow","hasUrgentNeed","anyUrgentNeed","needsUnderCat","innerBox","xs","is_urgent","flexDirection","Alarm","highPriority","description","need_group","changeNeedGroupCategoryStatus","Accordion","panel","AccordionSummary","expandIcon","ExpandMoreOutlined","column","heading","PriorityHigh","secondaryHeading","AccordionDetails","panelDetail","outerBox","flexBasis","ClientNeeds","selectedId","needGroupData","showDeletedDiaglog","needsByNeedGroup","deleteNeedInData","copy","need_cat","TR","scope","align","useProfileTableStyles","title2","ClientInfoTable","rowTitle","rowValue","infoFields","clientFields","infoRows","infoField","join","AppointmentRow","appointment","this","rawClientFieldFromStorage","fetchClientFields","updateClientFields","updatedClientFields","arrival_date","completed_education_level","country_of_last_residence","country_of_origin","current_education_level","ngo_conditions","file_id","first_language","has_children","immigration_doc_number","income_source","landing_date","marital_status","num_of_children","num_of_dependants","other_languages","pr_number","status_in_canada","normalizeError","getJson","sendJson","rawResponse","postJson","putJson","deleteJson","fetchEligibilities","deleteEligibility","FamilyMemberFields","member","handleRemoveFamily","handleChangeMember","person","relationship","FamilyFields","members","top","formControlRow","labelRow","RadioField","noStar","parentValue","tryCastBool","RadioGroup","FormControlLabel","control","Radio","labelPlacement","CheckboxField","optionsArray","values","FormGroup","Dropdown","Autocomplete","multiple","getOptionLabel","FieldGroup","client_verify_form","steps","format_messages","verifyFormFormat","required_field_msg","step_page_fields","verifyRequiredField","ClientForm","useParams","all_ngo_conditions","dispatchErrorMsg","fieldErrorMsg","fields","generateClientField","promises","steps_order","form_structure","Promise","all","splits","split","parent","isProfile","updateClient","updateUser","fetchUser","deleteUser","userFormFields","Yes","No","UserForm","errors","validate","isEmpty","msg","handleSubmit","NeedForm","need_id","needsById","needed_by","formValChange","bind","handleMultiSelectChange","nextForm","selectedOption","actionMeta","preValue","removedValue","newMultiSelectFieldValue","needInfo","createClientNeed","p","formTitle","Row","Col","sm","Form","horizontal","controlId","componentClass","Check","defaultChecked","inline","needsCategories","languagesCategories","multiline","smOffset","connect","categoriesLoaded","withRouter","AppointmentModal","serviceId","Modal","bsSize","Header","closeButton","Title","service_id","Body","reminder_type","reminder_frequency","Footer","MatchedServices","activeKey","matchStatusForm","noteForm","modalShow","appointmentServiceId","handleSelect","matchStatusChange","textAreaChange","submitMatchStatus","submitNote","handleModalHide","handleModalShow","matchId","updateMatchStatus","object_id","model","modalshow","matches","Card","eventKey","bsStyle","toggle","Label","Collapse","collapsible","placeholder","note","ServiceListItem","matchClientNeed","ListGroupItem","round","distance","GMap","withGoogleMap","latlng","parseFloat","ServiceList","containerElement","mapElement","ServiceSearchBar","queryTerm","handleFormValChange","InputGroup","enableQueryTerm","Addon","search","Need","searchResult","recommendedServices","recommended_services","handleSearchService","handleSearchRecommendedServices","Headers","DeletedLabel","is_deleted","UrgentLabel","striped","bordered","condensed","defaultActiveKey","rest","isAdmin","formatProviderName","AddServicePrompt","provider_verify_form","verifyContactEmptiness","verifyRequiredFieldByFormType","contactType","fetchProviderFields","reformat","providerType","formStructure","stepName","updateProviderFields","alignSelf","select","arrow","OperationHoursFieldGroup","operationHours","operationDates","handleOperationHourOnClick","weekDay","pop","slotIndex","startDate","endDate","end_date","timeSlots","addressPaper","ProviderForm","eligibilities","providerCategory","operation_dates","responses","generateProviderFields","load","errorMessage","cat","contactField","fieldProps","newForm","operation_hour_obj","week_day","operationHourObjectToList","updateProvider","ProviderInfoTable","fieldId","find","question_id","ProviderRatingForm","handleStarSelection","handleCommentChange","handleTextRating","rating","comment","nextValue","rateProvider","starCount","onStarClick","indexLoaded","formatProvider","formatEligibilityConditions","condType","condValue","Service","servicesById","print","Print","eligibility","available_from","available_to","max_capacity","current_capacity","frequency","billable","price","method_of_delivery","method_of_registration","registration","omit","eligibility_conditions","lower_age_limit","upper_age_limit","is_public","share_with","serviceLoaded","compareOps","IN","defaultConfig","operators","eligibilityConditionHideItems","eligibilityConditionConfigs","age","multipleSelect","CustomEligibilityField","rightOperand","list","leftOperand","changes","config","ops","EligibilityCondition","originalValue","setFields","fieldsObj","dynamic_fields","functions","m","handleFieldChange","clause","handleAddField","handleRemoveField","conditionIdx","fieldIdx","handleRemoveCondition","conditionComponents","field_components","float","ServiceForm","eligibility_criteria","conditionClauses","conditionClause","transformToBackendType","validateForm","createService","formIsValid","location_same_as_provider","provider_locations","isNaN","Number","locations","location2Obj","loc","showAlert","error_messages","divider","reduce","errorText","servicesCategories","min","Online","Group","immigration_status","languagesLoaded","providersLoaded","providerIndex","withStyles","viewColumns","searchable","customBodyRender","rowData","Good","goodsById","transportation","material","quantity","diameter","goodLoaded","GoodForm","goodId","is_provider_location","locationChange","indicatorChange","titleizedField","createGood","action_time","toLocaleString","object_repr","change_message","START_YEARS","Report","total_clients","number_of_clients_by_gender","number_of_clients_by_birth_year","number_of_clients_by_marital_status","number_of_clients_by_language","number_of_providers_by_status","number_of_providers_by_type","number_of_individual_providers_by_category","selectedCategory","selectedAttribute","handleSelectChange","barChartDataBirthYear","labels","start_year","datasets","barChartOptions","scales","yAxes","ticks","beginAtZero","barChartDataLanguage","pieChartDataGender","pieChartDataProviderStatus","pieChartDataIndividualProviderCategory","pieChartDataProviderType","barChartDataMaritalStatus","pieChartOptions","maintainAspectRatio","responsive","legend","boxWidth","GenderStats","totalClientsCount","ClientsCountByGender","LanguageStats","ClientsCountByLanguage","MaritalStatusStats","ClientsCountByMaritalStatus","BirthYearStats","ClientsCountByBirthYear","ProviderStatusStats","ProvidersCountByStatus","ProviderTypeStats","ProvidersCountByType","IndividualProviderCategoryStats","IndividualProvidersCountByCategory","startYear","ADD_TITLE","AddEditDialog","handleConfirm","setErr","autoFocus","newErr","check","fetchQuestions","deleteQuestion","droppable","submitButton","radioButtonOptions","StepFields","stepFields","handleRadioChange","handleDeleteField","draggableId","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","isDragging","EDIT_TITLE","contentTypeOptions","content_type","routes","exact","path","CF","CN","paddingY","need_groups","appointments","setLoading","setUser","secondary_phone_number","setData","fetchAdminLogs","formSetting","reviewValue","reviews","review","first","second","RateReview","mb","borderColor","Rating","Reporting","dialogTitle","showAddEditDialog","shoeEditDialog","newItem","handleEdit","showEditDialog","stepToAdd","selectedStep","selectedField","questions","stepsOrder","stepsList","submitFunction","newFormStructure","initialOptions","fieldOptions","availableOptions","curr_field","handleRemoveStep","newStepComponent","newFieldComponent","fieldsComponents","droppableId","droppableProps","onDragEnd","source","destination","targetStepName","sourceStepName","sourceSteps","targetSteps","removed","startIndex","endIndex","reorder","createTheme","blue","pink","App","StyledEngineProvider","injectFirst","ThemeProvider","TopNavbar","preloadedState","createStore","applyMiddleware","thunkMiddleware","persistor","persistStore","configureStore","ReactDOM"],"mappings":"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","file":"static/js/main.769a3422.chunk.js","sourcesContent":["const hostname = window && window.location && window.location.hostname;\n\nlet serverHost;\nif (hostname === 'jias.snmi.ca') {\n  // serverHost = 'https://3.97.37.175:8000';\n  // Obsolete\n  serverHost = 'https://jias-server.snmi.ca';\n}\nelse {\n  serverHost = 'http://127.0.0.1:8000';\n  // serverHost = 'https://3.97.37.175:8000';\n  // serverHost = 'https://jias-server.snmi.ca';\n}\n\n\nconst ACTION_SUCCESS = 'ACTION_SUCCESS';\nconst ACTION_ERROR = 'ACTION_ERROR';\n\nconst torontoCoordinates = { lat: 43.6497, lng: -79.3763 };\n\nconst countryOptions = ['Afghanistan', 'Åland Islands', 'Albania', 'Algeria', 'American Samoa', 'Andorra',\n  'Angola', 'Anguilla', 'Antarctica', 'Antigua & Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Ascension Island',\n  'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium',\n  'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia & Herzegovina', 'Botswana', 'Brazil',\n  'British Indian Ocean Territory', 'British Virgin Islands', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi',\n  'Cambodia', 'Cameroon', 'Canada', 'Canary Islands', 'Cape Verde', 'Caribbean Netherlands', 'Cayman Islands',\n  'Central African Republic', 'Ceuta & Melilla', 'Chad', 'Chile', 'China', 'Christmas Island', 'Cocos (Keeling) Islands',\n  'Colombia', 'Comoros', 'Congo - Brazzaville', 'Congo - Kinshasa', 'Cook Islands', 'Costa Rica', 'Côte d’Ivoire',\n  'Croatia', 'Cuba', 'Curaçao', 'Cyprus', 'Czechia', 'Denmark', 'Diego Garcia', 'Djibouti', 'Dominica',\n  'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini',\n  'Ethiopia', 'Falkland Islands', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Guiana', 'French Polynesia',\n  'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland',\n  'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras',\n  'Hong Kong SAR China', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Isle of Man', 'Israel',\n  'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'Kosovo', 'Kuwait', 'Kyrgyzstan',\n  'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg',\n  'Macao SAR China', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique',\n  'Mauritania', 'Mauritius', 'Mayotte', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro',\n  'Montserrat', 'Morocco', 'Mozambique', 'Myanmar (Burma)', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia',\n  'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island', 'North Korea', 'North Macedonia',\n  'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Palestinian Territories', 'Panama',\n  'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Pitcairn Islands', 'Poland', 'Portugal', 'Pseudo-Accents',\n  'Pseudo-Bidi', 'Puerto Rico', 'Qatar', 'Réunion', 'Romania', 'Russia', 'Rwanda', 'Samoa', 'San Marino',\n  'São Tomé & Príncipe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten',\n  'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Georgia & South Sandwich Islands',\n  'South Korea', 'South Sudan', 'Spain', 'Sri Lanka', 'St. Barthélemy', 'St. Helena', 'St. Kitts & Nevis', 'St. Lucia',\n  'St. Martin', 'St. Pierre & Miquelon', 'St. Vincent & Grenadines', 'Sudan', 'Suriname', 'Svalbard & Jan Mayen', 'Sweden',\n  'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor-Leste', 'Togo', 'Tokelau', 'Tonga',\n  'Trinidad & Tobago', 'Tristan da Cunha', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks & Caicos Islands', 'Tuvalu',\n  'U.S. Outlying Islands', 'U.S. Virgin Islands', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom',\n  'United States', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Wallis & Futuna',\n  'Western Sahara', 'Yemen', 'Zambia', 'Zimbabwe']\n\nconst languageOptions = ['Abkhazian (ab)', 'Achinese (ace)', 'Acoli (ach)', 'Adangme (ada)', 'Adyghe (ady)',\n  'Afar (aa)', 'Afrihili (afh)', 'Afrikaans (af)', 'Aghem (agq)', 'Ainu (ain)', 'Akan (ak)', 'Akkadian (akk)',\n  'Akoose (bss)', 'Alabama (akz)', 'Albanian (sq)', 'Aleut (ale)', 'Algerian Arabic (arq)', 'American English (en_US)',\n  'American Sign Language (ase)', 'Amharic (am)', 'Ancient Egyptian (egy)', 'Ancient Greek (grc)', 'Angika (anp)',\n  'Ao Naga (njo)', 'Arabic (ar)', 'Aragonese (an)', 'Aramaic (arc)', 'Araona (aro)', 'Arapaho (arp)', 'Arawak (arw)',\n  'Armenian (hy)', 'Aromanian (rup)', 'Arpitan (frp)', 'Assamese (as)', 'Asturian (ast)', 'Asu (asa)', 'Atsam (cch)',\n  'Australian English (en_AU)', 'Austrian German (de_AT)', 'Avaric (av)', 'Avestan (ae)', 'Awadhi (awa)', 'Aymara (ay)',\n  'Azerbaijani (az)', 'Badaga (bfq)', 'Bafia (ksf)', 'Bafut (bfd)', 'Bakhtiari (bqi)', 'Balinese (ban)', 'Baluchi (bal)',\n  'Bambara (bm)', 'Bamun (bax)', 'Banjar (bjn)', 'Basaa (bas)', 'Bashkir (ba)', 'Basque (eu)', 'Batak Toba (bbc)',\n  'Bavarian (bar)', 'Beja (bej)', 'Belarusian (be)', 'Bemba (bem)', 'Bena (bez)', 'Bengali (bn)', 'Betawi (bew)',\n  'Bhojpuri (bho)', 'Bikol (bik)', 'Bini (bin)', 'Bishnupriya (bpy)', 'Bislama (bi)', 'Blin (byn)', 'Blissymbols (zbl)',\n  'Bodo (brx)', 'Bosnian (bs)', 'Brahui (brh)', 'Braj (bra)', 'Brazilian Portuguese (pt_BR)', 'Breton (br)', \n  'British English (en_GB)', 'Buginese (bug)', 'Bulgarian (bg)', 'Bulu (bum)', 'Buriat (bua)', 'Burmese (my)',\n  'Caddo (cad)', 'Cajun French (frc)', 'Canadian English (en_CA)', 'Canadian French (fr_CA)', 'Cantonese (yue)',\n  'Capiznon (cps)', 'Carib (car)', 'Catalan (ca)', 'Cayuga (cay)', 'Cebuano (ceb)', 'Central Atlas Tamazight (tzm)',\n  'Central Dusun (dtp)', 'Central Kurdish (ckb)', 'Central Yupik (esu)', 'Chadian Arabic (shu)', 'Chagatai (chg)',\n  'Chamorro (ch)', 'Chechen (ce)', 'Cherokee (chr)', 'Cheyenne (chy)', 'Chibcha (chb)', 'Chiga (cgg)',\n  'Chimborazo Highland Quichua (qug)', 'Chinese (zh)', 'Chinook Jargon (chn)', 'Chipewyan (chp)', 'Choctaw (cho)',\n  'Church Slavic (cu)', 'Chuukese (chk)', 'Chuvash (cv)', 'Classical Newari (nwc)', 'Classical Syriac (syc)',\n  'Colognian (ksh)', 'Comorian (swb)', 'Congo Swahili (swc)', 'Coptic (cop)', 'Cornish (kw)', 'Corsican (co)',\n  'Cree (cr)', 'Creek (mus)', 'Crimean Turkish (crh)', 'Croatian (hr)', 'Czech (cs)', 'Dakota (dak)', 'Danish (da)',\n  'Dargwa (dar)', 'Dazaga (dzg)', 'Delaware (del)', 'Dinka (din)', 'Divehi (dv)', 'Dogri (doi)', 'Dogrib (dgr)',\n  'Duala (dua)', 'Dutch (nl)', 'Dyula (dyu)', 'Dzongkha (dz)', 'Eastern Frisian (frs)', 'Efik (efi)',\n  'Egyptian Arabic (arz)', 'Ekajuk (eka)', 'Elamite (elx)', 'Embu (ebu)', 'Emilian (egl)', 'English (en)',\n  'Erzya (myv)', 'Esperanto (eo)', 'Estonian (et)', 'European Portuguese (pt_PT)', 'European Spanish (es_ES)',\n  'Ewe (ee)', 'Ewondo (ewo)', 'Extremaduran (ext)', 'Fang (fan)', 'Fanti (fat)', 'Faroese (fo)', 'Fiji Hindi (hif)',\n  'Fijian (fj)', 'Filipino (fil)', 'Finnish (fi)', 'Flemish (nl_BE)', 'Fon (fon)', 'Frafra (gur)', 'French (fr)',\n  'Friulian (fur)', 'Fulah (ff)', 'Ga (gaa)', 'Gagauz (gag)', 'Galician (gl)', 'Gan Chinese (gan)', 'Ganda (lg)',\n  'Gayo (gay)', 'Gbaya (gba)', 'Geez (gez)', 'Georgian (ka)', 'German (de)', 'Gheg Albanian (aln)', 'Ghomala (bbj)',\n  'Gilaki (glk)', 'Gilbertese (gil)', 'Goan Konkani (gom)', 'Gondi (gon)', 'Gorontalo (gor)', 'Gothic (got)',\n  'Grebo (grb)', 'Greek (el)', 'Guarani (gn)', 'Gujarati (gu)', 'Gusii (guz)', 'Gwichʼin (gwi)', 'Haida (hai)',\n  'Haitian (ht)', 'Hakka Chinese (hak)', 'Hausa (ha)', 'Hawaiian (haw)', 'Hebrew (he)', 'Herero (hz)',\n  'Hiligaynon (hil)', 'Hindi (hi)', 'Hiri Motu (ho)', 'Hittite (hit)', 'Hmong (hmn)', 'Hungarian (hu)',\n  'Hupa (hup)', 'Iban (iba)', 'Ibibio (ibb)', 'Icelandic (is)', 'Ido (io)', 'Igbo (ig)', 'Iloko (ilo)',\n  'Inari Sami (smn)', 'Indonesian (id)', 'Ingrian (izh)', 'Ingush (inh)', 'Interlingua (ia)', \n  'Interlingue (ie)', 'Inuktitut (iu)', 'Inupiaq (ik)', 'Irish (ga)', 'Italian (it)', 'Jamaican Creole English (jam)',\n  'Japanese (ja)', 'Javanese (jv)', 'Jju (kaj)', 'Jola-Fonyi (dyo)', 'Judeo-Arabic (jrb)', 'Judeo-Persian (jpr)',\n  'Jutish (jut)', 'Kabardian (kbd)', 'Kabuverdianu (kea)', 'Kabyle (kab)', 'Kachin (kac)', 'Kaingang (kgp)', 'Kako (kkj)',\n  'Kalaallisut (kl)', 'Kalenjin (kln)', 'Kalmyk (xal)', 'Kamba (kam)', 'Kanembu (kbl)', 'Kannada (kn)',\n  'Kanuri (kr)', 'Kara-Kalpak (kaa)', 'Karachay-Balkar (krc)', 'Karelian (krl)', 'Kashmiri (ks)', 'Kashubian (csb)',\n  'Kawi (kaw)', 'Kazakh (kk)', 'Kenyang (ken)', 'Khasi (kha)', 'Khmer (km)', 'Khotanese (kho)', 'Khowar (khw)',\n  'Kikuyu (ki)', 'Kimbundu (kmb)', 'Kinaray-a (krj)', 'Kinyarwanda (rw)', 'Kirmanjki (kiu)', 'Klingon (tlh)',\n  'Kom (bkm)', 'Komi (kv)', 'Komi-Permyak (koi)', 'Kongo (kg)', 'Konkani (kok)', 'Korean (ko)', 'Koro (kfo)',\n  'Kosraean (kos)', 'Kotava (avk)', 'Koyra Chiini (khq)', 'Koyraboro Senni (ses)', 'Kpelle (kpe)', 'Krio (kri)',\n  'Kuanyama (kj)', 'Kumyk (kum)', 'Kurdish (ku)', 'Kurukh (kru)', 'Kutenai (kut)', 'Kwasio (nmg)', 'Kyrgyz (ky)',\n  'Kʼicheʼ (quc)', 'Ladino (lad)', 'Lahnda (lah)', 'Lakota (lkt)', 'Lamba (lam)', 'Langi (lag)', 'Lao (lo)',\n  'Latgalian (ltg)', 'Latin (la)', 'Latin American Spanish (es_419)', 'Latvian (lv)', 'Laz (lzz)', 'Lezghian (lez)',\n  'Ligurian (lij)', 'Limburgish (li)', 'Lingala (ln)', 'Lingua Franca Nova (lfn)', 'Literary Chinese (lzh)',\n  'Lithuanian (lt)', 'Livonian (liv)', 'Lojban (jbo)', 'Lombard (lmo)', 'Low German (nds)', 'Lower Silesian (sli)',\n  'Lower Sorbian (dsb)', 'Lozi (loz)', 'Luba-Katanga (lu)', 'Luba-Lulua (lua)', 'Luiseno (lui)', 'Lule Sami (smj)',\n  'Lunda (lun)', 'Luo (luo)', 'Luxembourgish (lb)', 'Luyia (luy)', 'Maba (mde)', 'Macedonian (mk)', 'Machame (jmc)',\n  'Madurese (mad)', 'Mafa (maf)', 'Magahi (mag)', 'Main-Franconian (vmf)', 'Maithili (mai)', 'Makasar (mak)',\n  'Makhuwa-Meetto (mgh)', 'Makonde (kde)', 'Malagasy (mg)', 'Malay (ms)', 'Malayalam (ml)', 'Maltese (mt)', 'Manchu (mnc)',\n  'Mandar (mdr)', 'Mandingo (man)', 'Manipuri (mni)', 'Manx (gv)', 'Maori (mi)', 'Mapuche (arn)', 'Marathi (mr)',\n  'Mari (chm)', 'Marshallese (mh)', 'Marwari (mwr)', 'Masai (mas)', 'Mazanderani (mzn)', 'Medumba (byv)', 'Mende (men)',\n  'Mentawai (mwv)', 'Meru (mer)', 'Metaʼ (mgo)', 'Mexican Spanish (es_MX)', 'Micmac (mic)', 'Middle Dutch (dum)',\n  'Middle English (enm)', 'Middle French (frm)', 'Middle High German (gmh)', 'Middle Irish (mga)', 'Min Nan Chinese (nan)',\n  'Minangkabau (min)', 'Mingrelian (xmf)', 'Mirandese (mwl)', 'Mizo (lus)', 'Modern Standard Arabic (ar_001)',\n  'Mohawk (moh)', 'Moksha (mdf)', 'Moldavian (ro_MD)', 'Mongo (lol)', 'Mongolian (mn)', 'Morisyen (mfe)',\n  'Moroccan Arabic (ary)', 'Mossi (mos)', 'Multiple Languages (mul)', 'Mundang (mua)', 'Muslim Tat (ttt)', 'Myene (mye)',\n  'Nama (naq)', 'Nauru (na)', 'Navajo (nv)', 'Ndonga (ng)', 'Neapolitan (nap)', 'Nepali (ne)', 'Newari (new)',\n  'Ngambay (sba)', 'Ngiemboon (nnh)', 'Ngomba (jgo)', 'Nheengatu (yrl)', 'Nias (nia)', 'Niuean (niu)',\n  'No linguistic content (zxx)', 'Nogai (nog)', 'North Ndebele (nd)', 'Northern Frisian (frr)', 'Northern Sami (se)',\n  'Northern Sotho (nso)', 'Norwegian (no)', 'Norwegian Bokmål (nb)', 'Norwegian Nynorsk (nn)', 'Novial (nov)',\n  'Nuer (nus)', 'Nyamwezi (nym)', 'Nyanja (ny)', 'Nyankole (nyn)', 'Nyasa Tonga (tog)', 'Nyoro (nyo)', 'Nzima (nzi)',\n  'NʼKo (nqo)', 'Occitan (oc)', 'Ojibwa (oj)', 'Old English (ang)', 'Old French (fro)', 'Old High German (goh)',\n  'Old Irish (sga)', 'Old Norse (non)', 'Old Persian (peo)', 'Old Provençal (pro)', 'Oriya (or)', 'Oromo (om)',\n  'Osage (osa)', 'Ossetic (os)', 'Ottoman Turkish (ota)', 'Pahlavi (pal)', 'Palatine German (pfl)', 'Palauan (pau)',\n  'Pali (pi)', 'Pampanga (pam)', 'Pangasinan (pag)', 'Papiamento (pap)', 'Pashto (ps)', 'Pennsylvania German (pdc)',\n  'Persian (fa)', 'Phoenician (phn)', 'Picard (pcd)', 'Piedmontese (pms)', 'Plautdietsch (pdt)', 'Pohnpeian (pon)',\n  'Polish (pl)', 'Pontic (pnt)', 'Portuguese (pt)', 'Prussian (prg)', 'Punjabi (pa)', 'Quechua (qu)', 'Rajasthani (raj)',\n  'Rapanui (rap)', 'Rarotongan (rar)', 'Riffian (rif)', 'Romagnol (rgn)', 'Romanian (ro)', 'Romansh (rm)', 'Romany (rom)',\n  'Rombo (rof)', 'Root (root)', 'Rotuman (rtm)', 'Roviana (rug)', 'Rundi (rn)', 'Russian (ru)', 'Rusyn (rue)', 'Rwa (rwk)',\n  'Saho (ssy)', 'Sakha (sah)', 'Samaritan Aramaic (sam)', 'Samburu (saq)', 'Samoan (sm)', 'Samogitian (sgs)',\n  'Sandawe (sad)', 'Sango (sg)', 'Sangu (sbp)', 'Sanskrit (sa)', 'Santali (sat)', 'Sardinian (sc)', 'Sasak (sas)',\n  'Sassarese Sardinian (sdc)', 'Saterland Frisian (stq)', 'Saurashtra (saz)', 'Scots (sco)', 'Scottish Gaelic (gd)',\n  'Selayar (sly)', 'Selkup (sel)', 'Sena (seh)', 'Seneca (see)', 'Serbian (sr)', 'Serbo-Croatian (sh)', 'Serer (srr)',\n  'Seri (sei)', 'Shambala (ksb)', 'Shan (shn)', 'Shona (sn)', 'Sichuan Yi (ii)', 'Sicilian (scn)', 'Sidamo (sid)',\n  'Siksika (bla)', 'Silesian (szl)', 'Simplified Chinese (zh_Hans)', 'Sindhi (sd)', 'Sinhala (si)', 'Skolt Sami (sms)',\n  'Slave (den)', 'Slovak (sk)', 'Slovenian (sl)', 'Soga (xog)', 'Sogdien (sog)', 'Somali (so)', 'Soninke (snk)',\n  'South Azerbaijani (azb)', 'South Ndebele (nr)', 'Southern Altai (alt)', 'Southern Sami (sma)', 'Southern Sotho (st)',\n  'Spanish (es)', 'Sranan Tongo (srn)', 'Standard Moroccan Tamazight (zgh)', 'Sukuma (suk)', 'Sumerian (sux)',\n  'Sundanese (su)', 'Susu (sus)', 'Swahili (sw)', 'Swati (ss)', 'Swedish (sv)', 'Swiss French (fr_CH)', 'Swiss German (gsw)',\n  'Swiss High German (de_CH)', 'Syriac (syr)', 'Tachelhit (shi)', 'Tagalog (tl)', 'Tahitian (ty)', 'Taita (dav)',\n  'Tajik (tg)', 'Talysh (tly)', 'Tamashek (tmh)', 'Tamil (ta)', 'Taroko (trv)', 'Tasawaq (twq)', 'Tatar (tt)', \n  'Telugu (te)', 'Tereno (ter)', 'Teso (teo)', 'Tetum (tet)', 'Thai (th)', 'Tibetan (bo)', 'Tigre (tig)', 'Tigrinya (ti)',\n  'Timne (tem)', 'Tiv (tiv)', 'Tlingit (tli)', 'Tok Pisin (tpi)', 'Tokelau (tkl)', 'Tongan (to)', 'Tornedalen Finnish (fit)',\n  'Traditional Chinese (zh_Hant)', 'Tsakhur (tkr)', 'Tsakonian (tsd)', 'Tsimshian (tsi)', 'Tsonga (ts)', 'Tswana (tn)',\n  'Tulu (tcy)', 'Tumbuka (tum)', 'Tunisian Arabic (aeb)', 'Turkish (tr)', 'Turkmen (tk)', 'Turoyo (tru)', 'Tuvalu (tvl)',\n  'Tuvinian (tyv)', 'Twi (tw)', 'Tyap (kcg)', 'Udmurt (udm)', 'Ugaritic (uga)', 'Ukrainian (uk)', 'Umbundu (umb)',\n  'Unknown Language (und)', 'Upper Sorbian (hsb)', 'Urdu (ur)', 'Uyghur (ug)', 'Uzbek (uz)', 'Vai (vai)', 'Venda (ve)',\n  'Venetian (vec)', 'Veps (vep)', 'Vietnamese (vi)', 'Volapük (vo)', 'Võro (vro)', 'Votic (vot)', 'Vunjo (vun)',\n  'Walloon (wa)', 'Walser (wae)', 'Waray (war)', 'Warlpiri (wbp)', 'Washo (was)', 'Wayuu (guc)', 'Welsh (cy)',\n  'West Flemish (vls)', 'Western Frisian (fy)', 'Western Mari (mrj)', 'Wolaytta (wal)', 'Wolof (wo)', 'Wu Chinese (wuu)',\n  'Xhosa (xh)', 'Xiang Chinese (hsn)', 'Yangben (yav)', 'Yao (yao)', 'Yapese (yap)', 'Yemba (ybb)', 'Yiddish (yi)',\n  'Yoruba (yo)', 'Zapotec (zap)', 'Zarma (dje)', 'Zaza (zza)', 'Zeelandic (zea)', 'Zenaga (zen)', 'Zhuang (za)', \n  'Zoroastrian Dari (gbz)', 'Zulu (zu)', 'Zuni (zun)']\n\nconst genderOptions = [\n  'Female',\n  'Male',\n  'Other'\n]\n\nconst maritalStatusOptions = [\n  'Common Law',\n  'Divorced',\n  'Married',\n  'Other',\n  'Separated',\n  'Single',\n  'Widowed'\n]\n\nconst statusInCanadaOptions = [\n  'Application in Process - Family',\n  'Application in Process - Humanitarian and Compassionate',\n  'Application in Process - Independent',\n  'Application in Process - Refugee',\n  'Canadian Citizen',\n  'Immigrant',\n  'Other',\n  'Permanent Resident - Business Class',\n  'Permanent Resident - Canadian Experience Class',\n  'Permanent Resident - Family Class',\n  'Permanent Resident -  Humanitarian and Compassionate',\n  'Permanent Resident - Live-in Caregiver',\n  'Permanent Resident - Provincial Nominee',\n  'Permanent Resident - Refugees',\n  'Permanent Resident - Skilled Worker and Skilled Trades',\n  'Temporary Resident',\n  'Visitors Visa',\n  'Work Permit'\n]\n\nconst educationLevelOptions = [\n  'College',\n  'Elementary',\n  'Post Graduate',\n  'Secondary',\n  'University'\n]\n\nconst incomeSourceOptions = [\n 'Crowd Ward',\n 'Dependent of OW/ODSP',\n 'Employment',\n 'Employment Insurance',\n 'Family Members Income',\n 'None',\n 'Ontario Disability Support Program',\n 'Ontario Works',\n 'Other',\n 'Pension',\n 'Unknown',\n 'Workers Safety and Insurance'\n]\n\nconst matchStatusOptions = [\n  'Contacted',\n  'Matched',\n  'Referred',\n  'Selected'\n]\n\nconst familyRelationshipOptions = [\n  'Child',\n  'Parent',\n  'Sibling',\n  'Spouse'\n]\n\nconst needStatusOptions = [\n  'Fulfilled',\n  'In Progress',\n  'Matched',\n  'Pending',\n  'Unmatched'\n]\n\nconst serviceTypeOptions = [\n  'External',\n  'Internal',\n  'Professional/Community',\n  'Volunteer based'\n]\n\nconst serviceSharedWithOptions = [\n  \"Children's Aid Society of Toronto\",\n  \"Durham Children's Aid Society\",\n  \"Eva's Initiatives\",\n  'Abrigo Centre',\n  'Adventist community services',\n  'AIDS Committee of Durham Region',\n  'Albion Neighbourhood Services',\n  'Alexandra Park Community Centre',\n  'Applegrove Community Complex',\n  'Arab Community Centre of Toronto',\n  'Aurora Food Pantry',\n  'Barbra Schlifer Commemorative Clinic',\n  'Bluffs Food Bank',\n  'Boost Child & Youth Advocacy Centre',\n  'Brock Community Food Bank',\n  'Central Toronto Youth Services',\n  'Covenant House Toronto',\n  'Durham Rape Crisis Centre',\n  'Durham Youth Housing and Support Services',\n  'Horizons for Youth',\n  'Kababayan Multicultural Centre',\n  'Markham Food Bank',\n  'Parkdale Community Food Bank',\n  'Pediatric Oncology Group of Ontario',\n  'Private',\n  'Public'\n]\n\nconst provinceOptions = [\n  'Alberta',\n  'British Columbia',\n  'Manitoba',\n  'New Brunswick',\n  'Newfoundland and Labrador',\n  'Nova Scotia',\n  'Ontario',\n  'Prince Edward Island',\n  'Quebec',\n  'Saskatchewan'\n]\n\nmodule.exports = Object.freeze({\n  serverHost: serverHost,\n  torontoCoordinates: torontoCoordinates,\n  countryOptions: countryOptions,\n  languageOptions: languageOptions,\n  genderOptions: genderOptions,\n  maritalStatusOptions: maritalStatusOptions,\n  statusInCanadaOptions: statusInCanadaOptions,\n  educationLevelOptions: educationLevelOptions,\n  incomeSourceOptions: incomeSourceOptions,\n  matchStatusOptions: matchStatusOptions,\n  familyRelationshipOptions: familyRelationshipOptions,\n  needStatusOptions: needStatusOptions,\n  serviceTypeOptions: serviceTypeOptions,\n  serviceSharedWithOptions: serviceSharedWithOptions,\n  provinceOptions: provinceOptions,\n  ACTION_SUCCESS: ACTION_SUCCESS,\n  ACTION_ERROR: ACTION_ERROR\n});\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const RECEIVE_CLIENT_NEEDS = 'RECEIVE_CLIENT_NEEDS';\nexport const RECEIVE_CLIENT_NEED = 'RECEIVE_CLIENT_NEED';\nexport const REMOVE_CLIENT_NEED = 'REMOVE_CLIENT_NEED';\nexport const REQUEST_NEED = 'REQUEST_NEED';\nexport const REQUEST_NEEDS = 'REQUEST_NEEDS';\nexport const RECEIVE_NEEDS = 'RECEIVE_NEEDS';\nexport const RECEIVE_CLIENT_NEED_GROUP = 'RECEIVE_CLIENT_NEED_GROUP';\nexport const RECEIVE_CLIENT_NEED_INFO = ' RECEIVE_CLIENT_NEED_INFO';\nexport const ERROR = 'ERROR';\n\nfunction requestNeeds(json) {\n  return {\n    type: REQUEST_NEEDS,\n    needs: json\n  }\n}\n\nfunction receiveNeeds(json) {\n  return {\n    type: RECEIVE_NEEDS,\n    needs: json\n  }\n}\n\nexport function receiveClientNeeds(clientId, json, needGroups) {\n  return {\n    type: RECEIVE_CLIENT_NEEDS,\n    clientId: clientId,\n    needs: json,\n    needGroups: needGroups\n  }\n}\n\nfunction receiveClientNeed(clientId, need, needGroup) {\n  return {\n    type: RECEIVE_CLIENT_NEED,\n    clientId: clientId,\n    need: need,\n    needGroup: needGroup\n  }\n}\n\nfunction receiveClientNeedInfo(clientId, needId, need) {\n  return {\n    type: RECEIVE_CLIENT_NEED_INFO,\n    clientId: clientId,\n    needId: needId,\n    need: need\n  }\n}\n\nfunction removeClientNeed(clientId, needId) {\n  return {\n    type: REMOVE_CLIENT_NEED,\n    clientId: clientId,\n    needId: needId\n  }\n}\n\nfunction receiveClientNeedGroup(clientId, needGroup) {\n  return {\n    type: RECEIVE_CLIENT_NEED_GROUP,\n    clientId: clientId,\n    needGroup: needGroup\n  }\n}\n\nfunction requestNeed(id) {\n  return {\n    type: REQUEST_NEED,\n    needId: id\n  }\n}\n\nexport function createClientNeed(clientId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(needInfo =>\n      dispatch(receiveClientNeed(clientId, needInfo.need, needInfo.need_group))\n    );\n  }\n}\n\nexport function updateClientNeed(clientId, needId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/' + needId + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(needInfo => dispatch(receiveClientNeed(clientId, needInfo.need, needInfo.need_group)));\n  }\n}\n\nexport function updateClientNeedGroup(clientId, needGroupId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/need_groups/' + needGroupId + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(needGroup => dispatch(receiveClientNeedGroup(clientId, needGroup)));\n  }\n}\n\nexport function matchClientNeed(needId, params) {\n  return dispatch => {\n    const url = serverHost + '/needs/' + needId + '/matches/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n      .then(need => {\n        dispatch(receiveClientNeedInfo(need.client_id, needId, need))\n      });\n  }\n}\n\nexport function deleteClientNeed(clientId, needId, params) {\n  return dispatch => {\n    const url = serverHost + '/clients/' + clientId + '/needs/' + needId + '/';\n    return fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeClientNeed(clientId, needId))\n      }\n    });\n  }\n}\n\nexport function fetchNeed(needId, callback) {\n  return dispatch => {\n    dispatch(requestNeed(needId))\n    const url = serverHost + '/needs/' + needId;\n\n    return fetch(url, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => {\n      dispatch(receiveClientNeedInfo(need.client_id, need.id, need))\n      callback(need)\n    });\n  }\n}\n\nexport function fetchNeeds() {\n  return dispatch => {\n    dispatch(requestNeeds())\n    const url = serverHost + '/needs/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveNeeds(json))\n      })\n  }\n}\n\nexport function updateMatchStatus(matchId, params) {\n  return dispatch => {\n    const url = serverHost + '/matches/' + matchId + '/';\n\n    return fetch(url, {\n      method: 'PATCH',\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => dispatch(receiveClientNeedInfo(need.client_id, need.id, need)));\n  }\n}\n\nexport function createMatchNote(params) {\n  return dispatch => {\n    const url = serverHost + '/notes/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(response => response.json())\n    .then(need => dispatch(receiveClientNeedInfo(need.client_id, need.id, need)));\n  }\n}\n","import { serverHost } from '../defaults.js';\nimport jwt_decode from 'jwt-decode';\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\nexport const LOGGED_OUT = 'LOGGED_OUT';\nexport const UPDATE_ORGANIZATION = 'UPDATE_ORGANIZATION';\n\nfunction login_success(user, organization) {\n  console.log(\"File: authActions.js - Function: login_success - Parameters: user, organization. - Values: \", user, organization);\n  return {\n    type: LOGIN_SUCCESS,\n    user: user,\n    organization: organization\n  }\n}\n\nfunction login_failure(alert) {\n  console.log(\"File: authActions.js -  Function: login_failure - Parameters: alert - Values:  \", alert);\n  return {\n    type: LOGIN_FAILURE,\n    alert\n  }\n}\n\nfunction logged_out(sessionExpired) {\n  console.log(\"File: authActions.js -  Function: logged_out - Parameters: sessionExpired - Values: \", sessionExpired);\n  return {\n    type: LOGGED_OUT,\n    alert: sessionExpired && 'Your session has expired. Please login again.'\n  }\n}\n\nexport function updateAuthOrganization(provider) {\n  console.log(\"File: authActions.js -  Function: updateAuthOrganization - Parameters: provider - Values:\", provider);\n  return {\n    type: UPDATE_ORGANIZATION,\n    provider: provider\n  }\n}\n\nexport function login(params) {\n  console.log(\"File: authActions.js -  Function: login -  Parameters: params - Values:  \", params);\n  return dispatch => {\n    const url = serverHost + '/api-token-auth/';\n\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json()\n      }\n      else {\n        const error = await response.json();\n        throw new Error(JSON.stringify(error['non_field_errors']))\n      }\n    })\n    .then(json => {\n      console.log(\"File: authActions.js -  Function: login - Step 2  json:  \", json);\n      const decoded_token = jwt_decode(json.token);\n      let user = (({ user_id, username, email }) => ({ user_id, username, email }))(decoded_token);\n      user['expired_at'] = decoded_token['exp'] * 1000;\n      user['is_admin'] = json.is_admin;\n      const organization = {\n        id: json.provider_id,\n        name: json.organization_name\n      };\n      localStorage.setItem('jwt_token', json.token);\n      dispatch(login_success(user, organization));\n      return {status: LOGIN_SUCCESS}\n    }).catch(err => {\n      let alert;\n      if (err.message === \"Failed to fetch\") {\n        alert = 'Server is unavailable due to a temporary outage.'\n      }\n      else {\n        alert = 'The username or password you entered is incorrect. Please try again.'\n      }\n      dispatch(login_failure(alert));\n      return {status: LOGIN_FAILURE, message: alert};\n    })\n  }\n}\n\nexport function logout(sessionExpired) {\n  return dispatch => {\n    dispatch(logged_out(sessionExpired))\n    localStorage.removeItem('jwt_token');\n  }\n}\n","import { LOGIN_SUCCESS, LOGGED_OUT, UPDATE_ORGANIZATION, LOGIN_FAILURE} from '../actions/authAction.js';\n\nconst DEFAULT_STATE = {\n  currentUser: null,\n  isLoggedin: false,\n  organization: { id: null, name: null },\n  alert: null\n}\n\nexport function auth(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      console.log(\"File: authReducer.js, Function: auth, case LOGIN_SUCCESS, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        currentUser: action.user,\n        isLoggedin: true,\n        organization: action.organization,\n        alert: null\n      })\n    case LOGIN_FAILURE:\n      console.log(\"File: authReducer.js, Function: auth, case LOGIN_FAILURE, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        alert: action.alert\n      })\n    case LOGGED_OUT:\n      console.log(\"File: authReducer.js, Function: auth, case LOGGED_OUT, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        currentUser: null,\n        isLoggedin: false,\n        organization: { id: null, name: null },\n        alert: action.alert\n      })\n    case UPDATE_ORGANIZATION:\n      console.log(\"File: authReducer.js, Function: auth, case UPDATE_ORGANIZATION, Parameters: state, action -> \", state, action)\n      return Object.assign({}, state, {\n        organization: {\n          id: action.provider.id,\n          name: action.provider.company\n        }\n      })\n    default:\n      return state\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const RECEIVE_CATEGORIES = 'RECEIVE_CATEGORIES'\n\n\nexport function receiveCategories(type, categories) {\n  return {\n    type: RECEIVE_CATEGORIES,\n    category_type: type,\n    categories: categories\n  }\n}\n\nexport function fetchOntologyCategories(type) {\n  return dispatch => {\n    const url = serverHost + '/categories/' + type + '/';\n    return fetch(url, { method: \"GET\" })\n      .then(response => response.json())\n      .then(json => {\n        dispatch(receiveCategories(type, json['categories']));\n        return json.categories;\n      });\n  }\n}\n","import { RECEIVE_CATEGORIES } from '../actions/ontologyActions.js';\n\nconst DEFAULT_CATEGORY_STATE = { categories: [], loaded: false }\n\nexport function ontology(state = { needs: DEFAULT_CATEGORY_STATE,\n                                   services: DEFAULT_CATEGORY_STATE,\n                                   languages: DEFAULT_CATEGORY_STATE },\n                         action) {\n  switch (action.type) {\n    case RECEIVE_CATEGORIES:\n      return {...state, [action.category_type]: { categories: action.categories.sort(), loaded: true } }\n    default:\n      return state\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\nimport { receiveClientNeeds } from './needActions'\n\nexport const REQUEST_CLIENT = 'REQUEST_CLIENT';\nexport const RECEIVE_CLIENT = 'RECEIVE_CLIENT';\nexport const REQUEST_CLIENTS = 'REQUEST_CLIENTS';\nexport const REMOVE_CLIENT = 'REMOVE_CLIENT';\nexport const RECEIVE_CLIENTS = 'RECEIVE_CLIENTS';\nexport const SEARCH_CLIENTS = 'SEARCH_CLIENTS';\n\n\nfunction requestClient(id) {\n  return {\n    type: REQUEST_CLIENT,\n    id: id\n  }\n}\n\nfunction receiveClient(id, json) {\n  return {\n    type: RECEIVE_CLIENT,\n    id: id,\n    client: json\n  }\n}\n\nfunction requestClients(json) {\n  return {\n    type: REQUEST_CLIENTS,\n    clients: json\n  }\n}\n\nfunction receiveClients(json) {\n  return {\n    type: RECEIVE_CLIENTS,\n    clients: json\n  }\n}\n\nfunction removeClient(id) {\n  return {\n    type: REMOVE_CLIENT,\n    id: id\n  }\n}\n\nexport function searchClients(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_CLIENTS,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchClient(id) {\n  return dispatch => {\n    dispatch(requestClient(id))\n    const url = serverHost + '/client/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveClient(id, json));\n        dispatch(receiveClientNeeds(id, json['needs'], json['need_groups']));\n        return json;\n      });\n  }\n}\n\nexport function fetchClients() {\n  return dispatch => {\n    dispatch(requestClients())\n    let url = serverHost + '/clients/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveClients(json));\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n}\n\n\nexport function deleteClient(id, params) {\n  return dispatch => {\n    const url = serverHost + '/client/' + id + '/';\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => {\n      if (response.status === 204) {\n        dispatch(removeClient(id));\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function createClient(params, callback) {\n  console.log(\"createClient params\", params);\n\n  return dispatch => {\n    const url = serverHost + '/clients/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      console.log(\"createClient response.status\", response.status);\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createClients(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/clients.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(clients => {\n      dispatch(receiveClients(clients))\n      return ACTION_SUCCESS;\n    })\n    .catch(err => {\n      // dispatch(createFailure(err))\n      return ACTION_ERROR;\n    })\n  }\n}\n\nexport function updateClient(id, params, callback) {\n  console.log(\"updateClient id, params\", id, params);\n  return dispatch => {\n    const url = serverHost + '/client/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json();\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\nexport const REQUEST_SERVICE = 'REQUEST_SERVICE';\nexport const RECEIVE_SERVICE = 'RECEIVE_SERVICE';\nexport const REQUEST_SERVICES = 'REQUEST_SERVICES';\nexport const REMOVE_SERVICE = 'REMOVE_SERVICE';\nexport const RECEIVE_SERVICES = 'RECEIVE_SERVICES';\nexport const SEARCH_SERVICES = 'SEARCH_SERVICES';\n\n\nfunction requestService(id) {\n  return {\n    type: REQUEST_SERVICE,\n    id: id\n  }\n}\n\nfunction receiveService(id, json) {\n  return {\n    type: RECEIVE_SERVICE,\n    id: id,\n    service: json\n  }\n}\n\nfunction requestServices(json) {\n  return {\n    type: REQUEST_SERVICES,\n    services: json\n  }\n}\n\nfunction receiveServices(json) {\n  return {\n    type: RECEIVE_SERVICES,\n    services: json\n  }\n}\n\nfunction removeService(id) {\n  return {\n    type: REMOVE_SERVICE,\n    id: id\n  }\n}\n\nexport function searchServices(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_SERVICES,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchService(id) {\n  return dispatch => {\n    dispatch(requestService(id))\n    const url = serverHost + '/service/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveService(id, json))\n      })\n  }\n}\n\nexport function fetchServices() {\n  return dispatch => {\n    dispatch(requestServices())\n    const url = serverHost + '/services/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveServices(json))\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n\n}\n\nexport function deleteService(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/service/' + id + '/';\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeService(id))\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function createService(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/services/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(service => {\n      dispatch(receiveService(service.id, service))\n      callback(ACTION_SUCCESS, null, service.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createServices(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/services.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(services => {\n      dispatch(receiveServices(services))\n      return ACTION_SUCCESS\n    })\n    .catch(err => {\n      return ACTION_ERROR\n    })\n  }\n}\n\nexport function updateService(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/service/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(service => {\n        dispatch(receiveService(service.id, service))\n        callback(ACTION_SUCCESS, null, service.id);\n      }).catch(err => {\n        callback(ACTION_ERROR, err);\n      })\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\nimport { updateAuthOrganization } from './authAction.js'\n\nexport const REQUEST_PROVIDERS = 'REQUEST_PROVIDERS';\nexport const RECEIVE_PROVIDERS = 'RECEIVE_PROVIDERS';\nexport const REMOVE_PROVIDER = 'REMOVE_PROVIDER';\nexport const RECEIVE_PROVIDER = 'RECEIVE_PROVIDER';\nexport const REQUEST_PROVIDER = 'REQUEST_PROVIDER';\nexport const SEARCH_PROVIDERS = 'SEARCH_PROVIDERS';\n\n\nfunction requestProviders(json) {\n  return {\n    type: REQUEST_PROVIDERS,\n    providers: json\n  }\n}\n\nfunction requestProvider(id) {\n  console.log(\"requestProvider id\", id);\n  return {\n    type: REQUEST_PROVIDER,\n    id: id\n  }\n}\n\nfunction receiveProvider(id, json) {\n  console.log(\"receiveProvider json\", json);\n  return {\n    type: RECEIVE_PROVIDER,\n    provider: json,\n    id: id\n  }\n}\n\nfunction receiveProviders(json) {\n  console.log(\"receiveProviders json\", json);\n  return {\n    type: RECEIVE_PROVIDERS,\n    providers: json,\n    receivedAt: Date.now(),\n  }\n}\n\nfunction removeProvider(id) {\n  return {\n    type: REMOVE_PROVIDER,\n    id: id\n  }\n}\n\n\nexport function searchProviders(searchValue, searchType, searchProviderType, sortType) {\n  return {\n    type: SEARCH_PROVIDERS,\n    searchValue: searchValue,\n    searchType: searchType,\n    displayType: searchProviderType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchProvider(id) {\n  return dispatch => {\n    console.log(\"fetchProvider, id\", id);\n    dispatch(requestProvider(id))\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveProvider(id, json))\n        return json;\n      })\n  }\n}\n\nexport function fetchProviders() {\n  return dispatch => {\n    dispatch(requestProviders())\n    const url = serverHost + '/providers/';\n\n    return fetch(url, {\n        method: 'get',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      })\n    //.then(response => response.json())\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json()\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(json => {\n        dispatch(receiveProviders(json));\n        return json;\n      })\n      .catch(err => {\n        return ACTION_ERROR;\n      })\n  }\n}\n\nexport function createProvider(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/providers/';\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(provider => {\n      dispatch(receiveProvider(provider.id, provider))\n      if (provider.status === 'Home Agency') {\n        dispatch(updateAuthOrganization(provider))\n      }\n      callback(ACTION_SUCCESS, null, provider.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n\nexport function createProviderWithCSV(file) {\n  const formData  = new FormData();\n  formData.append('file', file);\n\n  return dispatch => {\n    const url = serverHost + '/providers/new/upload';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(providers => {\n      dispatch(receiveProviders(providers))\n      return ACTION_SUCCESS;\n    })\n      .catch(err => {\n      return ACTION_ERROR;\n    })\n  }\n}\n\nexport function updateProvider(id, params, callback) {\n  console.log(\"updateProvider id, params\", id, params);\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 200) {\n        return await response.json();\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n      .then(provider => {\n        console.log(\"updateProvider provider.id, provider\", provider.id, provider);\n        dispatch(receiveProvider(provider.id, provider))\n /*       if (provider.status === 'Home Agency') {\n          dispatch(updateAuthOrganization(provider.id, provider))\n        } */\n        callback(ACTION_SUCCESS, null, provider.id);\n      }).catch(err => {\n        callback(ACTION_ERROR, err);\n    })\n  }\n}\n\n/*\n.then(client => {\n      dispatch(receiveClient(client.id, client))\n      callback(ACTION_SUCCESS, null, client.id);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n\n*/\n\nexport function deleteProvider(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/';\n\n    return fetch(url, {\n      method: \"DELETE\",\n      body: JSON.stringify(params),\n      headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n    }).then(response => {\n      if (response.status === 204) {\n        dispatch(removeProvider(id));\n        return ACTION_SUCCESS;\n      }\n      else {\n        return ACTION_ERROR;\n      }\n    })\n  }\n}\n\nexport function rateProvider(id, params) {\n  return dispatch => {\n    const url = serverHost + '/provider/' + id + '/rate';\n    return fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(params),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(response => response.json())\n  }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../defaults.js';\n\nexport const REQUEST_GOOD = 'REQUEST_GOOD';\nexport const RECEIVE_GOOD = 'RECEIVE_GOOD';\nexport const REQUEST_GOODS = 'REQUEST_GOODS';\nexport const RECEIVE_ALL_GOODS = 'RECEIVE_ALL_GOODS';\nexport const REMOVE_GOOD = 'REMOVE_GOOD';\nexport const RECEIVE_GOODS = 'RECEIVE_GOODS';\nexport const GOOD_ERROR = 'GOOD_ERROR';\nexport const GOOD_SUCCESS = 'GOOD_SUCCESS';\nexport const SEARCH_GOODS = 'SEARCH_GOODS';\n\n\nfunction requestGood(id) {\n  return {\n    type: REQUEST_GOOD,\n    id: id\n  }\n}\n\nfunction receiveGood(id, json) {\n  return {\n    type: RECEIVE_GOOD,\n    id: id,\n    good: json\n  }\n}\n\nfunction requestGoods(json) {\n  return {\n    type: REQUEST_GOODS,\n    goods: json\n  }\n}\n\nfunction receiveGoods(json) {\n  return {\n    type: RECEIVE_GOODS,\n    goods: json\n  }\n}\n\nfunction removeGood(id) {\n  return {\n    type: REMOVE_GOOD,\n    id: id\n  }\n}\n\nexport function searchGoods(searchValue, searchType, sortType) {\n  return {\n    type: SEARCH_GOODS,\n    searchValue: searchValue,\n    searchType: searchType,\n    sortType: sortType\n  };\n}\n\n\nexport function fetchGood(id) {\n  return dispatch => {\n    dispatch(requestGood(id))\n    const url = serverHost + '/good/' + id + '/';\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveGood(id, json))\n      })\n  }\n}\n\nexport function fetchGoods() {\n  return dispatch => {\n    dispatch(requestGoods())\n    const url = serverHost + '/goods/';\n\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        },\n      }).then(response => response.json())\n      .then(json => {\n        dispatch(receiveGoods(json));\n        return json;\n      })\n  }\n}\n\nexport function deleteGood(id, params) {\n  return dispatch => {\n    const url = serverHost + '/good/' + id + '/';\n\n    return fetch(url, {\n      method: 'DELETE',\n      body: JSON.stringify(params),\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`,\n        'Content-Type': 'application/json'\n      },\n    })\n    .then(response => {\n      if (response.status === 204) {\n        dispatch(removeGood(id))\n        return GOOD_SUCCESS\n      }\n      else {\n        return GOOD_ERROR\n      }\n    });\n  }\n}\n\nexport function createGood(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/goods/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    }).then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(good => {\n      dispatch(receiveGood(good.id, good))\n      callback(GOOD_SUCCESS, null, good.id);\n    }).catch(err => {\n      callback(GOOD_ERROR, err);\n    })\n  }\n}\n\nexport function createGoods(file) {\n  const formData  = new FormData();\n  formData.append('file', file)\n\n  return dispatch => {\n    const url = serverHost + '/goods.csv';\n    return fetch(url, {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(goods => {\n      dispatch(receiveGoods(goods))\n      return GOOD_SUCCESS\n    })\n    .catch(err => {\n      return GOOD_ERROR\n    })\n  }\n}\n\nexport function updateGood(id, params, callback) {\n  return dispatch => {\n    const url = serverHost + '/good/' + id + '/';\n\n    return fetch(url, {\n      method: 'PUT',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n      .then(async(response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n        else {\n          const error = await response.json()\n          throw new Error(JSON.stringify(error))\n        }\n      })\n      .then(good => {\n        dispatch(receiveGood(good.id, good))\n        callback(GOOD_SUCCESS, null, good.id);\n      }).catch(err => {\n        callback(GOOD_ERROR, err);\n      })\n  }\n}\n","import { combineReducers } from 'redux'\nimport { needs } from './reducers/needReducers.js';\nimport { auth } from './reducers/authReducer.js';\nimport { ontology } from './reducers/ontologyReducers.js';\nimport { clients } from './reducers/clientReducer.js';\nimport { services } from './reducers/serviceReducer.js';\nimport { providers } from './reducers/providerReducers.js';\nimport { goods } from './reducers/goodReducer.js';\n\n\nconst appReducer = combineReducers({\n  services,\n  clients,\n  goods,\n  needs,\n  providers,\n  auth,\n  ontology,\n});\n\nconst initialState = appReducer({}, {});\n\nexport const rootReducer = (state, action) => {\n  if (action.type === 'LOGGED_OUT') {\n    state = initialState\n  }\n\n  return appReducer(state, action);\n};\n","import { REQUEST_SERVICES, RECEIVE_SERVICES, SEARCH_SERVICES, REMOVE_SERVICE,\n         REQUEST_SERVICE, RECEIVE_SERVICE } from '../actions/serviceActions.js';\nimport _ from 'lodash';\n\n\nexport function services(state = {index: [], filteredServices: [], servicesLoaded: false, byId: {} }, action) {\n  let nextById, sortedServices, services, nextIndex;\n  switch (action.type) {\n    case REQUEST_SERVICES:\n    // should be for fetching all serves in componentWillMount\n      return {...state, servicesLoaded: false }\n    case RECEIVE_SERVICES:\n      console.log(\"reducer check: \", action);\n    // should be for fetching all serves in componentWillMount\n      const newServicesById = _.keyBy(action.services, service => service.id);\n      nextById = { ...state.byId, ...newServicesById }\n      return {...state, byId: nextById, servicesLoaded: true, index: action.services, filteredServices:action.services }\n    case REMOVE_SERVICE:\n    // should be for delete function\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return { ...state, index: nextIndex, filteredServices: nextIndex }\n    case REQUEST_SERVICE:\n    // for single servce viewing\n      nextById = { ...state.byId, [action.id]: { servicesLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_SERVICE:\n    // same as above\n      nextById = {...state.byId, [action.id]: { ...action.service, servicesLoaded: true }}\n      return {...state, byId: nextById }\n\n    case SEARCH_SERVICES:\n    // for search bar\n      if (action.sortType === '' || action.sortType === \"name\") {\n        console.log(\"service reducer :\", [...state.index]);\n        sortedServices = [...state.index].sort((a, b) => (a.name ? a.name.toLowerCase(): \"\").localeCompare(b.name ? b.name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"provider\") {\n        sortedServices = [...state.index].sort((a, b) => (a.provider.profile.first_name?a.provider.profile.first_name.toLowerCase():\"\").localeCompare(b.provider.profile.first_name?b.provider.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"description\") {\n        sortedServices = [...state.index].sort((a, b) => (a.desc?a.desc:\"\").localeCompare(b.desc?b.desc:\"\"));\n      }\n      else if (action.sortType === \"category\") {\n        sortedServices = [...state.index].sort((a, b) => (a.category? a.category:\"\").localeCompare(b.category?b.category:\"\"));\n      }\n\n      if (action.searchValue === '') {\n        return {index: sortedServices, filteredServices: sortedServices, servicesLoaded: true}\n      }\n      else if (action.searchType === \"name\") {\n        services = sortedServices.filter((service) => ((service.name?service.name.toLowerCase():\"\").includes(action.searchValue) ));\n        console.log(\"service reducer return: \", {index: [...state.index], filteredServices: services, servicesLoaded: true});\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"provider\") {\n        services = sortedServices.filter((service) => (service.provider.company ? (service.provider.company).includes(action.searchValue) : \"\")\n        || ((service.provider.profile.first_name ? service.provider.profile.first_name.toLowerCase() : \"\")\n         + \" \" +\n         (service.provider.profile.last_name ? service.provider.profile.last_name.toLowerCase().includes(action.searchValue): \"\")));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"description\") {\n        services = sortedServices.filter((service) => ((service.desc).includes(action.searchValue) ));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      else if (action.searchType === \"category\") {\n        services = sortedServices.filter((service) => ((service.category).includes(action.searchValue) ));\n        return {index: [...state.index], filteredServices: services, servicesLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { REQUEST_CLIENTS, RECEIVE_CLIENTS, REMOVE_CLIENT, REQUEST_CLIENT,\n         RECEIVE_CLIENT, SEARCH_CLIENTS } from '../actions/clientActions.js';\nimport _ from 'lodash';\n\n\nexport function clients(state = {index: [], filteredClients: [], clientsLoaded: false, byId: {} }, action) {\n  let nextById, clients, nextIndex, sortedClients;\n  switch (action.type) {\n    case REQUEST_CLIENTS:\n      console.log()\n      return {...state, clientsLoaded: false }\n    case RECEIVE_CLIENTS:\n      console.log(RECEIVE_CLIENTS);\n      const newClientsById = _.keyBy(action.clients, client => client.id);\n      nextById = { ...state.byId, ...newClientsById }\n      return {...state, byId: nextById, clientsLoaded: true, index: action.clients, filteredClients: action.clients }\n    case REMOVE_CLIENT:\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return { ...state, index: nextIndex, filteredClients: nextIndex }\n    case REQUEST_CLIENT:\n      nextById = { ...state.byId, [action.id]: { clientsLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_CLIENT:\n      console.log(RECEIVE_CLIENT);\n      nextById = {...state.byId, [action.id]: { ...action.client, clientsLoaded: true }}\n      return {...state, byId: nextById }\n\n    case SEARCH_CLIENTS:\n    // for search bar\n      if (action.sortType === '' || action.sortType === \"first_name\") {\n        console.log(\"client reducer :\", [...state.index]);\n        sortedClients = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"-first_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n        sortedClients = sortedClients.reverse();\n      }\n      else if (action.sortType === \"last_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.last_name ? a.profile.last_name.toLowerCase(): \"\").localeCompare(b.profile.last_name ? b.profile.last_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType === \"-last_name\") {\n        sortedClients = [...state.index].sort((a, b) => (a.profile.last_name ? a.profile.last_name.toLowerCase(): \"\").localeCompare(b.profile.last_name ? b.profile.last_name.toLowerCase():\"\"));\n        sortedClients = sortedClients.reverse();\n      }\n\n      if (action.searchValue === ''){\n        return {index: sortedClients, filteredClients: sortedClients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'first_name') {\n        console.log(\"clients: \", sortedClients);\n        clients = sortedClients.filter((client) => ((client.profile.first_name?client.profile.first_name.toLowerCase():\"\").includes(action.searchValue)));\n        console.log(\"client reducer return: \", {index: [...state.index], filteredClients: clients, clientsLoaded: true});\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'last_name') {\n        clients = sortedClients.filter((client) => ((client.profile.last_name?client.profile.last_name.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      else if (action.searchType === 'address') {\n        clients = sortedClients.filter((client) => ((client.address?client.address.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredClients: clients, clientsLoaded: true}\n      }\n      break;\n\n    default:\n      return state\n\n  }\n}\n","import { REQUEST_GOODS, RECEIVE_GOODS, RECEIVE_ALL_GOODS, SEARCH_GOODS, REMOVE_GOOD,\n         REQUEST_GOOD, RECEIVE_GOOD } from '../actions/goodActions.js';\nimport _ from 'lodash';\n\n\nexport function goods(state = {index: [], filteredGoods: [], goodsLoaded: false, byId: {} }, action) {\n  let nextById, sortedGoods, goods;\n  switch (action.type) {\n    case REQUEST_GOODS:\n      return {...state, goodsLoaded: false }\n    case RECEIVE_GOODS:\n      const newGoodsById = _.keyBy(action.goods, good => good.id);\n      nextById = { ...state.byId, ...newGoodsById }\n      return {...state, byId: nextById, goodsLoaded: true, index: action.goods, filteredGoods:action.goods }\n    case RECEIVE_ALL_GOODS:\n      nextById = _.keyBy(action.goods, good => good.id);\n      return {...state, byId: nextById, goodsLoaded: true, index: action.goods, filteredGoods:action.goods }\n    case REMOVE_GOOD:\n      nextById = _.clone(state.byId);\n      delete nextById[action.id]\n      return { ...state, byId: nextById }\n    case REQUEST_GOOD:\n      nextById = { ...state.byId, [action.id]: { goodsLoaded: false } }\n      return {...state, byId: nextById }\n    case RECEIVE_GOOD:\n      nextById = {...state.byId, [action.id]: { ...action.good, goodsLoaded: true }}\n      return {...state, byId: nextById }\n    case SEARCH_GOODS:\n      if (action.sortType === '') {\n        sortedGoods = [...state.index];\n      }\n      else if (action.sortType === \"name\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.name).localeCompare(b.name));\n      }\n      else if (action.sortType === \"provider\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.provider.profile.first_name).localeCompare(b.provider.profile.first_name));\n      }\n      else if (action.sortType === \"description\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.desc).localeCompare(b.desc));\n      }\n      else if (action.sortType === \"category\") {\n        sortedGoods = [...state.index].sort((a, b) => (a.category).localeCompare(b.category));\n      }\n\n      if (action.searchValue === '') {\n        return {index: sortedGoods, filteredGoods: sortedGoods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"name\") {\n        goods = sortedGoods.filter((good) => ((good.name).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"provider\") {\n        goods = sortedGoods.filter((good) => ((good.provider.company).includes(action.searchValue)) || ((good.provider.profile.first_name + \" \" + good.provider.profile.last_name).includes(action.searchValue)));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"description\") {\n        goods = sortedGoods.filter((good) => ((good.desc).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      else if (action.searchType === \"category\") {\n        goods = sortedGoods.filter((good) => ((good.category).includes(action.searchValue) ));\n        return {index: [...state.index], filteredGoods: goods, goodsLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { RECEIVE_CLIENT_NEEDS, RECEIVE_CLIENT_NEED, REQUEST_NEED, REQUEST_NEEDS, RECEIVE_NEEDS,\n         REMOVE_CLIENT_NEED, RECEIVE_CLIENT_NEED_GROUP, RECEIVE_CLIENT_NEED_INFO } from '../actions/needActions.js';\nimport _ from 'lodash';\n\nexport function needs(state = { byId: {}, needGroups: [], clientId: null, loaded: false, needs: [] }, action) {\n  let nextById, nextNeedGroup, needGroupIndex;\n  switch (action.type) {\n    case REQUEST_NEEDS:\n      return {...state, loaded: false }\n    case RECEIVE_NEEDS:\n      return {...state, needs: action.needs, loaded: true }\n    case RECEIVE_CLIENT_NEEDS:\n      if (action.needs){\n        nextById = _.keyBy(action.needs, need => need.id);\n        return {...state, byId: nextById, needGroups: action.needGroups, loaded: true, clientId: action.clientId}\n      } else {\n        return {...state, needGroups: action.needGroups, loaded: true, clientId: action.clientId}\n      }\n    case RECEIVE_CLIENT_NEED:\n      nextById = {...state.byId, [action.need.id]: { ...action.need, loaded: true }}\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id).indexOf(action.needGroup.id);\n      if (needGroupIndex >= 0) {\n        nextNeedGroup[needGroupIndex] = action.needGroup;\n      }\n      else {\n        nextNeedGroup = [...nextNeedGroup, action.needGroup]\n      }\n      return {...state, needGroups: nextNeedGroup, byId: nextById, clientId: action.clientId}\n    case RECEIVE_CLIENT_NEED_INFO:\n      nextById = {...state.byId, [action.needId]: { ...action.need, loaded: true }}\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id.toString()).indexOf(action.need.need_group_id);\n      if (needGroupIndex >= 0) {\n        const needIndex = nextNeedGroup[needGroupIndex].needs.map(need => need.id).indexOf(action.needId);\n        (nextNeedGroup[needGroupIndex].needs)[needIndex] = action.need;\n        return {...state, needGroups: nextNeedGroup, byId: nextById, clientId: action.clientId}\n      }\n      return {...state, byId: nextById, clientId: action.clientId}\n    case REMOVE_CLIENT_NEED:\n      const need = state.byId[action.needId];\n      nextById = _.clone(state.byId);\n      delete nextById[action.needId]\n\n      nextNeedGroup = _.clone(state.needGroups);\n      needGroupIndex = nextNeedGroup.map(needGroup => (needGroup.id).toString()).indexOf(need.need_group_id);\n      _.remove(nextNeedGroup[needGroupIndex].needs, (need) => {return need.id === action.needId });\n      if (nextNeedGroup[needGroupIndex].needs.length === 0) {\n        nextNeedGroup.splice(needGroupIndex, 1);\n      }\n      return { ...state, byId: nextById, needGroups: nextNeedGroup }\n    case REQUEST_NEED:\n      nextById = {...state.byId, [action.needId]: { ...action.need, loaded: false }}\n      return {...state, byId: nextById }\n    case RECEIVE_CLIENT_NEED_GROUP:\n      nextNeedGroup = _.clone(state.needGroups)\n      needGroupIndex = nextNeedGroup.map(needGroup => needGroup.id).indexOf(action.needGroup.id);\n      nextNeedGroup[needGroupIndex] = action.needGroup;\n      return {...state, needGroups: nextNeedGroup }\n    default:\n      return state\n  }\n}\n","import _ from 'lodash';\n\nimport { RECEIVE_PROVIDER, REQUEST_PROVIDER, REQUEST_PROVIDERS, RECEIVE_PROVIDERS,\n         SEARCH_PROVIDERS, REMOVE_PROVIDER } from '../actions/providerActions.js'\n\n\nexport function providers(state = {index: [], byId: {}, providerLoaded: false, value: '', filteredProviders: []}, action) {\n  let nextIndex, nextById, providers, sortedProviders, providersByType;\n\n  switch (action.type) {\n    case REQUEST_PROVIDERS:\n      return {...state, providerLoaded: false};\n    case RECEIVE_PROVIDERS:\n      const providersById = _.keyBy(action.providers, provider => provider.id);\n      nextById = {...state.byId, providersById}\n      return {...state, byId: nextById, index: action.providers, filteredProviders: action.providers, providerLoaded: true};\n    case REMOVE_PROVIDER:\n      nextIndex = _.clone(state.index);\n      _.remove(nextIndex, (n) => { return n.id === action.id });\n      return {...state, index: nextIndex, filteredProviders: nextIndex}\n    case RECEIVE_PROVIDER:\n      nextById = {...state.byId, [action.id]: { ...action.provider, providerLoaded: true }}\n      if (action.provider.provider) {\n        nextById.providersById = {...nextById.providersById, [action.id]: { ...action.provider.provider}}\n      }\n      console.log(\"ProviderReducer.js - RECEIVE_PROVIDER state\", state);\n      console.log(\"ProviderReducer.js - RECEIVE_PROVIDER nextById\", nextById);\n      return {...state, byId: nextById }\n    case REQUEST_PROVIDER:\n      nextById = { ...state.byId, [action.id]: { providerLoaded: false } }\n      return {...state, byId: nextById }\n    case SEARCH_PROVIDERS:\n      // for search bar\n      console.log(\"ProviderReducer.js  - index.providers: \", state.index.providers);\n      console.log(\"ProviderReducer.js  - action: \", action);\n\n\n      //action.sortType\n      if (action.sortType === '' || action.sortType === \"name\") {\n\n         console.log(\"ProviderReducer.js  - index.providers 2: \", state.index.providers);\n         console.log(\"ProviderReducer.js  - state: \", state);\n\n         sortedProviders = [...state.index].sort((a, b) => (a.profile.first_name ? a.profile.first_name.toLowerCase(): \"\").localeCompare(b.profile.first_name ? b.profile.first_name.toLowerCase():\"\"));\n      }\n      else if (action.sortType ==='type'){\n        sortedProviders = [...state.index].sort((a, b) => (a.type? a.type:\"\").localeCompare(b.type?b.type:\"\"));\n      }\n\n      console.log(\"ProviderReducer.js  - sortedProviders: \", sortedProviders);\n\n      //action.displayType\n      if (action.displayType === 'Individual' || action.displayType === 'Organization'){\n        providersByType = sortedProviders.filter((provider) => ((provider.type).includes(action.displayType)));\n      }\n      else {\n        providersByType = sortedProviders;\n      }\n\n      console.log(\"ProviderReducer.js  -  providersByType: \", providersByType);\n\n      //action.searchValue\n      if (action.searchValue === ''){\n        return {index: providersByType, filteredProviders: providersByType, providerLoaded: true}\n      }\n      else if (action.searchType === 'name') {\n\n        console.log(\"ProviderReducer.js  - state.index: \", state.index);\n        console.log(\"ProviderReducer.js  - providersByType: \", providersByType);\n\n        providers = providersByType.filter((provider) => (((provider.profile.first_name ? provider.profile.first_name.toLowerCase() : \"\")\n         + \" \" +\n         (provider.profile.last_name ? provider.profile.last_name.toLowerCase():\"\")).includes(action.searchValue)));\n        console.log(\"providersByType -  returned data : \", {index: [...state.index], filteredProviders: providers, providerLoaded: true});\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      else if (action.searchType === 'email') {\n        providers = providersByType.filter((providers) => ((providers.email?providers.email.toLowerCase():\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      else if (action.searchType === 'phone'){\n        providers = providersByType.filter((providers) => ((providers.primary_phone_number?providers.primary_phone_number:\"\").includes(action.searchValue)));\n        return {index: [...state.index], filteredProviders: providers, providerLoaded: true}\n      }\n      break;\n    default:\n      return state\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport thunkMiddleware from 'redux-thunk'\nimport { rootReducer } from './store/reducers.js'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\nimport { logout } from './store/actions/authAction.js';\n\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\nconst authMiddleware = store => next => action => {\n  const user = store.getState()['auth']['currentUser']\n  if (action.type !== 'LOGGED_OUT' && user && new Date() > user.expired_at) {\n    store.dispatch(logout(true))\n  }\n  return next(action);\n}\n\nexport default function configureStore(preloadedState) {\n  console.log(\"File: store.js - Function: configureStore  Parameters: preloadedState ->  \", preloadedState) \n  let store = createStore(\n    persistedReducer,\n    preloadedState,\n    applyMiddleware(thunkMiddleware, authMiddleware)\n  )\n  let persistor = persistStore(store)\n  return { store, persistor }\n}\n","/**\n * Use Google Maps in React without custom libraries.\n * Some of the ideas are from\n * https://cuneyt.aliustaoglu.biz/en/using-google-maps-in-react-without-custom-libraries/\n */\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Paper, Typography, Link } from \"@material-ui/core\";\nimport { render } from 'react-dom';\nimport { useHistory } from \"react-router-dom\";\n\nconst Google = window.google || {maps: {}};\nconst {Map, Marker, InfoWindow, Size} = Google.maps;\n\n// Mount a react component into uncontrolled component\nconst createInfoWindow = (map, markerElement, marker, history, idx) => {\n  const infoWindow = new InfoWindow({\n    content: `<div id=\"infoWindow-${idx}\" />`,\n    position: marker.position,\n    pixelOffset: new Size(0, -42),\n  });\n  infoWindow.addListener('domready', e => {\n    render(\n      <ReactInfoWindow history={history} marker={marker}/>,\n      document.getElementById(`infoWindow-${idx}`))\n  });\n  // 'clicked' and 'show' act as an instance variable.\n  let clicked = false, show = false;\n  document.querySelector(`infoWindow-${idx} button`);\n  markerElement.addListener('mouseover', e => {\n    infoWindow.open(map);\n    show = true;\n    markerElement.addListener('mouseout', e => {\n      show && !clicked && infoWindow.close();\n      if (show) show = false;\n    });\n    markerElement.addListener('click', e => {\n      clicked = true;\n      infoWindow.open(map);\n    });\n    window.google.maps.event.addListener(infoWindow, 'closeclick', e => {\n      clicked = false;\n    });\n  });\n  return infoWindow;\n};\n\nfunction ReactInfoWindow({marker, history}) {\n  const {title, link, content} = marker;\n  return (\n    <>\n      <Link style={{cursor: 'pointer'}} onClick={() => link ? history.push(link) : null}>\n        <Typography>\n          {title}\n        </Typography>\n      </Link>\n      <Typography color=\"textSecondary\">\n        {content}\n      </Typography>\n    </>\n  );\n}\n\nlet GoogleMap;\n\n// Export empty div if no network to load google maps.\nif (Map) {\n  // Google map in each pages, native Google API implementation\n  // (without any react wrapper, library)\n  GoogleMap = function (props) {\n    const history = useHistory();\n    const defaultCenter = useMemo(() => ({lat: 43.6870, lng: -79.4132}), []);\n    const {\n      zoom = 11,\n      center = defaultCenter, // Toronto\n      markers = [],\n    } = props;\n    const [map, setMap] = useState(null);\n\n    useEffect(() => {\n      setMap(new Map(document.getElementById('map'), {\n        center: center,\n        zoom: zoom\n      }));\n    }, [zoom, center]);\n\n    useEffect(() => {\n      for (let i = 0; i < markers.length; i++) {\n        const marker = markers[i];\n        const currMarker = new Marker({\n          position: marker.position,\n          map: map,\n          title: marker.title,\n        });\n        // Info window is opened when mouse over the marker.\n        // It also stays open after the marker is clicked.\n        createInfoWindow(map, currMarker, marker, history, i);\n      }\n    }, [markers, map, history]);\n\n    return useMemo(() =>\n        <Paper elevation={5} style={{width: '100%', height: '40vh', marginTop: 5}} id=\"map\"/>\n      , []);\n  }\n} else {\n  GoogleMap = function () {\n    console.info('Google maps javascript is not loaded. Are you offline?');\n    return <Paper elevation={5} style={{width: '100%', height: '40vh', marginTop: 5}}/>\n  }\n}\n\nexport default GoogleMap;\n","import React from 'react';\nimport { InputBase, Button, Dialog, DialogTitle, DialogContent, DialogActions } from \"@material-ui/core\";\n\nexport default function CSVUploadModal({show, onHide, submit}) {\n  return (\n    <Dialog\n      open={show}\n      onClose={onHide}\n    >\n      <DialogTitle id=\"form-dialog-title\">Upload CSV</DialogTitle>\n      <DialogContent>\n        <InputBase type=\"file\"/>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={submit}>Submit</Button>\n        <Button onClick={onHide}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { TextField, Button, Dialog, DialogTitle, DialogContent, DialogActions } from \"@material-ui/core\";\n\nexport default function DeleteModal({show, onHide, title, objectId, ...props}) { // cannot use keyword \"delete\"\n  const [form, setForm] = useState({reason: ''});\n\n  return (\n    <Dialog\n      open={show}\n      onClose={onHide}\n      fullWidth\n    >\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <TextField value={form.reason} label=\"Reason\" sx={{mt: 2}}\n                   onChange={e => setForm({reason: e.target.value})} fullWidth/>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" onClick={() => props.delete(objectId, form)}>Confirm</Button>\n        <Button onClick={onHide}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { IconButton, Menu, MenuItem, ListItemIcon, Typography } from \"@material-ui/core\";\nimport { MoreVert as MoreVertIcon, Edit, Delete, OpenInBrowser } from '@material-ui/icons';\n\nconst ITEM_HEIGHT = 48;\n\nexport default function DropdownMenu({urlPrefix, objectId, handleDelete, hideViewOption}) {\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLink = link => () => {\n    history.push(link);\n  };\n\n  return (\n    <div>\n      <IconButton\n        onClick={handleClick}\n        size=\"small\"\n      >\n        <MoreVertIcon/>\n      </IconButton>\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: 150,\n          },\n        }}\n      >\n        {!hideViewOption &&\n        <MenuItem onClick={handleLink(`/${urlPrefix}/${objectId}`)}>\n          <ListItemIcon>\n            <OpenInBrowser fontSize=\"small\" color=\"primary\"/>\n          </ListItemIcon>\n          <Typography variant=\"inherit\">View</Typography>\n\n        </MenuItem>\n        }\n\n        <MenuItem onClick={handleLink(`/${urlPrefix}/${objectId}/edit`)}>\n          <ListItemIcon>\n            <Edit fontSize=\"small\" color=\"primary\"/>\n          </ListItemIcon>\n          Edit\n        </MenuItem>\n\n        <MenuItem onClick={() => {\n          handleClose();\n          handleDelete(objectId);\n        }}>\n          <ListItemIcon>\n            <Delete fontSize=\"small\" color=\"secondary\"/>\n          </ListItemIcon>\n          Delete\n        </MenuItem>\n\n      </Menu>\n    </div>\n  );\n}\n","import { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { ACTION_ERROR } from \"../../store/defaults\";\nimport { CSVUploadModal, CustomToolbar, DeleteModal, DropdownMenu, GoogleMap, Loading, DataTable } from \"./index\";\nimport { Container, Fade } from \"@material-ui/core\";\n\n/**\n * Generate markers on google map.\n * @function GenerateMarkers\n * @param data: Array\n * @param pageNumber: Number\n * @param rowsPerPage: Number\n */\n\n/**\n * A generic page component for clients, services, goods, providers.\n * @param props {{fetchData, deleteItem, generateMarkers: GenerateMarkers, tableOptions?: {},\n * type: (\"clients\", \"services\", \"goods\", \"providers\"), nameFormatter, columnsWithoutOptions}}\n */\nexport default function GenericPage(props) {\n  const {\n    fetchData, deleteItem, generateMarkers, type,\n    nameFormatter, columnsWithoutOptions\n  } = props;\n  const title = type.charAt(0).toUpperCase() + type.slice(1);\n\n  // redux hooks\n  const dispatch = useDispatch();\n\n  // react hooks\n  const history = useHistory();\n  const [state, setState] = useState({\n    showUploadDialog: false,\n    showDeleteDialog: false,\n    deleteId: null,\n    deleteDialogTitle: '',\n    data: [], // providers\n    pageNumber: 1,\n    rowsPerPage: 10,\n    loading: true,\n  });\n\n  // useEffect with empty dependencies is something like componentWillMount\n  useEffect(() => {\n    dispatch(fetchData()).then(data => setState(state => ({...state, data, loading: false})))\n  }, [dispatch, fetchData]);\n\n  const hideDialog = () => {\n    setState(state => ({\n      ...state,\n      showUploadDialog: false,\n      showDeleteDialog: false,\n    }));\n  };\n\n  const handleDelete = useCallback(async (id, form) => {\n    const status = await dispatch(deleteItem(id, form));\n    if (status === ACTION_ERROR) {\n      // do something\n    } else {\n      hideDialog();\n      setState(state => ({\n        ...state,\n        data: state.data.filter(item => item.id !== state.deleteId)\n      }));\n    }\n  }, [dispatch, deleteItem]);\n\n  const showDeleteDialog = useCallback((idx) => {\n    const item = state.data[idx];\n    setState(state => ({\n      ...state,\n      showDeleteDialog: true,\n      deleteId: item.id,\n      deleteDialogTitle: `Delete ${title} ` + nameFormatter(item),\n    }));\n  }, [state.data, nameFormatter, title]);\n\n  // TODO: implement upload CSV\n  const handleUpload = file => {\n\n  };\n\n  const columns = useMemo(() => {\n    return [\n      ...columnsWithoutOptions,\n      {\n        label: ' ',\n        body: ({id}) => (\n          <DropdownMenu urlPrefix={type} objectId={id} handleDelete={showDeleteDialog}/>\n        )\n      },\n    ]\n  }, [showDeleteDialog, columnsWithoutOptions, type]);\n\n  const tableOptions = {\n    customToolbar:\n      <CustomToolbar\n        type={type}\n        handleAdd={() => history.push(`/${type}/new`)}\n        handleUpload={() => setState(state => ({...state, showUploadDialog: true}))}\n      />,\n    onDelete: async (ids) => {\n      // TODO: Lester 8/30/2021\n      showDeleteDialog(ids);\n      return false;\n    },\n\n    // These listeners are required for displaying pin on Google Map\n    onChangePage: pageNumber => setState(state => ({...state, pageNumber})),\n    onChangeRowsPerPage: rowsPerPage => setState(state => ({...state, rowsPerPage})),\n    ...props.tableOptions,\n  };\n\n  // This also filters out providers without lat / lng.\n  const markers = useMemo(() => generateMarkers(state.data, state.pageNumber, state.rowsPerPage),\n    [generateMarkers, state.data, state.pageNumber, state.rowsPerPage]);\n\n  if (state.loading)\n    return <Loading message={`Loading ${title}...`}/>;\n\n  return (\n    <Fade in>\n      <Container>\n        <DataTable\n          columns={columns}\n          data={state.data}\n          title={title}\n          {...tableOptions}\n        />\n\n        <CSVUploadModal\n          show={state.showUploadDialog}\n          onHide={hideDialog}\n          submit={handleUpload}\n        />\n        <DeleteModal\n          contentType=\"Provider\"\n          objectId={state.deleteId}\n          title={state.deleteDialogTitle}\n          show={state.showDeleteDialog}\n          onHide={hideDialog}\n          delete={handleDelete}\n        />\n        <GoogleMap markers={markers}/>\n      </Container>\n    </Fade>\n  )\n}\n","import React from 'react';\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Stepper, Step, StepButton, Button, Typography } from '@material-ui/core';\nimport { Alert } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  buttons: {\n    width: '80%',\n    margin: 'auto',\n    paddingTop: 20,\n    paddingBottom: 40,\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  alert: {\n    width: '80%',\n    margin: 'auto',\n  },\n  title: {\n    color: '#4b4b4b',\n    width: '80%',\n    margin: 'auto',\n  }\n}));\n\nexport default function FormStepper({stepNames, handleFinish, getStepContent, error, title}) {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(0);\n\n  const handleStep = step => () => {\n    setActiveStep(step);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleNext = () => {\n    if (activeStep === stepNames.length - 1) {\n      handleFinish();\n      return;\n    }\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  return (\n    <div>\n      <Stepper alternativeLabel nonLinear activeStep={activeStep}>\n        {stepNames.map((label, index) => (\n          <Step key={label}>\n            <StepButton\n              onClick={handleStep(index)}\n            >\n              {label}\n            </StepButton>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {title && <Typography color=\"textSecondary\" variant=\"h6\" className={classes.title}>\n          {title}\n        </Typography>}\n        {error && error.map((err, index) =>\n          <Alert key={index} className={classes.alert} severity=\"error\">{err}</Alert>)}\n        {getStepContent(activeStep)}\n        <div className={classes.buttons}>\n          <Button\n            disabled={activeStep === 0}\n            onClick={handleBack}\n            className={classes.backButton}\n          >\n            Back\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n            {activeStep === stepNames.length - 1 ? 'Finish' : 'Next'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Paper, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: 16,\n  },\n  paper: {\n    display: 'inline-block',\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    minWidth: 380,\n  }\n}));\n\nexport default function ({label, children}) {\n  const classes = useStyles();\n  return (\n    <div className={label && classes.root}>\n      {label && <Typography color=\"textSecondary\" variant=\"body1\" gutterBottom>\n        {label}\n      </Typography>}\n      <Paper variant=\"outlined\" className={classes.paper}>\n        {children}\n      </Paper>\n    </div>\n  )\n}\n","import React, { useCallback, useState } from 'react';\nimport AdapterDateFns from '@material-ui/lab/AdapterDateFns';\nimport { format, parse } from 'date-fns';\nimport { TextField } from '@material-ui/core'\nimport {\n  LocalizationProvider,\n  TimePicker,\n  DatePicker,\n} from '@material-ui/lab';\n\nexport const dateFormat = 'yyyy-MM-dd';\n\nexport default function GeneralField({type, onChange, value: defaultValue, ...props}) {\n  // duplicate the state, the drawback is much smaller than re-render all the form.\n  const [value, setValue] = useState(() => {\n    if (type === 'date') {\n      if (defaultValue)\n        return parse(defaultValue, dateFormat, new Date());\n      else\n        return null;\n    }\n    return defaultValue|| '';\n  });\n\n  const handleChange = useCallback(e => {\n    const val = e.target.value;\n    setValue(val);\n    onChange({target: {value: val}});\n  }, [onChange, type]);\n\n  const onChangeDate = date => {\n    setValue(date);\n  }\n\n  const onAcceptDate = date => {\n    setValue(date);\n    const formattedDate = format(date, dateFormat);\n    try {\n      onChange({target: {value: formattedDate}});\n    } catch (e) {\n    }\n  };\n\n  if (type === 'date')\n    return (\n      <div>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <DatePicker\n            value={value}\n            onAccept={onAcceptDate}\n            onChange={onChangeDate}\n            renderInput={(params) =>\n              <TextField {...params}\n                         sx={{minWidth: 350}}\n                         margin=\"normal\"/>\n            }\n            {...props}\n          />\n        </LocalizationProvider>\n      </div>\n    );\n  else if (type === 'time')\n    return (\n      <div>\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\n          <TimePicker\n            value={value}\n            onAccept={onAcceptDate}\n            onChange={onChangeDate}\n            renderInput={(params) =>\n              <TextField {...params}\n                         sx={{minWidth: 350}}\n                         margin=\"normal\"/>\n            }\n            {...props}\n          />\n        </LocalizationProvider>\n      </div>);\n  else\n    return (\n      <div>\n        <TextField\n          sx={{mt: '16px', minWidth: 350}}\n          type={type}\n          {...props}\n          onChange={handleChange}\n          value={value}\n        />\n      </div>\n    );\n}\n","import GeneralField from \"../components/shared/fields/GeneralField\";\n\nexport const UN_SET = 'UN_SET';\nexport const REQUIRED_HELPER_TEXT = 'This field is required';\n\nexport const defaultField = {\n  label: '',\n  type: 'text',\n  component: GeneralField,\n  validator: null,\n  required: false,\n};","import React, { useCallback, useEffect, useState } from 'react';\nimport { FormControl, InputLabel, Select, MenuItem, FormHelperText } from \"@material-ui/core\";\nimport makeStyles from '@material-ui/styles/makeStyles';\n\nimport { UN_SET } from '../../../constants';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: '16px 0 0',\n    minWidth: 350,\n  },\n}));\n\n/**\n *\n * @param label\n * @param InputLabelProps\n * @param className\n * @param options\n * @param noDefaultStyle\n * @param noEmpty\n * @param controlled {boolean=false} - Controlled by the parent component.\n *                                     Set it to true if you dynamically update options\n * @param defaultOptionTitle\n * @param onChange\n * @param formControlProps\n * @param helperText\n * @returns {*}\n * @constructor\n */\nexport default function SelectField({\n                                      label, InputLabelProps, className, options, noDefaultStyle, noEmpty, controlled,\n                                      defaultOptionTitle = 'Not Set', onChange, formControlProps, helperText, ...props\n                                    }) {\n  const classes = useStyles();\n  const [value, setValue] = useState(noEmpty ? '' : UN_SET);\n  const handleChange = useCallback(e => {\n    const val = e.target.value;\n    setValue(val);\n    onChange({target: {value: val === UN_SET ? undefined : val}});\n  }, [onChange]);\n\n  useEffect(() => {\n    setValue(props.value === undefined ? UN_SET : props.value);\n  }, [props.value]);\n\n  return (\n    <div>\n      <FormControl className={(noDefaultStyle || className) ? className : classes.formControl}\n                   error={props.error}\n                   required={props.required}\n                   {...formControlProps}>\n        {label && <InputLabel {...InputLabelProps}>{label}</InputLabel>}\n        <Select\n          margin=\"none\"\n          label={label}\n          {...props}\n          value={controlled ? props.value : value}\n          onChange={controlled ? onChange : handleChange}\n        >\n          {!noEmpty && <MenuItem key=\"key0\" value={UN_SET}>{defaultOptionTitle}</MenuItem>}\n          {Array.isArray(options)\n            ? options.map(option => <MenuItem key={option} value={option}>{option}</MenuItem>)\n            : Object.entries(options).map(([key, value]) => <MenuItem key={key} value={key}>{value}</MenuItem>)}\n        </Select>\n        {helperText && <FormHelperText>{helperText}</FormHelperText>}\n      </FormControl>\n    </div>\n  );\n}\n","import React from 'react';\nimport GeneralField from './fields/GeneralField';\nimport SelectField from './fields/SelectField';\nimport { provinceOptions } from '../../store/defaults';\n\nexport default function LocationFieldGroup({address, required, errMsg = {}}) {\n  const handleChange = name => e => address[name] = e.target.value;\n  return (\n    <div>\n      <GeneralField\n        label=\"Apt. #\"\n        type=\"text\"\n        value={address.apt_number}\n        onChange={handleChange('apt_number')}\n        error={!!errMsg['apt_number']}\n        helperText={errMsg['apt_number']}\n      />\n      <GeneralField\n        label=\"Street Address\"\n        type=\"text\"\n        value={address.street_address}\n        onChange={handleChange('street_address')}\n        required={required}\n        error={!!errMsg['street_address']}\n        helperText={errMsg['street_address']}\n      />\n      <GeneralField\n        label=\"City\"\n        type=\"text\"\n        value={address.city}\n        onChange={handleChange('city')}\n        required={required}\n        error={!!errMsg['city']}\n        helperText={errMsg['city']}\n      />\n      <SelectField\n        label=\"Province\"\n        value={address.province}\n        options={provinceOptions}\n        onChange={handleChange('province')}\n        required={required}\n        error={!!errMsg['province']}\n        helperText={errMsg['province']}\n      />\n      <GeneralField\n        label=\"Postal Code\"\n        type=\"text\"\n        value={address.postal_code}\n        onChange={handleChange('postal_code')}\n        required={required}\n        error={!!errMsg['postal_code']}\n        helperText={errMsg['postal_code']}\n      />\n    </div>\n  );\n}\n","import _ from 'lodash';\nimport React from 'react';\n\nexport const defaultTimeSlot = {'start_time': '', 'end_time': ''};\nexport const defaultOperationHour = {\n  'Monday': [{...defaultTimeSlot}],\n  'Tuesday': [{...defaultTimeSlot}],\n  'Wednesday': [{...defaultTimeSlot}],\n  'Thursday': [{...defaultTimeSlot}],\n  'Friday': [{...defaultTimeSlot}],\n  'Saturday': [{...defaultTimeSlot}],\n  'Sunday': [{...defaultTimeSlot}],\n};\n\nlet mapping = {};\nfor (let hour = 1; hour <= 12; hour++) {\n  const hourStringam = (hour / 10 < 1) ? '0' + hour : hour;\n  for (let minutes = 0; minutes <= 45; minutes += 30) {\n    const minuteString = (minutes === 0) ? '00' : minutes;\n    const timeSlot = hourStringam + ':' + minuteString\n    mapping[hour * 100 + minutes] = timeSlot + ' AM'\n  }\n}\n\nfor (let hour = 1; hour <= 12; hour++) {\n  for (let minutes = 0; minutes <= 45; minutes += 30) {\n    const hourStringpm = (hour / 10 < 1) ? '0' + hour : hour;\n    const minuteString = (minutes === 0) ? '00' : minutes;\n    const timeSlot = hourStringpm + ':' + minuteString;\n    mapping[(hour + 12) * 100 + minutes] = timeSlot + ' PM'\n  }\n}\n\nexport const operationHourMapping = mapping;\n\nexport function operationHourListToObject(operation_hour_list) {\n  let operation_hours = {}\n  _.each(operation_hour_list, operation_hour => {\n    const weekday = operation_hour['week_day']\n    if (!operation_hours[weekday]) {\n      operation_hours[weekday] = []\n    }\n    operation_hours[weekday].push({\n      start_time: operation_hour['start_time'],\n      end_time: operation_hour['end_time']\n    })\n  })\n  return operation_hours\n}\n\nexport function operationHourObjectToList(operation_hour_obj) {\n  let operation_hours = []\n  _.each(operation_hour_obj, (times, day) => {\n    _.each(times, time => {\n      operation_hours.push({\n        week_day: day,\n        start_time: time.start_time,\n        end_time: time.end_time\n      })\n    })\n  })\n  return operation_hours\n}\n\nexport function OperationHourTable({operationHourObj}) {\n  return (\n    <table className=\"operation-hour-table\">\n      <tbody>\n      {_.map(operationHourObj, (times, day) => {\n        return (\n          <tr key={day}>\n            <td>{day}</td>\n            <td>\n              {_.map(times, (time, _) => {\n                return (\n                  <div key={day + time.start_time}>\n                    {`${operationHourMapping[time.start_time]} -\n                        ${operationHourMapping[time.end_time]}`}\n                  </div>\n                )\n              })}\n            </td>\n          </tr>\n        )\n      })}\n      </tbody>\n    </table>\n  )\n}\n","export const titleCase = text => {\n  text = text.replace(/(^\\w|_\\w)/g, m => {\n    return m.toUpperCase().replace('_', ' ')\n  });\n  return text.replace('In', 'in').replace('Of', 'of');\n};\n\n/**\n * @param data {[{condition_clauses: [{field_name, clauses: [{left_operand, right_operand, operator}]}]}]}\n **/\nexport const transformToFrontendType = data => {\n  const val = [];\n\n  // return empty array when create a new service\n  if (!data) return val;\n\n  for (const {condition_clauses} of data) {\n    const condition = [];\n    val.push(condition);\n    for (const {field_name, clauses} of condition_clauses) {\n      for (const {left_operand, right_operand, operator} of clauses) {\n        condition.push([left_operand, operator, right_operand]);\n      }\n    }\n  }\n  return val;\n};\n\n/**\n * @param data {[[]]}\n */\nexport const transformToBackendType = data => {\n  const val = [];\n  for (const condition of data) {\n    const conditionClauses = [];\n    val.push({condition_clauses: conditionClauses});\n\n    for (const [left_operand, operator, right_operand] of condition) {\n      // search for existing field_name\n      const idx = conditionClauses.findIndex(conditionClause => conditionClause.field_name === left_operand);\n      if (idx !== -1) {\n        conditionClauses[idx].clauses.push({left_operand, right_operand, operator});\n      } else {\n        conditionClauses.push({\n          field_name: left_operand,\n          clauses: [{left_operand, right_operand, operator}]\n        })\n      }\n    }\n  }\n  return val;\n};\n\n/**\n *\n * @param string {string}\n * @returns {*}\n */\nexport function escapeString(string) {\n  return '\"' + string.replace(/[\\\\\"]/g, '\\\\$&') + '\"'; // $& means the whole matched string\n}\n\n/**\n *\n * @param string {string}\n * @returns {*}\n */\nexport function unescapeString(string) {\n  return string.slice(1, -1).replace(/\\\\([\\\\\"])/g, '$1');\n}\n\nexport function escapeList(list) {\n  return JSON.stringify(list);\n}\n\nexport function unescapeList(string) {\n  try {\n    const array = JSON.parse(string);\n    return Array.isArray(array) ? array : [];\n  } catch (e) {\n    return [];\n  }\n}\n","import {titleCase} from './formulaHelpers';\nexport {titleCase}\n/**\n * Flip object key value pairs\n * @param obj\n * @returns {{}}\n */\nexport const objectFlip = (obj) => {\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    ret[obj[key]] = key;\n  });\n  return ret;\n};\n\n/**\n * Recursively assign obj to target.\n * Similar to Object.assign(obj1, obj2), or {...obj1, ...obj2} but also assign nested objects.\n * @param target\n * @param obj\n * @returns {*}\n */\nexport const recursiveAssign = (target, obj) => {\n  Object.entries(obj).forEach(([key, value]) => {\n    if (typeof value === 'object' && value != null && target[key])\n      return recursiveAssign(target[key], value);\n    else if (value != null)\n      target[key] = value;\n  });\n  return target;\n};\n\n/**\n * return true if the field is empty\n * @param field\n * @returns {boolean}\n */\n\nexport function isFieldEmpty(field) {\n  if (field == null) {\n    return true;\n  } else {\n    return field.length === 0;\n  }\n}\n\n/**\n * return true if the field availability is empty\n * @param availability\n * @returns {boolean}\n */\n\nexport function isAvailabilityEmpty(availability) {\n  if (availability == null) {\n    return true;\n  } else {\n    for (const day of Object.keys(availability)) {\n      for (const time_slot of availability[day]) {\n        if (time_slot['start_time'].length > 0 && time_slot['end_time'].length > 0) {\n          //time slot is filled in\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n}\n\n/**\n * Verify the address fields and set the given result.\n * @param location {{apt_number, }}\n * @param result\n */\nexport function verifyAddressField(location, result) {\n  for (const [fieldName, value] of Object.entries(location)) {\n    // apartment number is not required\n    if (fieldName === 'apt_number')\n      continue;\n    if (isFieldEmpty(value))\n      result[fieldName] = 'This field is required'\n  }\n}\n\n/**\n * Verify the other address fields and set the corresponding errors if there are any.\n * @param location []\n * @param result\n */\nexport function verifyOtherAddressesFields(location, result) {\n  let i = 0;\n  for (const address of location) {\n    result[i] = {};\n    verifyAddressField(address, result[i]);\n    if (Object.entries(result[i]).length === 0) {\n      delete result[i];\n    }\n    i++;\n  }\n}\n\n/**\n * Validate postal code in parentField, put error message in errsContainer if there is one.\n * @param field\n * @param errsContainer\n * @param parentField\n */\nexport function validateAddressPostalCode(field, errsContainer, parentField) {\n  if (field) {\n    const postal_code_regex = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n    const is_postal_code_valid = postal_code_regex.test(field);\n    if (!is_postal_code_valid) {\n      errsContainer[parentField] = {\n        ...errsContainer[parentField],\n        'postal_code': \"Invalid postal code! They are in the format A1A 1A1, \" +\n          \"where A is a letter and 1 is a digit\"\n      };\n    }\n  }\n}\n\nexport function verifyEmail(field, fieldName, errsContainer){\n  const email_regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (!email_regex.test(field)) {\n    errsContainer[fieldName] = \"Invalid email! \".concat(\"They are in the format of jsmith@example.com\");\n  }\n}\n\nexport function verifyPhoneNumber(field, fieldName, errsContainer){\n  const phone_number_regex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\n  if (field && !phone_number_regex.test(field)){\n    errsContainer[fieldName] = \"Invalid phone number! They are in the format of NPA-NXX-XXXX \".concat(\n      \"where NPA is the three digit area code and NXX-XXXX is the seven digit subscriber number\"\n    )\n  }\n}\nexport function validateContactFormat(profile, errsContainer) {\n  // Verify email\n  if (profile.email) {\n    verifyEmail(profile.email,'email', errsContainer)\n  }\n  // Verify Phone number\n  if (profile.primary_phone_number || profile.alt_phone_number) {\n    verifyPhoneNumber(profile.primary_phone_number, 'primary_phone_number', errsContainer);\n    verifyPhoneNumber(profile.alt_phone_number, 'alt_phone_number', errsContainer);\n  }\n}\n\n/**\n * Verify the family fields and set the corresponding errors if there are any.\n * @param families []\n * @param result\n */\nexport function verifyFamilyFields(families, result) {\n  let i = 0;\n  for (const family of families) {\n    result[i] = {};\n    if (isFieldEmpty(family['relationship'])) {\n      result[i]['relationship'] = \"This field is required\";\n    }\n    for (const [field, value] of Object.entries(family['person'])) {\n      if (isFieldEmpty(value)) {\n        result[i][field] = \"This field is required\";\n      }\n    }\n    if (Object.entries(result[i]).length === 0) {\n      delete result[i];\n    }\n    i++;\n  }\n}\n\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst phoneNumberRegex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/;\nconst passwordRegex = /^.*(?=.{8,})((?=.*[!@#$%^&*()\\-_=+{};:,<.>]){1})(?=.*\\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/;\nconst postalCodeRegex = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n\nconst EMAIL_ERR_MSG = \"Invalid email! They are in the format of jsmith@example.com\";\nconst PHONE_ERR_MSH = \"Invalid phone number! They are in the format of NPA-NXX-XXXX \" +\n  \"where NPA is the three digit area code and NXX-XXXX is the seven digit subscriber number\";\nconst PASSWORD_ERR_MSG = \"Please enter a secure and strong password\";\nconst POSTAL_CODE_ERR_MSG = \"Invalid postal code! They are in the format A1A 1A1, \" +\n  \"where A is a letter and 1 is a digit\";\n\nexport const Validator = {\n  /**\n   * @param email\n   * @returns {string|void} Return string iff fails. Otherwise return undefined.\n   */\n  email: email => {\n    if (!emailRegex.test(email)) {\n      return EMAIL_ERR_MSG;\n    }\n  },\n\n  phone: phone => {\n    if (!phoneNumberRegex.test(phone))\n      return PHONE_ERR_MSH;\n  },\n\n  password: password => {\n    if (!passwordRegex.test(password))\n      return PASSWORD_ERR_MSG;\n  },\n\n  postalCode: postalCode => {\n    if (!postalCodeRegex.test(postalCode))\n    return POSTAL_CODE_ERR_MSG;\n  }\n};\n","import { genderOptions } from '../store/defaults.js';\nimport { objectFlip } from '../helpers';\n\n// const providerTypeOptions = ['Individual', 'Organization']\n// const IndividualProviderOptions = ['Volunteer', 'Goods Donor', 'Professional Service Provider']\nexport const providerFormTypes = {\n  'organization': 'Organization',\n  'volunteer': 'Volunteer',\n  'goods_donor': 'Goods Donor',\n  'professional_service_provider': 'Professional Service Provider',\n};\n\nexport const allForms = {\n  client: 'Client',\n  ...providerFormTypes\n};\n\nexport const providerCategoryValue2Key = objectFlip(providerFormTypes);\n// const phoneTypes = ['Home', 'Cell', 'Work']\nconst providerStatus = ['External', 'Internal', 'Home Agency']\nconst commitmentOptions = ['Short term', 'Six months', 'One year']\n\nexport const providerFields = {\n  alt_phone_number: {component: 'GeneralField', type: 'tel', label: 'Alternative phone number'},\n  availability: {label: 'Availability'},\n  commitment: {component: 'SelectField', label: 'Commitment length', options: commitmentOptions},\n  company: {component: 'GeneralField', type: 'text', label: 'Company/Organization Name'},\n  email: {component: 'GeneralField', type: 'email', label: 'Email'},\n  first_name: {component: 'GeneralField', type: 'text', label: 'First Name'},\n  gender: {component: 'SelectField', label: 'Gender', options: genderOptions},\n  languages: {component: 'MultiSelectField', label: 'Languages'},\n  last_name: {component: 'GeneralField', type: 'text', label: 'Last Name'},\n  main_address: {label: 'Address'},\n  notes: {component: 'GeneralField', type: 'text', label: 'Additional notes '},\n  other_addresses: {label: 'Other Addresses'},\n  own_car: {component: 'RadioField', label: 'Own a car?', options: {'Yes': true, 'No': false}},\n  primary_contact: {label: 'Primary Contact'},\n  primary_phone_number: {component: 'GeneralField', type: 'tel', label: 'Primary phone number'},\n  reference1_email: {component: 'GeneralField', type: 'text', label: 'Reference 1 Email'},\n  reference1_name: {component: 'GeneralField', type: 'text', label: 'Reference 1 Name'},\n  reference1_phone: {component: 'GeneralField', type: 'text', label: 'Reference 1 phone'},\n  reference2_email: {component: 'GeneralField', type: 'text', label: 'Reference 2 Email'},\n  reference2_name: {component: 'GeneralField', type: 'text', label: 'Reference 2 Name'},\n  reference2_phone: {component: 'GeneralField', type: 'text', label: 'Reference 2 phone'},\n  referrer: {component: 'GeneralField', type: 'text', label: 'Referrer'},\n  secondary_contact: {label: 'Secondary Contact'},\n  skills: {component: 'GeneralField', type: 'text', label: 'Skills'},\n  start_date: {component: 'GeneralField', type: 'date', label: 'Start date for availability'},\n  status: {component: 'SelectField', label: 'Status', options: providerStatus},\n  visibility: {\n    component: 'RadioField',\n    label: 'Allow other agencies to see this provider?',\n    options: {'Yes': true, 'No': false}\n  },\n  sponsor: {component: 'GeneralField', type: 'text', label: 'Sponsor'}\n}\n","import { defaultOperationHour, operationHourListToObject } from \"../helpers/operation_hour_helpers\";\nimport { recursiveAssign } from \"../helpers\";\nimport { providerFormTypes } from \"./provider_fields\";\n\nexport const defaultProfileFields = {\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  preferred_name: '',\n  gender: '',\n  birth_date: null,\n  email: '',\n  primary_phone_number: '',\n  alt_phone_number: '',\n};\n\nexport const defaultContactFields = {\n  first_name: '',\n  last_name: '',\n  email: '',\n  primary_phone_number: '',\n  alt_phone_number: '',\n};\n\nexport const defaultLocationFields = {\n  street_address: '',\n  apt_number: '',\n  city: '',\n  province: '',\n  postal_code: ''\n};\n\nexport const defaultUserFields = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  email: '',\n  is_superuser: false,\n  primary_phone_number: '',\n  alt_phone_number: '',\n  password: ''\n};\n\n/**\n * @typedef SNMClient {{address: {street_address, province, city, apt_number, postal_code},\n * num_of_dependants: string, has_children: boolean, immigration_doc_number: string,\n * country_of_last_residence: string, profile: {primary_phone_number, gender,\n * alt_phone_number, birth_date, last_name, middle_name, first_name, preferred_name,\n * email}, other_languages: Array, income_source: string, country_of_origin: string,\n * completed_education_level: string, landing_date: string, marital_status: string,\n * eligibilities: Array, current_education_level: string, first_language: string,\n * file_id: string, num_of_children: string, pr_number: string, family: {members: Array},\n * arrival_date: string, status_in_canada: string}}\n *\n */\n\n/**\n *\n * @param client\n * @returns SNMClient\n */\nexport const generateClientField = (client) => {\n  const fields = {\n    profile: {...defaultProfileFields},\n    address: {...defaultLocationFields},\n    family: {members: []},\n    marital_status: '',\n    has_children: false,\n    num_of_children: '',\n    country_of_origin: '',\n    country_of_last_residence: '',\n    first_language: '',\n    other_languages: [],\n    pr_number: '',\n    immigration_doc_number: '',\n    landing_date: null, // make sure date and time has default null or new Date()\n    arrival_date: null,\n    status_in_canada: '',\n    income_source: '',\n    current_education_level: '',\n    completed_education_level: '',\n    num_of_dependants: '',\n    file_id: '',\n    ngo_conditions: [],\n  };\n\n  if (client) {\n    return recursiveAssign(fields, client);\n  }\n\n  return fields;\n};\n\nexport const generateProviderFields = (providerType, providerCategory, provider) => {\n  // operationHourListToObject(provider.operation_hours)\n  const fields = {\n    type: providerType,\n    category: providerFormTypes[providerCategory] || '',\n    languages: [],\n    company: '',\n    email: '',\n    primary_phone_number: '',\n    alt_phone_number: '',\n    primary_contact: {profile: {...defaultContactFields}},\n    secondary_contact: {profile: {...defaultContactFields}},\n    main_address: {...defaultLocationFields},\n    other_addresses: [],\n    operation_hours: {...defaultOperationHour},\n    operation_dates: [{start_date: null, end_date: null}],\n    profile: {...defaultProfileFields},\n    referrer: '',\n    own_car: false,\n    skills: '',\n    visibility: false,\n    status: '',\n    notes: '',\n    commitment: '',\n    start_date: '',\n    reference1_name: '',\n    reference1_phone: '',\n    reference1_email: '',\n    reference2_name: '',\n    reference2_phone: '',\n    reference2_email: '',\n    responses: []\n  };\n  if (provider) {\n    const data = {...recursiveAssign(fields, provider)};\n    data.operation_hours = {...defaultOperationHour, ...operationHourListToObject(provider.operation_hours)};\n    // const responses = {};\n    // data.responses.forEach(({}) => {});\n    // data.responses = data\n    console.log(data);\n    return data;\n  }\n  return fields;\n};\n","import React, { useState } from 'react';\nimport { Button, FormLabel } from '@material-ui/core';\nimport { FieldsWrapper } from \"./index\";\nimport LocationFieldGroup from \"./LocationFieldGroup\";\nimport { defaultLocationFields } from \"../../constants/default_fields\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Alert } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: '10px 0',\n  }\n}));\n\nfunction LocationFields({index, location, handleRemove, required, errMsg = {}}) {\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleChange = name => e => {\n    location[name] = e.target.value;\n  };\n\n  return (\n    <div style={{paddingBottom: 10}}>\n      <FormLabel component=\"legend\">\n        Other address #{index + 1 + '  '}\n        <Button\n          onClick={e => {\n            handleRemove(index);\n            forceUpdate();\n          }}\n          color=\"secondary\"\n        >\n          Remove\n        </Button>\n      </FormLabel>\n      <FieldsWrapper key=\"main_address\">\n        <LocationFieldGroup\n          address={location}\n          handleChange={handleChange}\n          required={required}\n          errMsg={errMsg}\n        />\n      </FieldsWrapper>\n    </div>\n  )\n}\n\nexport default function OtherLocationsFields({otherLocations, clientId, required, errMsg = {}}) {\n  const classes = useStyles();\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(otherLocations);\n  const forceUpdate = () => update(!state);\n\n  const handleAdd = () => {\n    otherLocations.push({...defaultLocationFields});\n    forceUpdate();\n  };\n\n  const handleRemove = (index) => {\n    console.log('remove', index, otherLocations[index])\n    otherLocations.splice(index, 1);\n    forceUpdate();\n  };\n\n  return (\n    <div>\n      {errMsg && typeof errMsg === 'string' &&\n        <Alert severity=\"error\">{errMsg}</Alert>}\n      {otherLocations.map((location, index) => {\n        return (\n          <LocationFields\n            key={index}\n            index={index}\n            location={location}\n            clientId={clientId}\n            handleRemove={handleRemove}\n            required={required}\n            size={otherLocations.length}\n            errMsg = {errMsg[index]}\n          />\n        )\n      })}\n      <Button className={classes.button} onClick={handleAdd} variant=\"outlined\">\n        Add other address\n      </Button>\n\n    </div>\n  );\n}\n","import { Checkbox, TableCell, TableHead, TableRow, TableSortLabel } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport function EnhancedTableHead(props) {\n  const {\n    classes, onSelectAllClick, order, orderBy, numSelected,\n    rowCount, onRequestSort, columns\n  } = props;\n  const createSortHandler = (getFieldValueFn) => (event) => {\n    onRequestSort(event, getFieldValueFn);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\" key={0}>\n          <Checkbox\n            color=\"primary\"\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{\n              'aria-label': 'select all desserts',\n            }}\n          />\n        </TableCell>\n        {columns.map((headCell, idx) => (\n          <TableCell\n            key={idx + 1}\n            style={headCell.style}\n            sortDirection={orderBy === (headCell.sortBy || headCell.body) ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === (headCell.sortBy || headCell.body)}\n              direction={orderBy === (headCell.sortBy || headCell.body) ? order : 'asc'}\n              onClick={createSortHandler(headCell.sortBy || headCell.body)}\n            >\n              {headCell.label}\n              {orderBy === headCell.label ? (\n                <span className={classes.sortSpan}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.func.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n","import { IconButton, lighten, Toolbar, Tooltip, Typography } from \"@material-ui/core\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport clsx from \"clsx\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nconst useToolbarStyles = makeStyles((theme) => ({\n  root: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n  },\n  highlight:\n    theme.palette.mode === 'light'\n      ? {\n        color: theme.palette.primary.main,\n        backgroundColor: lighten(theme.palette.primary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  title: {\n    flex: '1 1 100%',\n  },\n}));\n\nexport const EnhancedTableToolbar = (props) => {\n  const classes = useToolbarStyles();\n  const {numSelected, title, onDelete, customToolbar} = props;\n\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      {numSelected > 0 ? (\n        <Typography\n          className={classes.title}\n          color=\"inherit\"\n          variant=\"subtitle1\"\n          component=\"div\"\n        >\n          {numSelected} selected\n        </Typography>\n      ) : (\n        <Typography\n          className={classes.title}\n          variant=\"h6\"\n          id=\"tableTitle\"\n          component=\"div\"\n        >\n          {title}\n        </Typography>\n      )}\n\n      {numSelected > 0 && (\n        <Tooltip title=\"Delete\">\n          <IconButton aria-label=\"delete\" onClick={onDelete} size=\"large\">\n            <DeleteIcon/>\n          </IconButton>\n        </Tooltip>\n      )}\n\n      <Tooltip title=\"Search\">\n        <IconButton aria-label=\"search list\" size=\"large\">\n          <SearchIcon/>\n        </IconButton>\n      </Tooltip>\n      {customToolbar}\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  numSelected: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  onDelete: PropTypes.func,\n};\n","import React from \"react\";\nimport {\n  Checkbox,\n  lighten,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableRow,\n} from \"@material-ui/core\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { visuallyHidden } from \"@material-ui/utils\";\nimport { EnhancedTableHead } from \"./EnhancedTableHead\";\nimport { EnhancedTableToolbar } from \"./EnhancedTableToolbar\";\n\nfunction descendingComparator(a, b, getValue, extraData) {\n  b = getValue(b, extraData) || '';\n  a = getValue(a, extraData) || '';\n  if (b < a) {\n    return -1;\n  }\n  if (b > a) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy, extraData) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy, extraData)\n    : (a, b) => -descendingComparator(a, b, orderBy, extraData);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    width: '100%',\n  },\n  table: {\n    minWidth: 750,\n  },\n  // TODO fix #20379.\n  sortSpan: visuallyHidden,\n  tableRow: {\n    '&.Mui-selected': {\n      backgroundColor: lighten(theme.palette.primary.light, 0.85),\n    },\n    '&.Mui-selected:hover': {\n      backgroundColor: lighten(theme.palette.primary.light, 0.80),\n    }\n  }\n}));\n\nexport function EnhancedTable({data, title, columns, height, ...props}) {\n  const {\n    rowsPerPageOptions = [10, 25, 100],\n    idField = '_id',\n    defaultOrderBy = columns[0].sortBy || columns[0].body,\n    extraData = {},\n    rowStyle,\n    onDelete,\n    onChangePage, onChangeRowsPerPage,\n    customToolbar\n  } = props;\n  const classes = useStyles();\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState(() => defaultOrderBy);\n  const [selected, setSelected] = React.useState([]);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(rowsPerPageOptions[0]);\n\n  const handleRequestSort = (event, getFieldValueFn) => {\n    const isAsc = orderBy === getFieldValueFn && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(() => getFieldValueFn);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      setSelected(data.map(item => item[idField]));\n      return;\n    }\n    setSelected([]);\n  };\n\n  const handleClick = (event, id) => {\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n\n    // Invoke listeners\n    if (onChangePage)\n      onChangePage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    const rowsPerPage = parseInt(event.target.value, 10);\n    setRowsPerPage(rowsPerPage);\n    setPage(0);\n\n    // Invoke listeners\n    if (onChangePage)\n      onChangePage(0);\n    if (onChangeRowsPerPage)\n      onChangeRowsPerPage(rowsPerPage)\n  };\n\n  const isSelected = (id) => selected.indexOf(id) !== -1;\n\n  const handleDelete = async () => {\n    // TODO: Show delete progressively.\n    if (onDelete) {\n      await onDelete(selected);\n      for (const id of selected) {\n        data.splice(data.findIndex(item => item._id === id), 1);\n      }\n      setSelected([]);\n    }\n  }\n\n  // Avoid a layout jump when reaching the last page with empty rows.\n  const emptyRows =\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - data.length) : 0;\n\n  return (\n    <Paper elevation={5} className={classes.paper}>\n      <EnhancedTableToolbar title={title} numSelected={selected.length} onDelete={handleDelete}\n                            customToolbar={customToolbar}/>\n      <TableContainer style={{maxHeight: height || 'calc(100vh - 228px)'}}>\n        <Table\n          stickyHeader\n          className={classes.table}\n          size=\"medium\"\n        >\n          <EnhancedTableHead\n            classes={classes}\n            numSelected={selected.length}\n            order={order}\n            orderBy={orderBy}\n            onSelectAllClick={handleSelectAllClick}\n            onRequestSort={handleRequestSort}\n            rowCount={data.length}\n            columns={columns}\n          />\n          <TableBody>\n            {stableSort(data, getComparator(order, orderBy, extraData))\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((row) => {\n                const id = row[idField];\n                const isItemSelected = isSelected(id);\n                return (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    role=\"checkbox\"\n                    aria-checked={isItemSelected}\n                    tabIndex={-1}\n                    key={id}\n                    selected={isItemSelected}\n                    style={rowStyle && rowStyle(row)}\n                  >\n                    <TableCell padding=\"checkbox\" key={0}>\n                      <Checkbox\n                        color=\"primary\"\n                        onClick={(event) => handleClick(event, id)}\n                        checked={isItemSelected}\n                      />\n                    </TableCell>\n                    {columns.map((cell, idx) => <TableCell style={cell.style}\n                                                           key={idx + 1}>{cell.body(row, extraData)}</TableCell>)}\n                  </TableRow>\n                );\n              })}\n            {emptyRows > 0 && (\n              <TableRow\n                style={{\n                  height: 53 * emptyRows,\n                }}\n              >\n                <TableCell colSpan={6}/>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={rowsPerPageOptions}\n        component=\"div\"\n        count={data.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onPageChange={handleChangePage}\n        onRowsPerPageChange={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n}\n","import React, { useState } from 'react';\nimport { Menu, MenuItem, CircularProgress, Typography, Chip } from '@material-ui/core';\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Link as DomLink, useHistory } from 'react-router-dom';\nimport { Add as AddIcon, CloudUpload as UploadIcon } from '@material-ui/icons';\nimport GoogleMap from './GoogleMap';\nimport CSVUploadModal from './CSVUploadModal';\nimport DeleteModal from './DeleteModal';\nimport DropdownMenu from './DropdownMenu';\nimport GenericPage from './GenericPage';\nimport FormStepper from './FormStepper';\nimport FieldsWrapper from \"./FieldsWrapper\";\nimport OtherLocationsFields from \"./OtherLocationsFields\";\n\nimport { providerFormTypes } from '../../constants/provider_fields.js'\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    color: 'inherit',\n    textDecorationLine: 'none',\n  },\n  linkWithHover: {\n    fontWeight: 500,\n    color: 'inherit',\n    // textDecorationLine: 'none',\n    '&:hover': {\n      textDecorationLine: 'underline',\n      color: '#2f5ac7'\n    }\n  },\n  progress: {\n    margin: theme.spacing(2),\n    marginTop: 50,\n  },\n  chipButton: {\n    paddingLeft: 6,\n    marginLeft: 6,\n  }\n}));\n\nexport function Link({className = '', color, ...props}) {\n  const classes = useStyles();\n  return <DomLink {...props} className={color ? classes.linkWithHover : classes.link + ' ' + className}/>\n}\n\n/**\n * Used by DataTable. Add \"add button\" and \"upload by CSV button\"\n * @param onClick\n * @returns {*}\n * @constructor\n */\nexport function CustomToolbar({handleAdd, handleUpload, type}) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLink = link => () => {\n    history.push(link);\n  };\n\n  return (\n    <>\n      <Chip onClick={handleUpload}\n            color=\"default\"\n            icon={<UploadIcon/>}\n            label=\"Upload\"\n            variant=\"outlined\"\n            className={classes.chipButton}\n      />\n      <Chip onClick={type === 'providers' ? handleClick : handleAdd}\n            color=\"primary\"\n            icon={<AddIcon/>}\n            label=\"Add\"\n            variant=\"outlined\"\n            className={classes.chipButton}\n      />\n\n      {/*For Providers */}\n      {type === 'providers' &&\n      <Menu\n        id=\"long-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n      >\n        {Object.entries(providerFormTypes).map(([value, formType]) =>\n          <MenuItem key={formType} onClick={handleLink(`/providers/${value}/new`)}>\n            {formType}\n          </MenuItem>)\n        }\n      </Menu>\n      }\n    </>\n  );\n}\n\nexport function Loading({message = 'Loading Components...'}) {\n  const classes = useStyles();\n  return (\n    <div style={{textAlign: 'center'}}>\n      <CircularProgress className={classes.progress}/>\n      <Typography variant=\"subtitle2\" color={\"textSecondary\"}>\n        {message}\n      </Typography>\n    </div>\n  );\n}\n\n\nexport {\n  GoogleMap, CSVUploadModal, DeleteModal, DropdownMenu, GenericPage, FormStepper, FieldsWrapper,\n  OtherLocationsFields\n}\nexport {EnhancedTable as DataTable} from './Table';\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { AppBar, Toolbar, Typography, Button, Tabs, Tab, Box } from '@material-ui/core';\nimport { Link } from \"../shared\";\n\n// redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout } from '../../store/actions/authAction.js';\nimport { styled } from \"@material-ui/styles\";\n\nconst StyledTabs = styled(Tabs)({\n  '& .MuiTabs-indicator': {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: '#ccc',\n    transition: 'none',\n  },\n});\n\nconst StyledTab = styled(Tab)(({theme}) => ({\n  textTransform: 'none',\n  fontWeight: theme.typography.fontWeightRegular,\n  fontSize: theme.typography.pxToRem(15),\n  marginRight: theme.spacing(1),\n  minWidth: 60,\n  color: 'rgba(255, 255, 255, 0.8)',\n  '&.Mui-selected': {\n    color: '#fff',\n    fontWeight: 500,\n    backgroundColor: '#cccccc26',\n  },\n}));\n\nfunction NavTab(props) {\n  const history = useHistory();\n  return <StyledTab {...props} onClick={() => history.push(props.value)}/>\n}\n\nfunction TopNavBar() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {isLoggedin} = useSelector(state => state.auth);\n  const tabNames = ['/clients', '/services', '/goods', '/providers', '/reporting'];\n  const [value, setValue] = useState(\n    tabNames.indexOf(history.location.pathname) !== -1 ? history.location.pathname : false,\n  );\n\n  useEffect(() => {\n    setValue(tabNames.indexOf(history.location.pathname) !== -1 ? history.location.pathname : false);\n  }, [history.location.pathname, tabNames]);\n\n  const tabOnChange = (e, newValue) => {\n    setValue(newValue);\n    history.push(newValue);\n  };\n\n  return (\n    <AppBar position=\"fixed\" sx={{backgroundColor: 'rgb(39, 44, 52)'}}>\n      <Toolbar variant=\"dense\">\n        {isLoggedin ? (\n          <StyledTabs sx={{flexGrow: 2}} value={value} onChange={tabOnChange} variant=\"scrollable\"\n                      indicatorColor='secondary'>\n            <NavTab label=\"Clients\" value=\"/clients\"/>\n            <NavTab label=\"Services\" value=\"/services\"/>\n            <NavTab label=\"Goods\" value=\"/goods\"/>\n            <NavTab label=\"Providers\" value=\"/providers\"/>\n            <NavTab label=\"Reporting\" value=\"/reporting\"/>\n            <Tab sx={{display: 'none'}} label=\"\" value=\"none\"/>\n          </StyledTabs>\n        ) : null}\n\n        {isLoggedin && (\n          <Box sx={{\n            paddingRight: '20px',\n            whiteSpace: 'pre',\n            textDecorationLine: 'none',\n          }}>\n            <Link to={\"/dashboard\"} onClick={() => setValue('none')}>\n              <Typography>\n                Dashboard\n              </Typography>\n            </Link>\n          </Box>\n        )}\n\n        <Button color=\"inherit\" onClick={() => isLoggedin ? dispatch(logout()) : history.push('/login')}\n                sx={{\n                  marginLeft: 'auto',\n                  textDecorationLine: 'none',\n                  whiteSpace: 'pre'\n                }}>\n          {isLoggedin ? 'Log out' : 'Login'}\n        </Button>\n\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default TopNavBar;\n","import React from 'react';\nimport { Typography, Link, Box } from \"@material-ui/core\";\n\nexport default function () {\n  return (\n    <Box sx={{\n      position: 'fixed',\n      left: '0',\n      bottom: '0',\n      width: '100%',\n      backgroundColor: '#222',\n      color: '#aaa',\n      textAlign: 'center',\n      borderRadius: '2px 2px 0 0',\n      alignContent: 'center',\n      padding: '4px',\n      '@media print': {\n        display: 'none'\n      }\n    }}>\n      <Typography variant=\"caption\">\n        <Link href=\"https://csse.utoronto.ca/\" target=\"_blank\" sx={{color: \"#ababab\", textDecoration: 'none'}}>\n          Centre for Social Services Engineering\n        </Link>, University of Toronto\n      </Typography>\n    </Box>\n  );\n};\n","import React, { Component } from 'react'\n\nclass Landing extends Component {\n  render() {\n    return(\n      <div className=\"landing\">\n        <div className=\"container\">\n          <div className=\"intro-placeholder\">\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Landing;\n","import React from 'react'\nimport { Typography, Button, Container, Grid } from \"@material-ui/core\";\nimport { Link } from './shared';\nimport makeStyles from '@material-ui/styles/makeStyles';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    paddingTop: 80,\n    maxWidth: '500px',\n  },\n  button: {\n    width: 300,\n  },\n}));\n\nfunction Login() {\n  const classes = useStyles();\n  return (\n    <Container className={classes.container}>\n      <Grid container direction=\"column\" spacing={3} alignItems=\"center\">\n        <Grid item>\n          <Typography variant=\"h5\">\n            Log in to your Dashboard\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button variant=\"outlined\" className={classes.button}>\n              Sign in with SNM account\n            </Button>\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button color=\"primary\" variant=\"outlined\" className={classes.button}>\n              Facebook\n            </Button>\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to={`/login-pane`}>\n            <Button color=\"secondary\" variant=\"outlined\" className={classes.button}>\n              Google\n            </Button>\n          </Link>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react'\nimport { useHistory } from \"react-router\";\n\nimport { TextField, Container, Paper, Typography, Button, Divider } from \"@material-ui/core\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Link } from './shared';\n\nimport { login, LOGIN_SUCCESS } from '../store/actions/authAction';\nimport { useDispatch } from \"react-redux\";\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    paddingTop: 80,\n    maxWidth: '500px'\n  },\n  paper: {\n    padding: 30,\n  },\n  item: {\n    marginTop: 20,\n  },\n  button: {\n    marginTop: 30,\n    marginBottom: 20,\n  },\n  link: {\n    marginTop: 10,\n    color: '#007dff',\n  }\n}));\n\nfunction LoginPane() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({username: '', password: '', alert: ''});\n\n  const onChange = name => e => {\n    const value = e.target.value;\n    setForm(prev => ({...prev, [name]: value}));\n  };\n\n  const submit = async () => {\n    const {status, message} = await dispatch(login(form));\n    if (status === LOGIN_SUCCESS) {\n      history.push('/dashboard');\n    } else {\n      setForm(prev => ({...prev, alert: message}));\n    }\n  };\n\n  const onKeyPress = event => {\n    if (event.key === \"Enter\") {\n      submit();\n    }\n  };\n\n  return (\n    <Container className={classes.container} onKeyPress={onKeyPress}>\n      <Paper elevation={5} className={classes.paper}>\n        <Typography variant=\"h6\">\n          Sign in\n        </Typography>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          label=\"Username\"\n          type=\"text\"\n          value={form.username}\n          onChange={onChange('username')}\n          className={classes.item}\n        />\n        <br/>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          label=\"Password\"\n          type=\"password\"\n          value={form.password}\n          onChange={onChange('password')}\n          className={classes.item}\n        />\n        <br/>\n        <Typography variant=\"caption\">\n          <span style={{color: 'red'}}>{form.alert}</span>\n        </Typography>\n        <br/>\n        <Button variant=\"outlined\" color=\"primary\" className={classes.button} onClick={submit}> Log in</Button>\n        <Divider/>\n        <Link to={'/login-pane'}>\n          <Typography variant=\"body2\" className={classes.link}>\n            Don't have an account?\n          </Typography>\n        </Link>\n\n        <Link to={'/login-pane'}>\n          <Typography variant=\"body2\" className={classes.link}>\n            Forget password?\n          </Typography>\n        </Link>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default LoginPane;\n","import React from 'react';\nimport { Link } from './shared'\n\n// redux\nimport { useSelector } from 'react-redux';\n\nimport { Container, Button } from \"@material-ui/core\";\nimport { Edit, Create, People, ViewHeadline as Log, CheckCircleOutline as Criteria} from \"@material-ui/icons\";\n\nfunction NavButton({to, text, icon}) {\n  return (\n    <Link to={to}>\n      <Button\n        sx={{\n          width: 300,\n          height: 100,\n          textTransform: 'none',\n          margin: 1,\n          color: '#535353'\n        }}\n        color=\"inherit\"\n        variant=\"outlined\"\n        startIcon={icon}\n        size=\"large\">\n        {text}\n      </Button>\n    </Link>\n  );\n}\n\nfunction Dashboard() {\n  const {isLoggedin, currentUser, organization} = useSelector(state => state.auth);\n  if (!isLoggedin || !currentUser.is_admin)\n    return <span>\"You don't have the permission to view this page.\"</span>;\n\n  return (\n    <Container maxWidth=\"md\" sx={{\n      paddingTop: 8,\n      textAlign: 'center',\n    }}>\n\n      {!organization.id &&\n      <NavButton to={{pathname: '/providers/organization/new', state: {status: 'Home Agency'}}}\n                 text=\"Create Organization Profile for Home Agency\" icon={<Create/>}/>}\n\n      {organization.id &&\n      <NavButton to={`/provider/${organization.id}/edit/organization`} icon={<Edit/>}\n                 text=\"Edit Organization Profile for Home Agency\"/>}\n\n      <NavButton to={`/users`} icon={<People/>}\n                 text=\"Manage Users\"/>\n\n      <NavButton to={`/admin-logs`} icon={<Log/>}\n                 text=\"Admin Logs\"/>\n\n      <NavButton to={`/eligibility-criteria`} icon={<Criteria/>}\n                 text=\"Manage Eligibility Criteria\"/>\n\n      <NavButton to={'/settings/manage-fields'} icon={<Edit/>}\n                 text=\"Manage Client/Provider Fields\"/>\n\n      <NavButton to={'/questions'} icon={<Edit/>}\n                 text=\"Manage Questions\"/>\n\n    </Container>\n  )\n}\n\nexport default Dashboard;\n","export function formatLocation(location) {\n  if (Object.keys(location).length === 1) {\n    return \"Not Provided\"\n  }\n\n  let format_location = ''\n  if (location.apt_number !== undefined){\n    format_location += `${location.apt_number}-`\n  }\n  if (location.street_address !== undefined){\n    format_location += `${location.street_address}, `\n  }\n  if (location.city !== undefined)\n    format_location += `${location.city}, `\n  if (location.province !== undefined)\n    format_location += `${location.province}, `\n  if (location.postal_code !== undefined)\n    format_location += `${location.postal_code}`\n  return format_location\n}\n","export function formatPhoneNumber(number) {\n  try {\n    const codes = number.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n    return \"(\" + codes[1] + \") \" + codes[2] + \"-\" + codes[3];\n  } catch (e) {\n    return number;\n  }\n}\n","import React from 'react';\n\n// TODO: createClients  (CSV Upload)\nimport { fetchClients, deleteClient } from '../store/actions/clientActions.js'\n\nimport { formatLocation } from '../helpers/location_helpers'\nimport { formatPhoneNumber } from '../helpers/phone_number_helpers'\n\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'clients';\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    label: 'First Name',\n    body: ({id, profile}) => {\n      return <Link color to={`/${TYPE}/${id}`}>{profile.first_name}</Link>\n    }\n  },\n  {\n    label: 'Last Name',\n    body: ({profile}) => {\n      return profile.last_name;\n    }\n  },\n  {\n    name: 'profile.primary_phone_number',\n    label: 'Phone Number',\n    body: ({profile}) => {\n      if (profile.primary_phone_number)\n        return formatPhoneNumber(profile.primary_phone_number);\n      return 'Not Provided';\n    },\n  },\n  {\n    label: 'Email',\n    body: ({profile}) => {\n      return profile.email;\n    }\n  },\n  {\n    label: 'Address',\n    body: ({profile}) => {\n      if (profile.address)\n        return formatLocation(profile.address);\n      return 'Not Provided';\n    }\n  },\n];\n\nexport default function Clients() {\n\n  const nameFormatter = (client) => {\n    return client.profile.first_name + ' ' + client.profile.last_name;\n  };\n\n  const generateMarkers = (clients, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageClients = clients.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageClients.map(client => ({\n      position: {lat: Number(client.address.lat), lng: Number(client.address.lng)},\n      title: nameFormatter(client),\n      link: `/${TYPE}/${client.id}`,\n      content: client.address && formatLocation(client.address),\n    })).filter(client => client.position.lat && client.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchClients}\n      deleteItem={deleteClient}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","import React, { useState} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box';\nimport { Link } from '../shared'\nimport { updateClientNeedGroup } from \"../../store/actions/needActions\";\n\n//icons\nimport { Edit, PriorityHigh, Delete, Alarm, ExpandMoreOutlined} from '@material-ui/icons';\n\n//Expansion Panel\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { Grid } from \"@material-ui/core\";\n\n\n\n\n\nexport default function NeedGroupPanel(props) {\n  const {needGroupCategory, needs, needGroupId, status,\n    clientId, handleShow} = props;\n  const dispatch = useDispatch();\n\n\n  const [state, setState] = useState({\n    status: status,\n    hasUrgentNeed: anyUrgentNeed(needs)\n  })\n  const changeNeedGroupCategoryStatus = () => {\n    const need_group = {\n      category: needGroupCategory,\n      status: (state.status === \"Unmet\") ? \"Met\" : \"Unmet\",\n      client_id: clientId,\n      id: needGroupId\n    }\n    setState(state => ({...state, status: need_group.status}))\n    dispatch(updateClientNeedGroup(clientId, need_group.id, need_group));\n\n  }\n\n  const classes = useStyles();\n\n  const needsUnderCat = needs.map(need =>\n      <Paper key={need.id}\n        variant={\"outlined\"}\n        >\n          <Grid container spacing={3} className={classes.innerBox}>\n            <Grid item xs>\n              <Typography color={'primary'}>{need.type}</Typography>\n            </Grid>\n            <Grid item xs>\n            </Grid>\n            {need.is_urgent && (\n              <Grid item xs>\n                <Box display=\"flex\" flexDirection={\"row\"}>\n                  <Alarm className={classes.highPriority}></Alarm>\n                  <Typography className={classes.highPriority}>Urgent</Typography>\n                </Box>\n              </Grid>\n            )}\n          </Grid>\n\n          <Box className={classes.innerBox}>\n            <Link color to={`/needs/${need.id}`}>\n              Find Services/Goods\n            </Link>\n            <p>{need.description}</p>\n          </Box>\n\n          <Box display = 'flex' className={classes.innerBox}>\n            <Box>\n              <Link to={`/needs/${need.id}/edit`}>\n                <Button\n                  startIcon={<Edit/>}>\n                  Edit\n                </Button>\n              </Link>\n            </Box>\n\n            <Box>\n              <Button\n                startIcon={<Delete/>}\n                onClick={() => handleShow(need.id)}\n              >\n                Delete\n              </Button>\n            </Box>\n\n            <Box>\n              <Button\n                color={\"secondary\"}\n                onClick={() => changeNeedGroupCategoryStatus()}>\n                {state.status}\n              </Button>\n            </Box>\n          </Box>\n\n      </Paper>\n  )\n\n  return (\n    <div>\n      <Accordion className={classes.panel}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreOutlined />}\n          aria-controls={needGroupCategory+\"-content\"}\n          id={needGroupCategory+\"-header\"}\n        >\n          <Box display=\"flex\" flexDirection={\"row\"} className={classes.column}>\n            <Typography className={classes.heading}>{needGroupCategory}</Typography>\n            {state.hasUrgentNeed && <PriorityHigh className={classes.highPriority}></PriorityHigh>}\n          </Box>\n          <div className={classes.column}>\n            <Typography className={classes.secondaryHeading}>{needs.length} need(s) inside </Typography>\n          </div>\n        </AccordionSummary>\n        <AccordionDetails className={classes.panelDetail}>\n          <Box className={classes.outerBox}>\n            {needsUnderCat}\n          </Box>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  )\n}\n\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(12),\n    color: theme.palette.text.secondary,\n  },\n  column: {\n    flexBasis: '50%',\n  },\n  panel: {\n    width: '35%',\n  },\n  panelDetail:{\n    padding: 0\n  },\n  outerBox:{\n    width:'100%'\n  },\n  innerBox: {\n    padding: \"10px\"\n  },\n  highPriority: {\n    color: \"#f44336\"\n  },\n\n\n}));\n\nfunction anyUrgentNeed(needs){\n  for (let need of needs){\n    if (need.is_urgent){\n      return true;\n    }\n  }\n  return false;\n}","import React, { useState} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteClientNeed, ERROR } from \"../store/actions/needActions\";\nimport DeleteModal from \"./shared/DeleteModal\";\nimport NeedGroupPanel from \"./client_needs/NeedGroupPanel\";\n\nexport default function ClientNeeds(props) {\n  const {clientId, needGroups} = props;\n  const dispatch = useDispatch();\n\n  const [state, setState] = useState({\n    show: false,\n    selectedId: null,\n    needGroupData: needGroups,\n  });\n\n  const handleHide = () => {\n    setState( state => ({\n        ...state,\n        showDeletedDiaglog: false\n      }));\n  }\n\n  const handleShow = (id) => {\n    setState(state => ({\n        ...state,\n        showDeletedDiaglog:true,\n        selectedId:id\n      })\n    )\n  }\n\n  const needsByNeedGroup = state.needGroupData.map(need_group =>\n    <NeedGroupPanel\n      key={need_group.id}\n      needGroupCategory={need_group.category}\n      needs={need_group.needs}\n      needGroupId={need_group.id}\n      status={need_group.status}\n      clientId={clientId}\n      handleShow={handleShow}\n    />\n  );\n\n\n  const handleDelete = (id, form) => {\n    dispatch(deleteClientNeed(clientId, id, form)).then((status) => {\n      if (status === ERROR) {\n        // this.setState({ displayError: true });\n      } else {\n        setState( state => ({\n          ...state,\n          showDeletedDiaglog: false,\n          needGroupData: deleteNeedInData(state.selectedId)\n        }));\n      }\n    });\n  }\n\n  const deleteNeedInData = (id) => {\n    let copy = [...state.needGroupData]\n    for (const need_cat of copy){\n      for (const need of need_cat.needs){\n        if(need.id === state.selectedId){\n          //Delete need corresponding to selectedId\n          const idx = need_cat.needs.indexOf(need);\n          if (idx > -1){\n            need_cat.needs.splice(idx,1);\n          }\n        }\n      }\n      if (need_cat.needs.length === 0){\n        //If there are no needs under this category, delete the category as well.\n        const idx = copy.indexOf(need_cat);\n        if (idx > -1){\n          copy.splice(idx,1);\n        }\n      }\n    }\n    return copy;\n  }\n\n  if (state) {\n    return (\n      <div>\n          {needsByNeedGroup}\n        <DeleteModal\n          contentType='Need'\n          objectId={state.selectedId}\n          show={state.showDeletedDiaglog}\n          onHide={handleHide}\n          delete={handleDelete}\n          title = {\"Delete this need?\"}\n        />\n      </div>\n      )\n\n  } else {\n    return '';\n  }\n}\n","import React from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\n\n\nexport default function TR({ title, value }) {\n  if (value) {\n    return (\n      <TableRow key={title}>\n        <TableCell component=\"th\" scope=\"row\">\n          {title}\n        </TableCell>\n        <TableCell align=\"left\">{value}</TableCell>\n      </TableRow>\n    );\n  } else {\n    return null;\n  }\n}\n","import makeStyles from '@material-ui/styles/makeStyles';\n\nconst useProfileTableStyles = makeStyles({\n  table: {\n    marginTop: 20,\n    marginBottom: 40,\n    width: '80%'\n  },\n  title: {\n    backgroundColor: '#ececec',\n    width: '30%'\n  },\n\n  title2: {\n    backgroundColor: '#ececec',\n    width: '70%'\n  },\n\n});\n\nexport default useProfileTableStyles;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport TR from '../../shared/TR';\n\nimport { formatLocation } from '../../../helpers/location_helpers';\nimport { formatPhoneNumber } from '../../../helpers/phone_number_helpers';\n\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport useProfileTableStyles from '../../../stylesheets/profile-table'\n\nexport default function ClientInfoTable({ step, client, infoFields, clientFields }) {\n\n  let rowTitle, rowValue;\n  const infoRows = _.map(infoFields, infoField => {\n\n\n    rowTitle = clientFields[infoField].label;\n    // console.log(\"%%%%%%%%% clientFields[infoField].label\", clientFields[infoField].label);\n\n    switch(infoField) {\n        case 'first_name':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField];\n        // console.log(\"$$$$$$ infoField, rowValue, client.profile  $$ \",infoField, rowValue,  client.profile);\n        }\n        break;\n      case 'middle_name':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile  $$  \", infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'last_name':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'preferred_name':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'gender':\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'birth_date':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'email':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        rowValue = client.profile[infoField];\n        }\n        break;\n      case 'primary_phone_number':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField];\n        // console.log(\"$$$$$$ infoField, client.profile   $$  \",infoField,  client.profile);\n        }\n        break;\n      case 'alt_phone_number':\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client.profile[infoField] ? formatPhoneNumber(client.profile[infoField]) : 'None provided';\n        }\n        break;\n      case \"address\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client[infoField] ? formatLocation(client[infoField]) : \"None provided\";\n        }\n        break;\n\n      case \"has_children\":\n        if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = client[infoField] ? 'Yes' : 'No';\n        }\n        break;\n      case \"other_languages\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        // console.log(\"$$$$$$ infoField, client.profile\",infoField,  client.profile);\n        }\n        rowValue = client.profile[infoField];\n        break;\n      case \"eligibilities\":\n      if (client.profile === undefined){\n        // console.log(\"@@@@@@@@@@@@@@@@@@@@@@@@@@\");\n        }\n        else{\n        rowValue = (client[infoField] || []).join(', ')\n        }\n        break;\n      default:\n        rowValue = client[infoField];\n    }\n    return (\n      <TR\n        key={infoField}\n        title={rowTitle}\n        value={rowValue}\n      />\n    );\n  })\n\n  const classes = useProfileTableStyles()\n  return (\n    <TableContainer className={classes.table} component={Paper}>\n      <Table aria-label=\"Profile table\">\n        <TableHead>\n          <TableRow >\n            <TableCell className={classes.title}>{step}</TableCell>\n            <TableCell className={classes.title2}></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {infoRows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { Component } from 'react';\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\n\nexport default class AppointmentRow extends Component {\n  render() {\n    const appointment = this.props.appointment;\n\n    return(\n      <TableRow>\n        {/*<td>*/}\n        {/*  <Label>{appointment.type}</Label>{' '}*/}\n        {/*  {appointment.category}*/}\n        {/*</td>*/}\n        <TableCell component=\"th\" scope=\"row\">\n          {appointment.category}\n        </TableCell>\n        <TableCell align=\"left\">{appointment.date}</TableCell>\n        <TableCell align=\"left\">{`${appointment.start_time} - ${appointment.end_time}`}</TableCell>\n        <TableCell align=\"left\">{appointment.description}</TableCell>\n      </TableRow>\n    )\n  }\n}\n","const defaultClientFields = {\n  \"steps_order\": [\n    \"info\"\n  ],\n  \"form_structure\": {\n    \"info\": {\n      \"first_name\": false,\n      \"last_name\": false,\n      \"gender\": false,\n      \"first_language\": false,\n      \"birth_date\": false,\n      \"ngo_conditions\": false,\n      \"status_in_canada\": false,\n      \"country_of_origin\": false,\n      \"has_children\": false\n    }\n  }\n};\n\nconst rawClientFieldFromStorage = localStorage.getItem('client-fields');\nlet clientFields = rawClientFieldFromStorage && JSON.parse(rawClientFieldFromStorage) || defaultClientFields;\n\nexport async function fetchClientFields() {\n  return clientFields;\n}\n\nexport async function updateClientFields(updatedClientFields) {\n  clientFields = updatedClientFields;\n  localStorage.setItem('client-fields', JSON.stringify(clientFields));\n}","import { maritalStatusOptions, statusInCanadaOptions, educationLevelOptions, genderOptions,\n         incomeSourceOptions } from '../store/defaults.js';\n\nexport const clientFields = {\n  address: { label: 'Address' },\n  alt_phone_number: { component: 'GeneralField', type: 'tel', label: 'Alternative Phone Number' },\n  arrival_date: { component: 'GeneralField', type: 'date', label: 'Arrival Date (if different from landing_date)' },\n  birth_date: { component: 'GeneralField', type: 'date', label: 'Date of Birth' },\n  completed_education_level: { component: 'SelectField', label: 'Completed Education Level', options: educationLevelOptions },\n  country_of_last_residence: { component: 'GeneralField', type: 'text', label: 'Country of Last Residence' },\n  country_of_origin: { component: 'GeneralField', type: 'text', label: 'Country of Origin' },\n  current_education_level: { component: 'SelectField', label: 'Current Education Level', options: educationLevelOptions },\n  ngo_conditions: { component: 'CheckboxField', label: 'NGO Conditions' },\n  email: { component: 'GeneralField', type: 'email', label: 'Email' },\n  family: { label: 'Family' },\n  file_id: { component: 'GeneralField', type: 'text', label: 'File ID' },\n  first_language: { component: 'SelectField', label: 'First Language' },\n  first_name: { component: 'GeneralField', type: 'text', label: 'First Name' },\n  gender: { component: 'SelectField', label: 'Gender', options: genderOptions },\n  has_children: { component: 'RadioField', label: 'Do you have children?', options: { 'Yes': true, 'No': false } },\n  immigration_doc_number: { component: 'GeneralField', type: 'text', label: 'Immigration Document Number (if different from PR card)' },\n  income_source: { component: 'SelectField', label: 'Income Source', options: incomeSourceOptions },\n  landing_date: { component: 'GeneralField', type: 'date', label: 'Landing Date' },\n  last_name: { component: 'GeneralField', type: 'text', label: 'Last Name' },\n  marital_status: { component: 'SelectField', label: 'Marital Status', options: maritalStatusOptions },\n  middle_name: { component: 'GeneralField', type: 'text', label: 'Middle Name' },\n  num_of_children: { component: 'GeneralField', type: 'number', label: 'Number of Children' },\n  num_of_dependants: { component: 'GeneralField', type: 'number', label: 'Number of Dependants' },\n  other_languages: { component: 'MultiSelectField', label: 'Other languages' },\n  preferred_name: { component: 'GeneralField', type: 'text', label: 'Preferred Name' },\n  primary_phone_number: { component: 'GeneralField', type: 'tel', label: 'Telephone' },\n  pr_number: { component: 'GeneralField', type: 'text', label: 'Permanent Residence Card Number (PR card)' },\n  status_in_canada: { component: 'SelectField', label: 'Status in Canada', options: statusInCanadaOptions }\n}\n","import fetch from 'isomorphic-fetch';\nimport { serverHost } from '../store/defaults.js';\nimport { resolve } from \"chart.js/helpers\";\n\nexport const ACTION_SUCCESS = 'ACTION_SUCCESS';\nexport const ACTION_ERROR = 'ACTION_ERROR';\n\nexport const headers = {\n  Authorization: `JWT ${localStorage.getItem('jwt_token')}`\n};\n\nconst normalizeError = (err) => {\n  for (const [key, value] of Object.entries(err)) {\n    if (value != null && typeof value === 'object' && !Array.isArray(value)) {\n      err[key] = normalizeError(value);\n    } else {\n      err[key] = value[0];\n    }\n  }\n  return err;\n};\n\nexport async function getJson(url) {\n  url = serverHost + url;\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n    },\n  });\n  if (response.status >= 400 && response.status < 600) {\n    const e = new Error(\"Bad response from server: \" + response.status);\n    e.json = normalizeError(await response.json());\n    throw e;\n  }\n  return response.json();\n}\n\nasync function sendJson(url, body, method, rawResponse = false) {\n  url = serverHost + url;\n  const response = await fetch(url, {\n    method,\n    body: JSON.stringify(body),\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n    },\n  });\n  if (response.status >= 400 && response.status < 600) {\n    const e = new Error(\"Bad response from server: \" + response.status);\n    e.json = normalizeError(await response.json());\n    throw e;\n  }\n  if (rawResponse)\n    return response;\n  return response.json();\n}\n\nexport async function postJson(url, body) {\n  return sendJson(url, body, 'POST');\n}\n\nexport async function putJson(url, body) {\n  return sendJson(url, body, 'PUT');\n}\n\n// return raw response\nexport async function deleteJson(url, body) {\n  return sendJson(url, body, 'DELETE', true);\n}\n\nexport function sleep(milliseconds) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, milliseconds)\n  })\n}","import { postJson, putJson, getJson, deleteJson } from \"./index\";\n\nexport function createEligibility(params) {\n  return postJson('/eligibility_criteria/', params);\n}\n\nexport function updateEligibility(id, params) {\n  return putJson('/eligibility_criteria/' + id + '/', params);\n}\n\nexport function fetchEligibility(id) {\n  return getJson('/eligibility_criteria/' + id + '/');\n}\n\nexport function fetchEligibilities() {\n  return getJson('/eligibility_criteria/');\n}\n\nexport async function deleteEligibility(id, params) {\n  const response = await deleteJson('/eligibility_criteria/' + id + '/', params);\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","import React, { useState } from 'react';\nimport GeneralField from '../../shared/fields/GeneralField'\nimport SelectField from '../../shared/fields/SelectField'\nimport { genderOptions, familyRelationshipOptions } from '../../../store/defaults.js';\nimport { Paper, Button, FormLabel } from '@material-ui/core';\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Alert } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  paper: {\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    marginBottom: 20,\n    width: 380,\n  }\n}));\n\nfunction FamilyMemberFields({index, clientId, member, handleRemoveFamily, errMsg = {}}) {\n  const classes = useStyles();\n\n  const handleChangeMember = name => e => {\n    member.person[name] = e.target.value;\n  };\n\n  // What does this mean?\n  const disabled = clientId && member.person.id === clientId;\n  return (\n    <div className={classes.root}>\n      <FormLabel component=\"legend\">\n        Family Member #{index + 1 + '  '}\n        <Button\n          disabled={disabled}\n          onClick={e => handleRemoveFamily(index)}\n          color=\"secondary\"\n        >\n          Remove\n        </Button>\n      </FormLabel>\n      <Paper variant=\"outlined\" className={classes.paper}>\n        <GeneralField\n          type=\"text\"\n          onChange={handleChangeMember('first_name')}\n          value={member.person.first_name}\n          label=\"First name\"\n          disabled={disabled}\n          error={!!errMsg['first_name']}\n          helperText={errMsg['first_name']}\n        />\n        <GeneralField\n          type=\"text\"\n          value={member.person.last_name}\n          onChange={handleChangeMember('last_name')}\n          label=\"Last name\"\n          disabled={disabled}\n          error={!!errMsg['last_name']}\n          helperText={errMsg['last_name']}\n        />\n        <GeneralField\n          type=\"date\"\n          value={member.person.birth_date}\n          onChange={handleChangeMember('birth_date')}\n          label=\"Birth date\"\n          disabled={disabled}\n          error={!!errMsg['birth_date']}\n          helperText={errMsg['birth_date']}\n        />\n        <SelectField\n          options={genderOptions}\n          value={member.person.gender}\n          onChange={handleChangeMember('gender')}\n          label=\"Gender\"\n          disabled={disabled}\n          error={!!errMsg['gender']}\n          helperText={errMsg['gender']}\n        />\n        <SelectField\n          options={familyRelationshipOptions}\n          value={member.relationship}\n          onChange={e => member.relationship = e.target.value}\n          label={(clientId && member.person.id === clientId) ? 'Self' : 'Relationship'}\n          disabled={disabled}\n          error={!!errMsg['relationship']}\n          helperText={errMsg['relationship']}\n        />\n      </Paper>\n    </div>\n  )\n}\n\nexport default function FamilyFields({family, clientId, errMsg = {}}) {\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleAddFamily = () => {\n    family.members.push({\n      person: {\n        first_name: '',\n        last_name: '',\n        birth_date: null,\n        gender: ''\n      },\n      relationship: ''\n    });\n    forceUpdate();\n  };\n\n  const handleRemoveFamily = (index) => {\n    family.members.splice(index, 1);\n    forceUpdate();\n  };\n\n  return (\n    <div>\n      {errMsg && typeof errMsg === 'string' &&\n        <Alert severity=\"error\">{errMsg}</Alert>}\n      {family.members.map((member, index) => {\n        return (\n          <FamilyMemberFields\n            key={index}\n            index={index}\n            member={member}\n            clientId={clientId}\n            handleRemoveFamily={handleRemoveFamily}\n            errMsg = {errMsg[index]}\n          />\n        )\n      })}\n      <Button onClick={handleAddFamily} variant=\"outlined\">\n        Add Family Member\n      </Button>\n    </div>\n  );\n}\n","import React, { useCallback, useState } from 'react';\nimport { RadioGroup, Radio, FormControlLabel, FormControl, FormLabel, FormHelperText } from '@material-ui/core'\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { UN_SET } from '../../../constants';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    position: 'relative',\n    top: 16,\n  },\n  formControlRow: {\n    position: 'relative',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  labelRow: {\n    width: 200,\n    marginRight: 20,\n  }\n}));\n\nconst tryCastBool = val => val === 'true' ? true : (val === 'false' ? false : val);\n\nexport default function RadioField({row, noStar, label, required, options, onChange, value: parentValue = UN_SET, helperText, ...props}) {\n  const classes = useStyles();\n  const [value, setValue] = useState(parentValue);\n\n  const handleChange = useCallback(e => {\n    const val = tryCastBool(e.target.value);\n    setValue(val);\n    onChange({target: {value: val === UN_SET ? null : val}});\n  }, [onChange]);\n\n  return (\n    <FormControl className={row ? classes.formControlRow : classes.formControl}  error={props.error}>\n      <FormLabel className={row && classes.labelRow} required={required && !noStar} component=\"legend\">{label}</FormLabel>\n      <RadioGroup value={value} onChange={handleChange} row>\n        {/*{!required && <FormControlLabel*/}\n        {/*  key={UN_SET}*/}\n        {/*  value={UN_SET}*/}\n        {/*  control={<Radio color=\"primary\"/>}*/}\n        {/*  label={'N/A'}*/}\n        {/*  labelPlacement=\"end\"*/}\n        {/*/>}*/}\n        {Object.entries(options).map((([label, value]) =>\n            <FormControlLabel\n              key={value}\n              value={value}\n              control={<Radio color=\"primary\"/>}\n              label={label}\n              labelPlacement=\"end\"\n            />\n        ))}\n      </RadioGroup>\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { FormLabel, FormControl, FormGroup, FormControlLabel, Checkbox, FormHelperText } from '@material-ui/core';\nimport makeStyles from '@material-ui/styles/makeStyles';\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    // position: 'relative',\n    marginTop: 16,\n    // marginBottom: 8,\n  },\n}));\n\nexport default function CheckboxField({label, required, options, onChange, helperText, ...props}) {\n  const optionsArray = useMemo(() =>\n    Array.isArray(options) ? options : Object.values(options), [options]);\n\n  const [value, setValue] = useState(() => {\n    const data = {};\n    optionsArray.forEach(option => {\n      data[option] = props.value.includes(option);\n    });\n    return data;\n  });\n\n  const handleChange = useCallback(name => e => {\n    const checked = e.target.checked;\n    const newValue = {\n      ...value,\n      [name]: checked\n    };\n    setValue(newValue);\n    const parentValue = [];\n    Object.entries(newValue).forEach(([name, checked]) => {\n      if (checked) parentValue.push(name);\n    });\n    onChange({target: {value: parentValue}});\n  }, [onChange, value]);\n\n  const classes = useStyles();\n  return (\n    <FormControl component=\"fieldset\" className={classes.formControl} error={props.error}>\n      <FormLabel required={required} component=\"legend\">{label}</FormLabel>\n      <FormGroup row>\n        {optionsArray.map(name =>\n          <FormControlLabel\n            key={name}\n            label={name}\n            control={<Checkbox color=\"primary\" checked={value[name]} onChange={handleChange(name)}/>}\n          />\n        )}\n      </FormGroup>\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n","import React, { useCallback} from \"react\";\nimport { Autocomplete, TextField } from \"@material-ui/core\";\n\nexport default function Dropdown(props) {\n  // options is [value1, value2, ...]\n  const {options, label, value, onChange, helperText} = props;\n\n  const handleChange = useCallback((e, value) => {\n    onChange({target: {value}});\n  }, [onChange]);\n\n  return (\n    <Autocomplete\n      sx={{mt: '16px'}}\n      multiple\n      options={options}\n      onChange={handleChange}\n      getOptionLabel={option => option}\n      defaultValue={value}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label={label}\n          sx={{minWidth: 350}}\n          fullWidth={false}\n          helperText={helperText}\n        />\n      )}\n    />\n  )\n}\n","import React from 'react';\n\nimport GeneralField from './fields/GeneralField';\nimport SelectField from './fields/SelectField';\nimport RadioField from './fields/RadioField';\nimport CheckboxField from './fields/CheckboxField';\nimport MultiSelectField from './fields/MultiSelectField';\n\nexport default function FieldGroup({ component, options, value, ...props }) {\n  if (component === 'GeneralField') {\n    return (\n      <GeneralField\n        {...props}\n        value={value}\n      />\n    );\n  }\n  else if (component === 'SelectField') {\n    return (\n      <SelectField\n        options={options}\n        {...props}\n        value={value}\n      />\n    );\n  }\n  else if (component === 'MultiSelectField') {\n    return (\n      <MultiSelectField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  else if (component === 'RadioField') {\n    return (\n      <RadioField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  // return null;\n  else if (component === 'CheckboxField') {\n    return (\n      <CheckboxField\n        options={options}\n        value={value}\n        {...props}\n      />\n    );\n  }\n  return <div>Unknown field {component}</div>;\n}\n","import {\n  recursiveAssign,\n  isFieldEmpty,\n  verifyAddressField,\n  validateAddressPostalCode,\n  validateContactFormat,\n  verifyFamilyFields,\n} from \"./index\";\n\n// Verify the params filled in client form\nexport function client_verify_form(form, steps) {\n  const format_messages = verifyFormFormat(form);\n  const required_field_msg = verifyRequiredField(form, steps);\n  return recursiveAssign(required_field_msg, format_messages);\n}\n\n/**\n * verify if every required field is filled in\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyRequiredField(form, steps) {\n  let result = {};\n  for (const step_page_fields of steps) {\n    // traverse each step page in steps\n    for (const [field, required] of Object.entries(step_page_fields)) {\n      if (required) {\n        if (field in form && isFieldEmpty(form[field])) {\n          //  key in form\n          result[field] = 'This field is required';\n        } else if (field in form.profile && isFieldEmpty(form.profile[field])) {\n          result[field] = 'This field is required';\n        } else if (field === 'family' && field in form) {\n          if (form[field].length === 0){\n            result['family'] = \"Please add at least one family member!\";\n          } else{\n            // Some fields in family are not filled in\n            result[field] = {}\n            verifyFamilyFields(form[field]['members'], result[field])\n            if (Object.entries(result[field]).length === 0) {\n              delete result[field];\n            }\n          }\n\n        } else if (field === 'address') {\n          result[field] = {};\n          verifyAddressField(form[field], result[field]);\n          if(Object.entries(result[field]).length === 0){\n            delete result[field];\n          }\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * verify format for various field\n * @param form\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyFormFormat(form) {\n  let result = {}\n  // Verify postal code\n  validateAddressPostalCode(form.address.postal_code, result, 'address')\n\n  // verify profile\n  if(form.profile){\n    validateContactFormat(form.profile, result)\n  }\n  return result;\n}\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\nimport { clientFields } from '../../constants/client_fields.js'\nimport { defaultProfileFields, generateClientField } from '../../constants/default_fields.js'\n\n// redux\nimport { useDispatch } from 'react-redux';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { createClient, updateClient, fetchClient } from '../../store/actions/clientActions.js';\nimport { fetchEligibilities } from '../../api/eligibilityApi';\nimport { fetchClientFields } from '../../api/mockedApi/clientFields';\n\n// components\nimport LocationFieldGroup from '../shared/LocationFieldGroup';\nimport FamilyFields from './client_form/FamilyFields';\nimport FieldGroup from '../shared/FieldGroup';\n\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Container } from '@material-ui/core';\nimport { Loading, FormStepper } from \"../shared\";\nimport { client_verify_form } from '../../helpers/client_verify_form.js';\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: '80%',\n    margin: 'auto',\n    paddingBottom: 10,\n  }\n}));\n\nexport default function ClientForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {id} = useParams();\n  const mode = id ? 'edit' : 'new';\n  const [state, setState] = useState({\n    loading: true,\n    languageOptions: [],\n    all_ngo_conditions: [],\n    stepNames: [],\n    steps: [],\n    client: null,\n    dispatchErrorMsg: [],\n    fieldErrorMsg: {},\n  });\n\n  // DO NOT store form as state, it degrades the performance as all form got rendered every time user type anything.\n  // Instead, for large form like this page, store the form as a variable and pass it to child components (input)\n  const form = useMemo(() => generateClientField(state.client), [state.client]);\n\n  // const [form, setForm] = useState(generateClientField());\n\n  useEffect(() => {\n    const promises = [];\n    promises.push(dispatch(fetchOntologyCategories('languages'))\n      .then(data => setState(state => ({...state, languageOptions: data}))));\n    promises.push(fetchEligibilities()\n      .then(data => {\n        setState(state => ({...state, all_ngo_conditions: data.map(data => data.title)}))\n      }));\n    promises.push(fetchClientFields()\n      .then(data => {\n        if (data == null || data.steps_order.length === 0\n          || Object.values(data.form_structure).length === 0) {\n          setState(state => ({...state, loading: true, dispatchErrorMsg: ['No fields are available.']}));\n        } else {\n          setState(state => ({\n            ...state,\n            stepNames: data.steps_order,\n            steps: Object.values(data.form_structure)\n          }));\n        }\n      }));\n    id && promises.push(dispatch(fetchClient(id))\n      .then(data => setState(state => ({...state, client: data}))));\n    Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  }, [dispatch, id]);\n\n  const handleFinish = () => {\n    // TODO: pretty error message\n    const fieldErrorMsg = client_verify_form(form, state.steps);\n    if (Object.keys(fieldErrorMsg).length !== 0) {\n      setState(state => ({...state, fieldErrorMsg}));\n      return;\n    }\n    if (mode === 'edit') {\n      dispatch(\n        updateClient(id, form, (status, err, clientId) => {\n          if (status === ACTION_SUCCESS) {\n            history.push(`/clients/${clientId}`)\n          } else {\n            setState(state => ({...state, dispatchErrorMsg: [err.toString()]}));\n          }\n        })\n      );\n    } else {\n      dispatch(\n        createClient(form, (status, err, clientId) => {\n          if (status === ACTION_SUCCESS) {\n            history.push('/clients/' + clientId)\n          } else {\n            setState(state => ({...state, dispatchErrorMsg: [err.toString()]}));\n          }\n        }));\n\n    }\n  };\n\n  /**\n   * Handle changes in form\n   * @param name {string}\n   * @returns {Function}\n   */\n  const handleChange = useCallback(name => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n  }, [form]);\n\n  const getStepContent = idx => {\n    const step = state.steps[idx];\n    return <div className={classes.content}>\n      {Object.entries(step).map(([field, required]) => {\n        let options;\n        // console.log(field)\n        let errMsg = state.fieldErrorMsg[field];\n        if (field === 'first_language') {\n          options = state.languageOptions;\n        } else if (field === 'other_languages') {\n          options = state.languageOptions.filter(\n            category => category !== form.first_language)\n        } else if (field === 'ngo_conditions') {\n          options = state.all_ngo_conditions;\n        }\n\n        if (field === 'address') {\n          return (\n            <LocationFieldGroup\n              key=\"address\"\n              address={form.address}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else if (field === 'family') {\n          return (\n            <FamilyFields\n              key=\"family\"\n              family={form.family}\n              clientId={id}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else {\n          const isProfile = Object.keys(defaultProfileFields).includes(field);\n          return (\n            <FieldGroup\n              key={field}\n              label={clientFields[field].label}\n              type={clientFields[field].type}\n              component={clientFields[field].component}\n              value={isProfile ? form.profile[field] : form[field]}\n              onChange={handleChange(isProfile ? 'profile.' + field : field)}\n              required={required}\n              options={clientFields[field].options || options}\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          );\n        }\n      })}\n    </div>\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading...`}/>;\n\n  return (\n    <Container>\n      <FormStepper\n        getStepContent={getStepContent}\n        handleFinish={handleFinish}\n        stepNames={state.stepNames}\n        error={state.dispatchErrorMsg}\n      />\n    </Container>\n  );\n}\n","import { deleteJson, getJson, postJson, putJson } from \"./index\";\n\nexport function createUser(params) {\n  return postJson('/users/', params);\n}\n\nexport function createUsers(params) {\n  // TODO: implement backend?\n  return postJson('/users/', {csv: params});\n}\n\nexport function updateUser(id, params) {\n  return putJson('/user/' + id + '/', params);\n}\n\nexport function fetchUser(id) {\n  return getJson('/user/' + id + '/');\n}\n\nexport function fetchUsers() {\n  return getJson('/users/');\n}\n\nexport function deleteUser(id, params, callback) {\n  const response = deleteJson('/user/' + id + '/');\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","import RadioField from \"../components/shared/fields/RadioField\";\nimport { Validator } from \"../helpers\";\nimport { defaultField } from \"./index\";\n\nexport const userFormFields = {\n  is_superuser: {\n    ...defaultField,\n    label: 'Admin?',\n    component: RadioField,\n    options: {Yes: true, No: false},\n    required: true,\n  },\n  username: {\n    ...defaultField,\n    label: 'Username',\n    required: true,\n  },\n  password: {\n    ...defaultField,\n    label: 'Password',\n    type: 'password',\n    required: true,\n    validator: Validator.password\n  },\n  first_name: {\n    ...defaultField,\n    label: 'First name',\n  },\n  last_name: {\n    ...defaultField,\n    label: 'Last name',\n  },\n  email: {\n    ...defaultField,\n    label: 'Email',\n    type: 'email',\n    validator: Validator.email,\n  },\n  primary_phone_number: {\n    ...defaultField,\n    label: 'Telephone',\n    validator: Validator.phone\n  },\n  alt_phone_number: {\n    ...defaultField,\n    label: 'Alternate phone number',\n    validator: Validator.phone\n  }\n};","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from \"react-router\";\n\nimport { defaultUserFields } from \"../../constants/default_fields\";\nimport { Button, Container, Typography } from \"@material-ui/core\";\nimport { userFormFields } from \"../../constants/userFields\";\nimport { fetchUser, updateUser, createUser } from \"../../api/userApi\";\nimport { Loading } from \"../shared\"\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { isFieldEmpty } from \"../../helpers\";\nimport { REQUIRED_HELPER_TEXT } from \"../../constants\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '80%'\n  },\n  button: {\n    marginTop: 12,\n    marginBottom: 12,\n  }\n}));\n\nexport default function UserForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const {id} = useParams();\n  const mode = id == null ? 'new' : 'edit';\n  const [state, setState] = useState({\n    form: {\n      ...defaultUserFields\n    },\n    errors: {},\n    loading: true,\n  });\n\n  useEffect(() => {\n    if (mode === 'edit') {\n      fetchUser(id).then(user => {\n        setState(state => ({\n          ...state,\n          form: {\n            ...state.form,\n            ...user\n          },\n          loading: false,\n        }))\n      })\n    } else\n      setState(state => ({...state, loading: false}));\n  }, [mode, id]);\n\n  /**\n   * @returns {boolean} true if valid.\n   */\n  const validate = () => {\n    const errors = {};\n    for (const [field, option] of Object.entries(userFormFields)) {\n      const isEmpty = isFieldEmpty(state.form[field]);\n      if (option.required && isEmpty) {\n        errors[field] = REQUIRED_HELPER_TEXT;\n      }\n      let msg;\n      if (!isEmpty && option.validator && (msg = option.validator(state.form[field]))) {\n        errors[field] = msg;\n      }\n    }\n    if (Object.keys(errors).length !== 0) {\n      setState(state => ({...state, errors}));\n      return false\n    }\n    return true;\n  };\n\n  const handleSubmit = async () => {\n    if (validate()) {\n      try {\n        if (mode === 'new') {\n          await createUser(state.form);\n          history.push('/users/');\n        } else {\n          await updateUser(id, state.form);\n          history.push('/users/' + id);\n        }\n      } catch (e) {\n        if (e.json) {\n          setState(state => ({...state, errors: e.json}));\n        }\n      }\n    }\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading user form...`}/>;\n\n  return (\n    <Container className={classes.root}>\n      <Typography variant=\"h5\">\n        {mode === 'new' ? 'Create new user' : 'Edit user'}\n      </Typography>\n      {Object.entries(userFormFields).map(([field, option]) => {\n        return (\n          <option.component\n            key={field}\n            label={option.label}\n            type={option.type}\n            options={option.options}\n            value={state.form[field]}\n            required={option.required}\n            onChange={e => state.form[field] = e.target.value}\n            error={!!state.errors[field]}\n            helperText={state.errors[field]}\n          />\n        )\n      })}\n      <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleSubmit}>\n        Submit\n      </Button>\n    </Container>\n  )\n}","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport GeneralField from '../shared/fields/GeneralField'\nimport SelectField from '../shared/fields/SelectField'\nimport MultiSelectField from '../shared/fields/MultiSelectField';\nimport { newMultiSelectFieldValue } from '../../helpers/select_field_helpers';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { createClientNeed, updateClientNeed } from '../../store/actions/needActions.js'\n\nimport { Button, Form, FormGroup, FormLabel, Col, Row } from 'react-bootstrap';\n\nclass NeedForm extends Component {\n  constructor(props) {\n    super(props);\n    let need = {};\n\n    if (this.props.match.params.need_id) {\n      need = this.props.needsById[this.props.match.params.need_id]\n    }\n\n    this.state = {\n      needId: need.id,\n      mode: (need.id) ? 'edit' : 'new',\n      form: {\n        type: need.type || undefined,\n        category: need.category || '',\n        description: need.description || '',\n        needed_by: need.needed_by || '',\n        condition: need.condition || '',\n        status: need.status || '',\n        is_urgent: need.is_urgent || false,\n        languages: need.languages || []\n      }\n    }\n\n    this.formValChange = this.formValChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.handleMultiSelectChange = this.handleMultiSelectChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(fetchOntologyCategories('needs'));\n  }\n\n  formValChange(e, id=e.target.id, value=e.target.value) {\n    let nextForm = {...this.state.form, [id]: value};\n    this.setState({ form: nextForm });\n  }\n\n  handleMultiSelectChange(id, selectedOption, actionMeta) {\n    const preValue = this.state.form[id]\n    const newValue = newMultiSelectFieldValue(preValue, selectedOption, actionMeta)\n\n    this.setState({\n      form: {\n        ...this.state.form,\n        [id]: newValue\n      }\n    });\n  }\n\n  submit() {\n    if (this.state.mode === 'edit') {\n      this.props.dispatch(updateClientNeed(this.props.clientId, this.state.needId, this.state.form));\n    } else {\n      this.props.dispatch(createClientNeed(this.props.clientId, this.state.form));\n    }\n    this.props.history.push(`/clients/${this.props.clientId}`)\n  }\n\n  render() {\n    const p = this.props;\n    const formTitle = (this.state.mode === 'edit') ? 'Edit Need' : 'Create Need'\n\n    if (this.state.form.type === undefined) {\n      return (\n        <div className=\"outer\">\n          <div className=\"middle\">\n            <div className=\"need-type-buttons\">\n              <Button onClick={e => this.formValChange(e, 'type', 'Good')}>\n                Goods\n              </Button>\n              <Button onClick={e => this.formValChange(e, 'type', 'Service')}>\n                Service\n              </Button>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <Row className=\"content\">\n          <Col sm={12}>\n            <h3>{formTitle}</h3>\n            <hr />\n          </Col>\n          <Col sm={12}>\n            <Form horizontal>\n              <FormGroup controlId=\"type\">\n                <Col componentClass={FormLabel} sm={3}>\n                  Type\n                </Col>\n                <Col sm={9}>\n                  <div className=\"need-type\">\n                    {this.state.form.type}\n                  </div>\n                </Col>\n              </FormGroup>\n              <FormGroup controlId=\"is_urgent\">\n                <Col componentClass={FormLabel} sm={3}>\n                  Urgent?\n                </Col>\n                <Col sm={9}>\n                  <Form.Check\n                    name=\"radioGroup\"\n                    value=\"1\"\n                    onChange={e => this.formValChange(e, 'is_urgent')}\n                    defaultChecked={this.state.form.is_urgent === true}\n                    type=\"radio\"\n                    inline\n                  >\n                    Yes\n                  </Form.Check>{' '}\n                  <Form.Check\n                    name=\"radioGroup\"\n                    value=\"0\"\n                    onChange={e => this.formValChange(e, 'is_urgent')}\n                    defaultChecked={this.state.form.is_urgent === false}\n                    type=\"radio\"\n                    inline\n                  >\n                    No{this.state.form.is_urgent === false}\n                  </Form.Check>{' '}\n                </Col>\n              </FormGroup>\n              <SelectField\n                label=\"Category\"\n                options={p.needsCategories}\n                value={this.state.form.category}\n                onChange={e => this.formValChange(e, 'category')}\n                required = {true}\n              />\n              <GeneralField\n                label=\"Needed By\"\n                type=\"date\"\n                value={this.state.form.needed_by}\n                onChange={e => this.formValChange(e, 'needed_by')}\n              />\n              <MultiSelectField\n                label=\"Languages\"\n                options={p.languagesCategories}\n                value={this.state.form.languages}\n                onChange={e => this.handleMultiSelectChange(e, null, null)}\n              />\n              <GeneralField\n                label=\"Description\"\n                value={this.state.form.description}\n                onChange={e => this.formValChange(e, 'description')}\n                required={true}\n                multiline = {true}\n                fullWidth = {true}\n              />\n              {this.state.form.type === 'Good' &&\n                <GeneralField\n                  label=\"Condition\"\n                  type=\"textarea\"\n                  value={this.state.form.condition}\n                  onChange={e => this.formValChange(e, 'condition')}\n                />\n              }\n              <FormGroup>\n                <Col smOffset={3} sm={9}>\n                  <Button onClick={this.submit}>\n                    Submit\n                  </Button>\n                </Col>\n              </FormGroup>\n            </Form>\n          </Col>\n        </Row>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    needsById: state.needs.byId,\n    clientId: state.needs.clientId,\n    needsCategories: state.ontology.needs.categories,\n    languagesCategories: state.ontology.languages.categories,\n    categoriesLoaded: state.ontology.needs.loaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(withRouter(NeedForm));\n","import _ from 'lodash';\n\nexport function newMultiSelectFieldValue(preValue,\n                                         selectedOption,\n                                         actionMeta) {\n  let newValue;\n  switch (actionMeta.action) {\n    case 'pop-value':\n    case 'remove-value':\n       _.remove(preValue, (value) => {\n        return value === actionMeta.removedValue.value\n      });\n      newValue = preValue\n      break;\n    case 'clear':\n      newValue = []\n      break;\n    default:\n      preValue.push(actionMeta.option.value)\n      newValue = preValue\n  }\n  return newValue;\n}\n","import React, { Component } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport GeneralField from '../shared/fields/GeneralField';\nimport SelectField from '../shared/fields/SelectField';\n\n// redux\nimport { connect } from 'react-redux'\nimport { createAppointment } from '../../store/actions/appointmentActions.js'\n\nclass AppointmentModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        'type': '',\n        'category': '',\n        'status': '',\n        'description': '',\n        'date': '',\n        'start_time': '',\n        'end_time': '',\n        'reminder_type': '',\n        'reminder_frequency': '',\n      }\n    };\n\n    this.formValChange = this.formValChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit() {\n    let form = Object.assign({}, this.state.form);\n    form['service_id'] = this.props.serviceId;\n    form['client_id'] = this.props.clientId;\n\n    this.props.dispatch(\n      createAppointment(form, (status, err, appointment) => {\n        this.props.onHide()\n      })\n    );\n  }\n\n  formValChange(e, id=e.target.id) {\n    let nextForm = { ...this.state.form, [id]: e.target.value };\n    this.setState({ form: nextForm });\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        bsSize=\"large\"\n        aria-labelledby=\"contained-modal-title-sm\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"contained-modal-title-sm\">\n            Appointment\n            {this.state.form.service_id}\n            {this.state.form.provider_id}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form horizontal>\n            <SelectField\n              id=\"type\"\n              label=\"Type\"\n              options={['External', 'Internal']}\n              componentClass=\"select\"\n              value={this.state.form.type}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"category\"\n              label=\"Category\"\n              type=\"text\"\n              value={this.state.form.category}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"status\"\n              label=\"Status\"\n              type=\"text\"\n              value={this.state.form.status}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"description\"\n              label=\"Description\"\n              type=\"text\"\n              value={this.state.form.description}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"date\"\n              label=\"Date\"\n              type=\"date\"\n              value={this.state.form.date}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"start_time\"\n              label=\"Start Time\"\n              type=\"time\"\n              value={this.state.form.start_time}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"end_time\"\n              label=\"End Time\"\n              type=\"time\"\n              value={this.state.form.end_time}\n              onChange={this.formValChange}\n              required\n            />\n            <SelectField\n              id=\"reminder_type\"\n              label=\"Reminder Type\"\n              options={['Email', 'Text', 'Phone']}\n              componentClass=\"select\"\n              value={this.state.form.reminder_type}\n              onChange={this.formValChange}\n            />\n            <GeneralField\n              id=\"reminder_frequency\"\n              label=\"Reminder Frequecy\"\n              type=\"text\"\n              value={this.state.form.reminder_frequency}\n              onChange={this.formValChange}\n            />\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.handleSubmit}>\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default connect()(AppointmentModal);\n","import fetch from 'isomorphic-fetch';\nimport { serverHost, ACTION_SUCCESS, ACTION_ERROR } from '../defaults.js';\n\n\nexport function createAppointment(params, callback) {\n  return dispatch => {\n    const url = serverHost + '/appointments/';\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n      }\n    })\n    .then(async(response) => {\n      if (response.status === 201) {\n        return response.json()\n      }\n      else {\n        const error = await response.json()\n        throw new Error(JSON.stringify(error))\n      }\n    })\n    .then(appointment => {\n      callback(ACTION_SUCCESS, null, appointment);\n    }).catch(err => {\n      callback(ACTION_ERROR, err);\n    })\n  }\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport AppointmentModal from '../appointments/AppointmentModal';\nimport { matchStatusOptions } from '../../store/defaults.js';\nimport { updateMatchStatus, createMatchNote } from '../../store/actions/needActions.js'\n\nimport { Col, Accordion, Card, Form, FormGroup, FormLabel,\n  FormControl, Button } from 'react-bootstrap';\n\nclass MatchedServices extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeKey: null,\n      matchStatusForm: {},\n      noteForm: {},\n      modalShow: false,\n      appointmentServiceId: null\n    }\n\n    this.handleSelect = this.handleSelect.bind(this);\n\n    this.matchStatusChange = this.matchStatusChange.bind(this);\n    this.textAreaChange = this.textAreaChange.bind(this);\n    this.submitMatchStatus = this.submitMatchStatus.bind(this);\n    this.submitNote = this.submitNote.bind(this);\n\n    this.handleModalHide = this.handleModalHide.bind(this);\n    this.handleModalShow = this.handleModalShow.bind(this);\n  }\n\n  submitMatchStatus(matchId) {\n    this.props.dispatch(updateMatchStatus(matchId, this.state.matchStatusForm[matchId]));\n  }\n\n  submitNote(matchId) {\n    let form = {...this.state.noteForm[matchId], object_id: matchId, model: 'match' }\n    this.props.dispatch(createMatchNote(form));\n  }\n\n  matchStatusChange(e, matchId) {\n    const nextForm = { ...this.state.matchStatusForm, [matchId]: { status: e.target.value }}\n    this.setState({\n      matchStatusForm: nextForm\n    });\n  }\n\n  textAreaChange(e, matchId) {\n    const nextForm = { ...this.state.noteForm, [matchId]: { text: e.target.value }}\n    this.setState({\n      noteForm: nextForm\n    });\n  }\n\n  handleModalHide() {\n    this.setState({ modalshow: false });\n  }\n\n  handleModalShow(serviceId) {\n    this.setState({\n      modalshow: true,\n      appointmentServiceId: serviceId\n    })\n  }\n\n  handleSelect(activeKey) {\n    this.setState({\n      activeKey: activeKey,\n    });\n  }\n\n  render() {\n    const matches = this.props.matches;\n    return (\n      <div>\n        <Col sm={12}>\n          <h3>Matched Services</h3>\n        </Col>\n        <Col sm={12}>\n          <Accordion\n            id=\"accordion\"\n            activeKey={this.state.activeKey}\n          >\n            {\n              _.map(matches, (match, index) => {\n                return (\n                  <Card key={match.id} eventKey={match.id} bsStyle=\"info\">\n                    <Card.Header onClick={() => this.handleSelect(index)}>\n                      <Col sm={11}>\n                        <Card.Title toggle>\n                          {index+1}. {match.service.name}\n                          {' '}\n                        </Card.Title>\n                      </Col>\n                      <Form.Label bsStyle=\"primary\">\n                        {match.status}\n                      </Form.Label>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey={index}>\n                      <Card.Body collapsible>\n                        <Col sm={8}>\n                          <FormGroup controlId=\"match_status\">\n                            <Col componentClass={FormLabel} sm={3}>\n                              Status\n                            </Col>\n                            <Col sm={6}>\n                              <FormControl\n                                componentClass=\"select\"\n                                placeholder=\"select\"\n                                defaultValue={match.status}\n                                onChange={e => this.matchStatusChange(e, match.id)}\n                              >\n                                <option value=\"select\">--- Not Set ---</option>\n                                {matchStatusOptions.map(status =>\n                                  <option key={status} value={status}>{status}</option>\n                                )}\n                              </FormControl>\n                            </Col>\n                            <Col sm={3}>\n                              <Button\n                                disabled={this.state.activeKey !== match.id || !this.state.matchStatusForm[match.id]}\n                                onClick={e => this.submitMatchStatus(match.id)}\n                              >\n                                Update Status\n                              </Button>\n                            </Col>\n                          </FormGroup>\n                          <Form.Label className='note-form'>\n                            <FormGroup controlId=\"notes\">\n                              <Col componentClass={FormLabel} sm={3}>\n                                Notes\n                              </Col>\n                              <Col sm={9}>\n                                {\n                                  _.map(match.notes, (note, index) => {\n                                    return (\n                                      <div key={index}>\n                                        {note}\n                                      </div>\n                                    )\n                                  })\n                                }\n                                <FormControl\n                                  componentClass=\"textarea\"\n                                  onChange={e => this.textAreaChange(e, match.id)}\n                                />\n                              </Col>\n                            </FormGroup>\n                            <FormGroup>\n                              <Col smOffset={3} sm={9}>\n                                <Button\n                                  disabled={this.state.activeKey !== match.id || !this.state.noteForm[match.id]}\n                                  onClick={e => this.submitNote(match.id)}\n                                >\n                                  Add Note\n                                </Button>\n                              </Col>\n                            </FormGroup>\n                          </Form.Label>\n                          <Button bsStyle=\"default\"  onClick={e => this.handleModalShow(match.service.id)}>\n                            Add appointment\n                          </Button>\n                        </Col>\n                        <Col sm={4}>\n                          <Link to={`/service/${match.service.id}`} target=\"_blank\">\n                            <h5>View Service Detail</h5>\n                          </Link>\n                          <Link to={`/provider/${match.service.provider.id}`} target=\"_blank\">\n                            <h5>View Provider Detail</h5>\n                          </Link>\n                        </Col>\n                      </Card.Body>\n                    </Accordion.Collapse>\n                  </Card>\n                )\n              })\n            }\n          </Accordion>\n        </Col>\n        <AppointmentModal\n          clientId={this.props.clientId}\n          serviceId={this.state.appointmentServiceId}\n          show={this.state.modalshow}\n          onHide={this.handleModalHide}\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect()(withRouter(MatchedServices));\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { formatLocation } from '../../helpers/location_helpers'\n\nimport { connect } from 'react-redux'\nimport { ListGroupItem, Row, Col, Button } from 'react-bootstrap';\nimport { matchClientNeed } from '../../store/actions/needActions.js'\nimport { Typography } from \"@material-ui/core\";\n\nclass ServiceListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit(needId, serviceId) {\n    const form = {\n      service_id: serviceId\n    }\n    this.props.dispatch(\n      matchClientNeed(needId, form)\n    );\n  }\n\n  render() {\n    const service = this.props.service,\n          needId = this.props.needId,\n          label = this.props.label;\n\n    return (\n      <ListGroupItem className=\"recommended-service\">\n        <Row>\n          <Col sm={8}>\n            <h5>{label}.</h5>\n            <Link to={`/service/${service.id}`}>\n              <h5>{service.name}</h5>\n            </Link>\n            <Typography>{service.category}</Typography>\n            {' '}\n            <Typography>{Math.round(service.distance * 100) / 100} km</Typography>\n            <p>{service.desc}</p>\n            <p>{formatLocation(service.location)}</p>\n          </Col>\n          <Col sm={4}>\n            <h5>Provider</h5>\n            <Typography color=\"primary\">{service.provider.type}</Typography>\n            <Link to={`/provider/${service.provider.id}`}>\n              { (service.provider.type === \"Individual\") ? (\n                  <p>{`${service.provider.profile.first_name} ${service.provider.profile.last_name}`}</p>\n                ) : (\n                  <p>{service.provider.company}</p>\n                )\n              }\n            </Link>\n          </Col>\n          <Col sm={12}>\n            <Button bsStyle=\"default\" onClick={e => this.submit(needId, service.id)}>\n              Select\n            </Button>\n          </Col>\n        </Row>\n      </ListGroupItem>\n    )\n  }\n}\n\nexport default connect()(withRouter(ServiceListItem));\n","import React from 'react';\nimport _ from 'lodash';\n\nimport { withGoogleMap, GoogleMap, Marker } from 'react-google-maps';\nimport ServiceListItem from './ServiceListItem';\n\nimport { Row, Col } from 'react-bootstrap';\n\n\nconst GMap = withGoogleMap(props => (\n  <GoogleMap\n    zoom={10}\n    center={props.latlng}>\n    {_.map(props.services, (service, index) => {\n      return (\n        <Marker\n          key={service.id}\n          label={(index+1).toString()}\n          position={{ lat: parseFloat(service.location.lat), lng: parseFloat(service.location.lng)}}\n        />\n      )\n    })}\n  </GoogleMap>\n));\n\nexport default function ServiceList({ need, services, latlng }) {\n  return (\n    <Row>\n      <Col sm={8}>\n        {_.map(services, (service, index) => {\n          return (\n            <ServiceListItem\n              key={service.id}\n              needId={need.id}\n              label={index+1}\n              service={service}\n            />\n          )\n        })}\n      </Col>\n      <Col sm={4}>\n        <div style={{ width: '100%', height: '400px' }}>\n          <GMap\n            containerElement={\n              <div style={{ height: `100%` }} />\n            }\n            mapElement={\n              <div style={{ height: `100%` }} />\n            }\n            latlng={latlng}\n            services={services}\n          />\n        </div>\n      </Col>\n    </Row>\n  )\n}\n","import React, { Component } from 'react';\n\nimport { Col, Form, FormGroup, InputGroup, Button, FormControl } from 'react-bootstrap';\n\n\nexport default class ServiceSearchBar  extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      queryTerm: '',\n      location: props.location.street_address\n    }\n\n    this.handleFormValChange = this.handleFormValChange.bind(this);\n  }\n\n  handleFormValChange(e, id=e.target.id) {\n    this.setState({ [id] : e.target.value });\n  }\n\n  render() {\n    return (\n      <Form horizontal>\n        <FormGroup>\n          <Col sm={12}>\n            <InputGroup>\n              {this.props.enableQueryTerm &&\n                <InputGroup.Addon>Find</InputGroup.Addon>\n              }\n              {this.props.enableQueryTerm &&\n                <FormControl\n                  type=\"text\"\n                  value={this.state.queryTerm}\n                  onChange={e => this.handleFormValChange(e, 'queryTerm')}\n                  placeholder=\"Dental service, language class...\"\n                />\n              }\n              <InputGroup.Addon>Near</InputGroup.Addon>\n              <FormControl\n                type=\"text\"\n                value={this.state.location}\n                onChange={e => this.handleFormValChange(e, 'location')}\n              />\n              <InputGroup.Button>\n                {this.props.enableQueryTerm ? (\n                  <Button\n                    onClick={e => this.props.search(this.state.queryTerm, this.state.location)}\n                  >\n                    Search\n                  </Button>\n                ) : (\n                  <Button\n                    onClick={e => this.props.search(this.state.location, this.props.needId)}\n                  >\n                    Search\n                  </Button>\n                )}\n              </InputGroup.Button>\n            </InputGroup>\n          </Col>\n        </FormGroup>\n      </Form>\n    );\n  }\n};\n","import React, { Component } from 'react';\nimport TR from '../shared/TR';\n\nimport { torontoCoordinates, serverHost } from '../../store/defaults.js';\n\nimport MatchedServices from './MatchedServices';\nimport ServiceList from './ServiceList';\nimport ServiceSearchBar from './ServiceSearchBar';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchNeed } from '../../store/actions/needActions.js'\n\nimport { Container, Row, Col, Table, Tabs, Tab } from 'react-bootstrap';\n// import { Grid, Table, Tabs, Tab } from \"@material-ui/core\";\n// import { Col, Label, Row} from 'react-bootstrap';\n// import SearchTabs from './NeedSearchTabs'\n\n// import PropTypes from 'prop-types';\n// import { makeStyles } from '@material-ui/core/styles';\n// import AppBar from '@material-ui/core/AppBar';\n// import { Typography } from '@material-ui/core';\n// import Box from '@material-ui/core/Box';\n\n\nclass Need extends Component {\n  constructor(props) {\n    super(props);\n\n    const need = props.needsById[props.match.params.need_id];\n    this.state = {\n      searchResult: [],\n      location: props.client.address ? { lat: parseFloat(props.client.address.lat), lng: parseFloat(props.client.address.lng) }: torontoCoordinates,\n      recommendedServices: (need && need.recommended_services) || []\n    }\n\n    this.handleSearchService = this.handleSearchService.bind(this);\n    this.handleSearchRecommendedServices = this.handleSearchRecommendedServices.bind(this);\n  }\n\n  componentWillMount() {\n    const id = this.props.match.params.need_id\n    this.props.dispatch(fetchNeed(id, need => {\n      this.setState({ recommendedServices: need.recommended_services })\n    }));\n  }\n\n  handleSearchService(queryTerm, location) {\n    const url = serverHost + '/services/search?query_term=' + queryTerm + '&location=' + location;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      })\n      .then(response => response.json())\n      .then(json => {\n        this.setState({ searchResult: json.data, location: json.location })\n      }\n    );\n  }\n\n  handleSearchRecommendedServices(location, needId) {\n    const url = serverHost + '/needs/' + needId + '/recommended_services?location=' + location;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      })\n      .then(response => response.json())\n      .then(json => {\n        this.setState({ recommendedServices: json.data, location: json.location })\n      }\n    );\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.need_id,\n          need = p.needsById[id],\n          client = p.client\n\n    function DeletedLabel({ is_deleted }) {\n      if (is_deleted) {\n        return (\n          <h4>\n            <div style={{color: 'rgb(213,87,79)'}}>Deleted</div>\n          </h4>\n        );\n      } else {\n        return null;\n      }\n    }\n\n    function UrgentLabel({ is_urgent }) {\n      if (is_urgent) {\n        return (\n          <h4>\n            <div style={{color: 'rgb(213,87,79)'}}>Urgent</div>\n          </h4>\n        );\n      } else {\n        return null;\n      }\n    }\n\n    // function TabPanel(props) {\n    //   const { children, value, index, ...other } = props;\n    \n    //   return (\n    //     <div\n    //       role=\"tabpanel\"\n    //       hidden={value !== index}\n    //       id={`simple-tabpanel-${index}`}\n    //       aria-labelledby={`simple-tab-${index}`}\n    //       {...other}\n    //     >\n    //       {value === index && (\n    //         <Box p={3}>\n    //           <Typography>{children}</Typography>\n    //         </Box>\n    //       )}\n    //     </div>\n    //   );\n    // }\n    \n    // TabPanel.propTypes = {\n    //   children: PropTypes.node,\n    //   index: PropTypes.any.isRequired,\n    //   value: PropTypes.any.isRequired,\n    // };\n    \n    // function a11yProps(index) {\n    //   return {\n    //     id: `simple-tab-${index}`,\n    //     'aria-controls': `simple-tabpanel-${index}`,\n    //   };\n    // }\n    \n    // const useStyles = makeStyles((theme) => ({\n    //   root: {\n    //     flexGrow: 1,\n    //     backgroundColor: theme.palette.background.paper,\n    //   },\n    // }));\n    \n    // function SearchTabs() {\n    //   const classes = useStyles();\n    //   const [value, setValue] = React.useState(0);\n    \n    //   const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    //   };\n    \n    //   return (\n    //     <div className={classes.root}>\n    //       <AppBar position=\"static\">\n    //         <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n    //           <Tab label=\"Recommended Services\" {...a11yProps(0)} />\n    //           <Tab label=\"Search for Services\" {...a11yProps(1)} />\n    //         </Tabs>\n    //       </AppBar>\n    //       <TabPanel value={value} index={0}>\n    //         recommended_services\n    //       </TabPanel>\n    //       <TabPanel value={value} index={1}>\n    //         Search for Services content\n    //       </TabPanel>\n    //     </div>\n    //   );\n    // }\n\n    // return (\n      \n    //   <Grid className=\"content\">\n    //     { need && need.loaded &&\n    //     <React.Fragment>\n    //       <Grid container>\n    //         <DeletedLabel is_deleted={need.is_deleted} />\n    //         <UrgentLabel is_urgent={need.is_urgent} />\n    //         <Table striped bordered condensed hover>\n    //           <tbody>\n    //             <TR\n    //               title=\"Type\"\n    //               value={need.type + need.matches.length}\n    //             />\n    //             <TR\n    //               title=\"Category\"\n    //               value={need.category}\n    //             />\n    //             <TR\n    //               title=\"Needed By\"\n    //               value={need.needed_by}\n    //             />\n    //             <TR\n    //               title=\"Description\"\n    //               value={need.description}\n    //             />\n    //             <TR\n    //               title=\"Condition\"\n    //               value={need.condition}\n    //             />\n    //             <TR\n    //               title=\"Status\"\n    //               value={need.status}\n    //             />\n    //             <TR\n    //               title=\"Languages\"\n    //               value={(need.languages || []).join(', ')}\n    //             />\n    //           </tbody>\n    //         </Table>\n    //       </Grid>\n    //       <div>\n    //       {(need.matches.length > 0) &&\n    //         <MatchedServices\n    //           clientId={client.id}\n    //           matches={need.matches}\n    //         />\n    //       }\n    //       </div>\n    //       <Grid container>\n    //         <SearchTabs />\n    //       </Grid>\n    //     </React.Fragment>\n    //     }\n    //   </Grid>\n    // )\n\n    return (\n      <Container className=\"content\">\n        { need && need.loaded &&\n          <Row>\n            <Col sm={12}>\n              <h3>Need</h3>\n            </Col>\n            <Col sm={12}>\n              <DeletedLabel is_deleted={need.is_deleted} />\n              <UrgentLabel is_urgent={need.is_urgent} />\n              <Table striped bordered condensed hover>\n                <tbody>\n                  <TR\n                    title=\"Type\"\n                    value={need.type}\n                  />\n                  <TR\n                    title=\"Category\"\n                    value={need.category}\n                  />\n                  <TR\n                    title=\"Needed By\"\n                    value={need.needed_by}\n                  />\n                  <TR\n                    title=\"Description\"\n                    value={need.description}\n                  />\n                  <TR\n                    title=\"Condition\"\n                    value={need.condition}\n                  />\n                  <TR\n                    title=\"Status\"\n                    value={need.status}\n                  />\n                  <TR\n                    title=\"Languages\"\n                    value={(need.languages || []).join(', ')}\n                  />\n                </tbody>\n              </Table>\n            </Col>\n            {(need.matches.length > 0) &&\n              <MatchedServices\n                clientId={client.id}\n                matches={need.matches}\n              />\n            }\n            <Col sm={12}>\n              <Tabs defaultActiveKey={1} id=\"serviceList\">\n                <Tab eventKey={1} title=\"RecommendedServices\">\n                  <ServiceSearchBar\n                    search={this.handleSearchRecommendedServices}\n                    location={client.address}\n                    needId={need.id}\n                  />\n                  {need.recommended_services && need.recommended_services.length > 0 &&\n                    <ServiceList\n                      need={need}\n                      services={this.state.recommendedServices}\n                      latlng={this.state.location}\n                    />\n                  }\n                </Tab>\n                <Tab eventKey={2} title=\"Search for Services\">\n                  <ServiceSearchBar\n                    search={this.handleSearchService}\n                    location={client.address}\n                    enableQueryTerm\n                  />\n                  {this.state.searchResult && this.state.searchResult.length > 0 &&\n                    <ServiceList\n                      need={need}\n                      services={this.state.searchResult}\n                      latlng={this.state.location}\n                    />\n                  }\n                </Tab>\n              </Tabs>\n            </Col>\n          </Row>\n        }\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    needsById: state.needs.byId,\n    client: state.clients.byId[state.needs.clientId]\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(Need);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, isLoggedin, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isLoggedin === true ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login-pane\" />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    isLoggedin: state.auth.isLoggedin\n  }\n}\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst AdminRoute = ({ component: Component, isLoggedin, isAdmin, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      (isLoggedin === true && isAdmin === true) ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login-pane\" />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    isAdmin: state.auth.currentUser && state.auth.currentUser.is_admin,\n    isLoggedin: state.auth.isLoggedin\n  }\n}\n\nexport default connect(mapStateToProps) (AdminRoute);\n","import React from 'react';\n// TODO: createProviderWithCSV  (CSV Upload)\nimport { fetchProviders, deleteProvider } from '../store/actions/providerActions.js'\n\nimport { formatLocation } from '../helpers/location_helpers'\nimport { formatPhoneNumber } from '../helpers/phone_number_helpers'\n\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'providers';\n\nconst formatProviderName = provider => {\n  const {profile} = provider;\n  if (provider.type === 'Individual')\n    return profile && profile.first_name + \" \" + profile.last_name;\n  else\n    return provider.company;\n};\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    label: 'Name',\n    body: ({id, profile, company, type}) => {\n      return <Link color to={`/${TYPE}/${id}`}>\n        {formatProviderName({\n          company, type, profile,\n        })}\n      </Link>\n    },\n  },\n  {\n    label: 'Type',\n    body: ({type}) => type,\n  },\n  {\n    label: 'Email',\n    body: ({profile}) => profile.email,\n  },\n  {\n    label: 'Phone Number',\n    body: ({profile}) => {\n      if (profile.primary_phone_number)\n        return formatPhoneNumber(profile.primary_phone_number);\n      return 'Not Provided';\n    }\n  },\n  {\n    name: 'main_address',\n    label: 'Address',\n    body: ({main_address}) => {\n      if (main_address)\n        return formatLocation(main_address);\n      return 'Not Provided';\n    }\n  },\n];\n\nexport default function Providers() {\n\n  const generateMarkers = (data, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageProviders = data.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageProviders.map(provider => ({\n      position: {lat: Number(provider.main_address.lat), lng: Number(provider.main_address.lng)},\n      title: formatProviderName(provider),\n      link: `/${TYPE}/${provider.id}`,\n      content: provider.main_address && formatLocation(provider.main_address),\n    })).filter(provider => provider.position.lat && provider.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchProviders}\n      deleteItem={deleteProvider}\n      generateMarkers={generateMarkers}\n      nameFormatter={formatProviderName}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nexport default class AddServicePrompt extends Component {\n  render() {\n    return(\n      <Row className=\"content\">\n        <Col sm={12}>\n          <h2>Would you like to add a service for this provider?</h2>\n          <hr />\n          <Link to=\"/service/new\">\n            <Button bsStyle=\"default\">\n              Yes\n            </Button>\n          </Link>{' '}\n          <Link to=\"/providers\">\n            <Button bsStyle=\"default\">\n              No\n            </Button>\n          </Link>\n        </Col>\n      </Row>\n    )\n  }\n}\n","import { recursiveAssign, isFieldEmpty, isAvailabilityEmpty, verifyAddressField,\n  verifyOtherAddressesFields, validateAddressPostalCode, validateContactFormat,\n  verifyEmail, verifyPhoneNumber} from \"./index\";\n\n\n// Verify the params filled in client form\nexport function provider_verify_form(form, steps) {\n  const format_messages = verifyFormFormat(form);\n  // const format_messages = {}\n  const required_field_msg = verifyRequiredField(form, steps);\n  return recursiveAssign(required_field_msg, format_messages);\n}\n\n/**\n * verify if every required field is filled in\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyRequiredField(form, steps) {\n  let result = {};\n  for (const step_page_fields of steps) {\n    // traverse each step page in steps\n    for (const [field, required] of Object.entries(step_page_fields)) {\n      if (required) {\n        if (field === 'availability' && isAvailabilityEmpty(form['operation_hours'])) {\n          result['availability'] = \"Please fill in at least one availability time slot!\";\n        } else if (field === 'main_address') {\n          result[field] = {};\n          verifyAddressField(form[field], result[field]);\n          if (Object.entries(result[field]).length === 0) {\n            delete result[field];\n          }\n        } else if (field === 'other_addresses') {\n          if (form[field].length === 0) {\n            // The user did not create an other address\n            result[field] = \"Please create at least one other address form!\"\n          } else {\n            // Some fields in other address are not filled in\n            result[field] = {};\n            verifyOtherAddressesFields(form[field], result[field])\n            if (Object.entries(result[field]).length === 0) {\n              delete result[field];\n            }\n          }\n        } else if (field === \"primary_contact\"){\n          verifyContactEmptiness(field, form, result, 'primary_contact')\n        } else if (field === 'secondary_contact'){\n          verifyContactEmptiness(field, form, result, 'secondary_contact')\n        } else {\n          verifyRequiredFieldByFormType(field, form, result)\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * verify format for various field\n * @param form\n * @returns a result obj {} with error messages added in corresponding key\n */\nfunction verifyFormFormat(form) {\n  let result = {}\n  // Verify postal code\n  validateAddressPostalCode(form.main_address.postal_code, result, 'main_address')\n  if (form.other_addresses.length > 0){\n    result['other_addresses'] = {};\n    let i = 0;\n    for (const address of form.other_addresses){\n      validateAddressPostalCode(address.postal_code, result['other_addresses'], i);\n      i++;\n    }\n    if (Object.entries(result['other_addresses']).length === 0) {\n      delete result['other_addresses'];\n    }\n  }\n\n  if(form.primary_contact.profile){\n    if (!!!result['primary_contact']){\n      // if field secondary_contact doesn't exist, create one first\n      result['primary_contact'] = {};\n    }\n    validateContactFormat(form.primary_contact.profile, result['primary_contact'])\n    if (Object.entries(result['primary_contact']).length === 0) {\n      delete result['primary_contact'];\n    }\n  }\n\n  if(form.secondary_contact.profile){\n    if (!!!result['secondary_contact']){\n      // if field secondary_contact doesn't exist, create one first\n      result['secondary_contact'] = {};\n    }\n    validateContactFormat(form.secondary_contact.profile, result['secondary_contact'])\n    if (Object.entries(result['secondary_contact']).length === 0) {\n      delete result['secondary_contact'];\n    }\n  }\n\n  if(form.reference1_email.length !== 0){\n    verifyEmail(form.reference1_email, 'reference1_email', result);\n  }\n  if(form.reference2_email.length !== 0){\n    verifyEmail(form.reference2_email, 'reference2_email', result);\n  }\n  if(form.reference1_phone.length !== 0){\n    verifyPhoneNumber(form.reference1_phone, 'reference1_phone', result);\n  }\n  if(form.reference2_phone.length !== 0){\n    verifyPhoneNumber(form.reference2_phone, 'reference2_phone', result);\n  }\n\n  if(form.type === \"Individual\"){\n    //check fields in form.profile\n    if(form.profile.email.length !== 0){\n      verifyEmail(form.profile.email, 'email', result);\n    }\n    if(form.profile.primary_phone_number.length !== 0){\n      verifyPhoneNumber(form.profile.primary_phone_number, 'primary_phone_number', result);\n    }\n    if(form.profile.alt_phone_number.length !== 0){\n      verifyPhoneNumber(form.profile.alt_phone_number, 'alt_phone_number', result);\n    }\n  }\n  return result;\n}\n\n/**\n * Check the field in contact emptiness and generate error message for the corresponding field\n * @param field\n * @param form\n * @param result\n * @param contactType Can be either \"primary_contact\" or \"secondary_contact\"\n */\nfunction verifyContactEmptiness(field, form, result, contactType){\n  for (const field of Object.keys(form[contactType]['profile'])){\n    if(isFieldEmpty(form[contactType]['profile'][field])){\n      if (!!!result[contactType]){\n        // if field contactType doesn't exist, create one first\n        result[contactType] = {};\n      }\n      result[contactType][field] = \"This field is required\"\n    }\n  }\n}\n\n/**\n * Verify required fields that are depends on form type, form type can either be \"Individual\" or \"Organization\".\n * @param field\n * @param form\n * @param result\n */\nfunction verifyRequiredFieldByFormType(field, form, result){\n  const org_ignore_fields = [\"email\", \"primary_phone_number\", \"alt_phone_number\", \"profile\"]\n  const individual_ignore_fields = [\"email\", \"primary_phone_number\", \"alt_phone_number\"]\n  if (form.type === \"Individual\"){\n    if (field in form['profile'] && isFieldEmpty(form['profile'][field])){\n      result[field] = 'This field is required';\n    } else if (field in form && !individual_ignore_fields.includes(field) && isFieldEmpty(form[field])) {\n      result[field] = 'This field is required';\n    }\n  } else if (form.type === 'Organization'){\n    if (field in form && !org_ignore_fields.includes(field) && isFieldEmpty(form[field])) {\n      result[field] = 'This field is required';\n    }\n  }\n}","import { getJson, postJson } from \"./index\";\n\n\nexport function fetchClientFields() {\n  return getJson('/settings/get_client_fields/');\n}\n\nexport function updateClientFields(params) {\n  return postJson('/settings/update_client_fields/', params);\n}\n\nexport async function fetchProviderFields(reformat = true) {\n  const data = await getJson('/settings/get_provider_fields/');\n  if (reformat) {\n    // transform to the same object as client fields\n    Object.keys(data).forEach(providerType => {\n      const formStructure = data[providerType].form_structure;\n      Object.keys(formStructure).forEach(stepName => {\n        const fields = formStructure[stepName];\n        formStructure && Object.keys(fields).forEach(fieldName => {\n          // skip questions\n          if (fields[fieldName].type !== 'field') return;\n          fields[fieldName] = fields[fieldName].required;\n        })\n      })\n    });\n  }\n  return data;\n}\n\nexport function updateProviderFields(params) {\n  return postJson('/settings/update_provider_fields/', params);\n}","import React, { useState } from 'react';\nimport { operationHourMapping, defaultTimeSlot } from '../../helpers/operation_hour_helpers'\n\nimport { IconButton, Typography, Grid } from '@material-ui/core';\nimport { Delete, Add, ArrowRightAltOutlined as Arrow } from '@material-ui/icons';\nimport { FieldsWrapper } from \"./index\";\nimport SelectField from \"./fields/SelectField\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Alert } from '@material-ui/core';\n\nimport { format } from 'date-fns';\nimport GeneralField, {dateFormat} from './fields/GeneralField.js'\n\nconst useStyles = makeStyles(theme => ({\n  weekday: {\n    minWidth: 110,\n    alignSelf: 'start',\n    top: 28,\n    position: 'relative',\n  },\n  day: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  times: {\n    display: 'flex',\n    minWidth: 350,\n    alignItems: 'start',\n    flexDirection: 'column'\n  },\n  date: {\n    display: 'flex',\n    width: 170,\n  },\n  time: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  select: {\n    minWidth: 120,\n    margin: 10,\n  },\n  button: {\n    position: 'relative',\n    top: 8,\n  },\n  arrow: {\n    paddingTop: 24,\n    marginLeft: 12,\n    marginRight: 12\n  }\n}));\n\nexport default function OperationHoursFieldGroup({operationHours, operationDates, errMsg}) {\n  const classes = useStyles();\n  // console.log(operationHours)\n  // A way to achieve forceUpdate()\n  const [state, update] = useState(true);\n  const forceUpdate = () => update(!state);\n\n  const handleOperationHourOnClick = (e, weekDay, action) => {\n    if (action === 'add') {\n      operationHours[weekDay].push({...defaultTimeSlot})\n    } else {\n      operationHours[weekDay].pop()\n    }\n    forceUpdate();\n  };\n\n  const handleChange = (e, weekDay, slotIndex, id) => {\n    const value = e.target.value;\n    operationHours[weekDay][slotIndex][id] = value == null ? '' : value;\n    forceUpdate();\n  };\n\n  return (\n    <FieldsWrapper label=\"Availability\">\n\n      {operationDates.map(({start_date: startDate, end_date: endDate}, idx) => {\n        // default is today\n        if (startDate == null) startDate = operationDates[idx].start_date = format(new Date(), dateFormat);\n\n        return (\n          <Grid container direction=\"row\" alignItems=\"center\" key={idx}>\n            <GeneralField\n              label=\"Start Date\"\n              className={classes.date}\n              type=\"date\"\n              value={startDate}\n              onChange={e => operationDates[idx].start_date = e.target.value}\n            />\n            <Arrow className={classes.arrow}/>\n            <GeneralField\n              label=\"End Date\"\n              className={classes.date}\n              type=\"date\"\n              value={endDate}\n              onChange={e => operationDates[idx].end_date = e.target.value}\n              helperText={\"leave empty if not sure\"}\n            />\n            {idx === (operationDates.length - 1) &&\n            <IconButton\n              className={classes.button}\n              onClick={e => {\n                operationDates.push({start_date: null, end_date: null});\n                forceUpdate();\n              }}\n              size=\"large\">\n              <Add/>\n            </IconButton>\n            }\n            {idx !== 0 && idx === (operationDates.length - 1) &&\n            <IconButton\n              className={classes.button}\n              onClick={e => {\n                operationDates.splice(idx, 1);\n                forceUpdate();\n              }}\n              size=\"large\">\n              <Delete/>\n            </IconButton>\n            }\n          </Grid>\n        );\n      })}\n\n\n      {Object.entries(operationHours).map(([weekDay, timeSlots]) => {\n        return (\n          <div key={weekDay} className={classes.day}>\n            <Typography color=\"textSecondary\" variant=\"subtitle1\" className={classes.weekday}>\n              {weekDay}\n            </Typography>\n            <div className={classes.times}>\n              {timeSlots.map((time, idx) => {\n                return (\n                  <div key={idx} className={classes.time}>\n                    <SelectField\n                      className={classes.select}\n                      value={time.start_time}\n                      label=\"Start\"\n                      options={operationHourMapping}\n                      onChange={e => handleChange(e, weekDay, idx, 'start_time', 'change')}\n                      // InputLabelProps={{ shrink: true }}\n                      // variant=\"outlined\"\n                    />\n                    <SelectField\n                      className={classes.select}\n                      value={time.end_time}\n                      label=\"End\"\n                      options={operationHourMapping}\n                      onChange={e => handleChange(e, weekDay, idx, 'end_time')}\n                      // InputLabelProps={{ shrink: true }}\n                    />\n                    {idx === (timeSlots.length - 1) &&\n                    <IconButton\n                      className={classes.button}\n                      onClick={e => handleOperationHourOnClick(e, weekDay, 'add')}\n                      size=\"large\">\n                      <Add/>\n                    </IconButton>\n                    }\n                    {idx !== 0 && idx === (timeSlots.length - 1) &&\n                    <IconButton\n                      className={classes.button}\n                      onClick={e => handleOperationHourOnClick(e, weekDay, 'remove')}\n                      size=\"large\">\n                      <Delete/>\n                    </IconButton>\n                    }\n                  </div>\n                );\n              })}\n            </div>\n\n          </div>\n        );\n      })}\n      {errMsg &&\n      <Alert severity=\"error\">{errMsg}</Alert>}\n    </FieldsWrapper>\n  );\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { providerFields, providerFormTypes, providerCategoryValue2Key } from '../../constants/provider_fields.js'\nimport { defaultProfileFields, defaultContactFields } from '../../constants/default_fields.js'\nimport {\n  operationHourObjectToList\n} from '../../helpers/operation_hour_helpers';\nimport { provider_verify_form } from \"../../helpers/provider_verify_form\";\n\n// redux\nimport { useHistory, useParams } from 'react-router';\nimport { useDispatch } from 'react-redux'\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\nimport { createProvider, updateProvider } from '../../store/actions/providerActions.js'\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { fetchProviderFields } from '../../api/settingApi';\n\n// components\nimport FieldGroup from '../shared/FieldGroup';\nimport OperationHoursFieldGroup from '../shared/OperationHoursFieldGroup';\nimport LocationFieldGroup from '../shared/LocationFieldGroup';\n\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { generateProviderFields } from \"../../constants/default_fields\";\nimport { FormStepper, Loading, FieldsWrapper, OtherLocationsFields } from \"../shared\";\nimport { Container } from \"@material-ui/core\";\nimport { fetchProvider } from \"../../store/actions/providerActions\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    width: '80%',\n    margin: 'auto',\n    paddingBottom: 10,\n  },\n  addressPaper: {\n    position: 'relative',\n    paddingLeft: 28,\n    paddingBottom: 20,\n    width: 380,\n  }\n}));\n\nexport default function ProviderForm() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {id, formType: category} = useParams();\n  const mode = id ? 'edit' : 'new';\n  const [state, setState] = useState({\n    loading: true,\n    category: category,\n    languageOptions: [],\n    eligibilities: [],\n    stepNames: [],\n    steps: [],\n    provider: null,\n    dispatchErrorMsg: [],\n    fieldErrorMsg: {},\n  });\n\n  /**\n   * Provider Type\n   * @type {('Organization', 'Individual')}\n   */\n  const providerType = useMemo(() => {\n    if (mode === 'new')\n      return category === 'organization' ? 'Organization' : 'Individual';\n    else {\n      if (state.provider) return state.provider.category === 'organization' ? 'Organization' : 'Individual';\n    }\n  }, [state.provider, category, mode]);\n\n  // DO NOT store form as state, it degrades the performance as all form got rendered every time user type anything.\n  // Instead, for large form like this page, store the form as a variable and pass it to child components (input)\n  const form = useMemo(() =>\n      generateProviderFields(providerType, state.category, state.provider),\n    [providerType, state.category, state.provider]);\n\n  const load = useCallback((category) => {\n    console.log(category);\n    const promises = [];\n    promises.push(dispatch(fetchOntologyCategories('languages'))\n      .then(data => setState(state => ({...state, languageOptions: data}))));\n    promises.push(fetchProviderFields()\n      .then(data => {\n        // no fields is available\n        if (data[category] == null || data[category].steps_order.length === 0\n          || Object.values(data[category].form_structure).length === 0) {\n          setState(state => ({...state, loading: true, errorMessage: ['No fields are available.']}));\n        } else {\n          setState(state => ({\n            ...state,\n            stepNames: data[category].steps_order,\n            steps: Object.values(data[category].form_structure)\n          }));\n        }\n      }));\n    Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  }, [dispatch]);\n\n  useEffect(() => {\n    // load provider first if editing\n    if (id) {\n      dispatch(fetchProvider(id))\n        .then(({provider}) => {\n          const cat = provider.type === 'Organization' ? 'organization' : providerCategoryValue2Key[provider.category];\n          setState(state => ({...state, provider: provider, category: cat}));\n          load(cat);\n        });\n    } else {\n      load(category);\n    }\n  }, [dispatch, id, category, load]);\n\n  const handleFinish = () => {\n    const newForm = {...form};\n    newForm['operation_hours'] = operationHourObjectToList(newForm['operation_hours']);\n    if (newForm.status === '') newForm.status = undefined;\n    console.log(newForm);\n    // TODO: pretty error message\n    const fieldErrorMsg = provider_verify_form(form, state.steps);\n    if (Object.keys(fieldErrorMsg).length !== 0) {\n      setState(state => ({...state, fieldErrorMsg}));\n      return;\n    }\n    if (mode === 'edit') {\n      dispatch(\n        updateProvider(id, newForm, (status, err, id) => {\n          if (status === ACTION_SUCCESS) {\n            history.push(`/providers/${id}`)\n          } else {\n            setState(state => ({...state, errorMessage: [err.toString()]}));\n          }\n        })\n      );\n    } else {\n      dispatch(\n        createProvider(newForm, (status, err, id) => {\n          if (status === ACTION_SUCCESS) {\n            history.push('/providers/' + id)\n          } else {\n            setState(state => ({...state, errorMessage: [err.toString()]}));\n          }\n        }));\n\n    }\n  };\n\n  /**\n   * Handle changes in form\n   * @param name {string}\n   * @returns {Function}\n   */\n  const handleChange = useCallback(name => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n  }, [form]);\n\n  const getStepContent = idx => {\n    const step = state.steps[idx];\n    if (!step) return null;\n    return <div className={classes.content}>\n      {Object.entries(step).map(([field, required]) => {\n        // The field is not a normal field, i.e. questions\n        // const isQuestion = typeof required === 'object';\n\n        let options;\n        const errMsg = state.fieldErrorMsg[field];\n        if (field === 'languages') {\n          options = state.languageOptions;\n        }\n\n        if (field === 'main_address') {\n          return (\n            <FieldsWrapper label=\"Main address\" key={field}>\n              <LocationFieldGroup\n                address={form.main_address}\n                required={required}\n                errMsg={errMsg}\n              />\n            </FieldsWrapper>\n          );\n        } else if (field === 'other_addresses') {\n          return (\n            <OtherLocationsFields\n              key={field}\n              otherLocations={form.other_addresses}\n              required={required}\n              errMsg={errMsg}\n            />\n          );\n        } else if (field === 'primary_contact' || field === 'secondary_contact') {\n          return (\n            <FieldsWrapper key={field} label={providerFields[field].label}>\n              {Object.keys(defaultContactFields).map(contactField => {\n                return (\n                  <FieldGroup\n                    key={contactField}\n                    label={providerFields[contactField]['label']}\n                    type={providerFields[contactField]['type']}\n                    component={providerFields[contactField]['component']}\n                    value={form[field]['profile'][contactField]}\n                    onChange={handleChange(field + '.' + contactField)}\n                    error={errMsg == null? false : errMsg[contactField] != null}\n                    helperText={!!errMsg? errMsg[contactField] : null}\n                  />\n                )\n              })}\n            </FieldsWrapper>\n          )\n        } else if (field === 'availability') {\n          return (\n            <OperationHoursFieldGroup\n              key={field}\n              operationHours={form.operation_hours}\n              operationDates={form.operation_dates}\n              errMsg={errMsg}\n            />\n          )\n        } else if (field === 'notes') {\n          return (\n            <GeneralField\n              key={field}\n              label={providerFields[field].label}\n              value={form[field]}\n              onChange={handleChange(field)}\n              required={required}\n              multiline\n              variant=\"outlined\"\n              fullWidth\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          )\n        } else {\n          const isProfile = Object.keys(defaultProfileFields).includes(field);\n          // only individual has field \"profile\"\n          if (isProfile && providerType !== \"Individual\") return null;\n          let fieldProps = providerFields[field];\n          if (fieldProps == null) fieldProps = {};\n          return (\n            <FieldGroup\n              key={field}\n              label={providerFields[field].label}\n              type={providerFields[field].type}\n              component={providerFields[field].component}\n              value={isProfile ? form.profile[field] : form[field]}\n              onChange={handleChange(isProfile ? 'profile.' + field : field)}\n              required={required}\n              options={providerFields[field].options || options}\n              error={errMsg != null}\n              helperText={errMsg}\n            />\n          );\n        }\n      })}\n    </div>\n  };\n\n  if (state.loading)\n    return <Loading message={`Loading...`}/>;\n\n  console.log(state.category);\n  return (\n    <Container>\n      <FormStepper\n        getStepContent={getStepContent}\n        handleFinish={handleFinish}\n        stepNames={state.stepNames}\n        error={state.dispatchErrorMsg}\n        title={(mode === 'new' ? 'Create ' : 'Edit ') + providerFormTypes[state.category]}\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport _ from 'lodash';\n\nimport TR from '../../shared/TR';\nimport { defaultContactFields } from '../../../constants/default_fields.js'\nimport { formatLocation } from '../../../helpers/location_helpers';\nimport { formatPhoneNumber } from '../../../helpers/phone_number_helpers';\nimport { operationHourListToObject, OperationHourTable }\n  from '../../../helpers/operation_hour_helpers';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport useProfileTableStyles from '../../../stylesheets/profile-table'\n\nexport default function ProviderInfoTable({ step, provider, infoFields, providerFields }) {\n  let rowTitle, rowValue;\n  const infoRows = _.map(infoFields, (data, fieldId) => {\n    if (data.type === 'field') {\n      rowTitle = providerFields[fieldId].label;\n      switch(fieldId) {\n        case 'first_name':\n        case 'middle_name':\n        case 'last_name':\n        case 'preferred_name':\n        case 'gender':\n        case 'birth_date':\n        case 'email':\n          if (provider.type === 'Individual') {\n            rowValue = provider.profile[fieldId];\n          } else {\n            rowValue = provider[fieldId];\n          }\n          break;\n        case 'primary_phone_number':\n        case 'alt_phone_number':\n          if (provider.type === 'Individual') {\n            rowValue = provider.profile[fieldId] ? formatPhoneNumber(provider.profile[fieldId]) : 'None provided';\n          } else {\n            rowValue = provider[fieldId] ? formatPhoneNumber(provider[fieldId]) : 'None provided';\n          }\n          break;\n        case \"main_address\":\n          rowValue = provider[fieldId] ? formatLocation(provider[fieldId]) : \"None provided\";\n          break;\n        case \"other_addresses\":\n          if (provider[fieldId]) {\n            rowValue = _.map(provider[fieldId], (address, index) =>\n              <p key={index}>{formatLocation(address)}</p>)\n          }\n          else {\n            rowValue = null;\n          }\n          break;\n        case \"languages\":\n          rowValue = (provider[fieldId] || []).join(', ')\n          break;\n        case \"availability\":\n          const operation_hours = operationHourListToObject(provider.operation_hours)\n          rowValue = <OperationHourTable operationHourObj={operation_hours} />\n          break;\n        case 'primary_contact':\n        case 'secondary_contact':\n          if (provider[fieldId]) {\n            rowValue = _.map(_.keys(defaultContactFields), contactField => {\n              if (provider[fieldId]['profile'][contactField]) {\n                return (\n                  <li key={contactField}>\n                    {`${providerFields[contactField]['label']}: ${provider[fieldId]['profile'][contactField]}`}\n                  </li>\n                )\n              }\n            })\n          }\n          else {\n            rowValue = null;\n          }\n          break;\n\n        default:\n          rowValue = provider[fieldId];\n      }\n    }\n    else if (data.type === 'question') {\n      rowTitle = fieldId;\n      const response = _.find(provider.responses, response => {\n        return response.question_id === data.id.toString()\n      })\n      if (response) {\n        rowValue = response.text\n      }\n      else {\n        rowValue = null;\n      }\n    }\n    return (\n      <TR\n        key={fieldId}\n        title={rowTitle}\n        value={rowValue}\n      />\n    );\n  })\n\n  const classes = useProfileTableStyles()\n  return (\n    <TableContainer className={classes.table} component={Paper}>\n      <Table aria-label=\"Profile table\">\n        <TableHead>\n          <TableRow >\n            <TableCell className={classes.title}>{step}</TableCell>\n            <TableCell className={classes.title2}></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {infoRows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n","import React, { Component } from 'react';\n\nimport { Button, FormGroup, FormControl, FormLabel, Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { rateProvider } from '../../store/actions/providerActions.js';\nimport StarRatingComponent from 'react-star-rating-component';\n\nclass ProviderRatingForm extends Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.handleStarSelection=this.handleStarSelection.bind(this);\n\t\tthis.handleCommentChange=this.handleCommentChange.bind(this);\n    this.handleSubmit=this.handleSubmit.bind(this);\n    this.handleTextRating=this.handleTextRating.bind(this);\n    const id = this.props.match.params.id\n    this.state = {\n      id: id,\n\t\t\trating: 0,\n      comment: ''\n    }\n  }\n\n  handleStarSelection(nextValue, name) {\n    this.setState({rating: nextValue});\n  }\n\n  handleTextRating(e) {\n    this.setState({rating: e.target.value});\n  }\n  handleCommentChange(e) {\n    this.setState({comment: e.target.value});\n  }\n  handleSubmit(e) {\n    const id = this.props.match.params.id\n    this.props.dispatch(rateProvider(id, this.state));\n    this.props.history.push('/provider/' + id);\n  }\n\n  render() {\n    return (\n      <div className=\"content\">\n        <Col sm={9}>\n          <h3> Rate Provider </h3>\n          <hr/>\n        </Col>\n\n        <FormGroup controlId=\"rating\">\n          <Col componentClass={FormLabel} sm={5}>\n            Rate this provider (0-5)\n          </Col>\n          <Col sm={9}>\n            <FormControl\n              type=\"text\"\n              placeholder=\"A number between 0 and 5\"\n              value={this.state.rating}\n              onChange={this.handleTextRating}\n            />\n          </Col>\n        </FormGroup>\n        <Col sm={9}>\n          <StarRatingComponent\n            name=\"rating\"\n            starCount={5}\n            value={this.state.rating}\n            onStarClick={this.handleStarSelection}\n          />\n        </Col>\n        <Col sm={9}>\n          <hr/>\n          <FormGroup controlId=\"comments\">\n            <FormLabel>Comments</FormLabel>\n            <FormControl\n              componentClass=\"textarea\"\n              placeholder=\"Comments about this provider...\"\n              onChange={this.handleCommentChange}\n            />\n          </FormGroup>\n        </Col>\n        <Col sm={9}>\n          <Button type=\"submit\" onClick={this.handleSubmit}> Submit </Button>\n        </Col>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    providersById: state.providers.byId || {},\n    providerLoaded: state.providers.indexLoaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(ProviderRatingForm);\n","import React from 'react'\nimport { Link } from './shared';\nimport { fetchServices, deleteService } from '../store/actions/serviceActions.js'\nimport { GenericPage } from \"./shared\";\n\nconst TYPE = 'services';\n\nconst formatProvider = ({provider}) => {\n  return provider.type === 'Organization' ? provider.company\n    : (provider.profile ? `${provider.profile.first_name} ${provider.profile.last_name}` : 'Not provided')\n};\n\nconst columnsWithoutOptions = [\n  {\n    label: 'Name',\n    body: ({id, name}) => {\n      return <Link color to={`/${TYPE}/${id}`}>{name}</Link>\n    }\n  },\n  {\n    label: 'Provider',\n    body: ({provider}) => {\n      return  <Link color to={`/providers/${provider.id}`}>\n        {formatProvider({provider})}\n      </Link>\n    }\n  },\n  {\n    label: 'Description',\n    body: ({desc}) => desc\n  },\n  {\n    label: 'Category',\n    body: ({category}) => category\n  }\n];\n\nexport default function Services() {\n\n  const nameFormatter = service => service.name;\n\n  const generateMarkers = (data, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    const currPageServices = data.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage);\n    return currPageServices.map(service => ({\n      position: {lat: Number(service.location.lat), lng: Number(service.location.lng)},\n      title: service.name,\n      link: `/${TYPE}/${service.id}`,\n      content: service.desc,\n    })).filter(service => service.position.lat && service.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchServices}\n      deleteItem={deleteService}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n      tableOptions={{\n        idField: 'id'\n      }}\n    />\n  )\n}\n","export function formatEligibilityConditions(condType, condValue) {\n  if (condValue instanceof Array) {\n    return `${condType}: ${condValue.join(', ')}`\n  }\n  else {\n    return `${condType}: ${condValue}`\n  }\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport TR from '../shared/TR'\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchService } from '../../store/actions/serviceActions.js'\n\nimport { formatLocation } from '../../helpers/location_helpers'\nimport { formatEligibilityConditions } from '../../helpers/eligibility_condition_helpers'\n\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@material-ui/icons\";\n\nclass Service extends Component {\n  componentWillMount() {\n    const id = this.props.match.params.id\n    this.props.dispatch(fetchService(id));\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.id,\n          service = p.servicesById[id];\n\n    return (\n      <div className=\"content client\">\n        <h3>Service Profile</h3>\n        <Link to={`/services/${service.id}/edit`}>\n          <Button bsStyle=\"primary\">\n            Edit\n          </Button>\n        </Link>{' '}\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n\n        { service && service.servicesLoaded &&\n          <Table striped bordered condensed hover>\n            <tbody>\n              <TR\n                title=\"Name\"\n                value={service.name}\n              />\n\n              <TR\n                title=\"Type\"\n                value={service.type}\n              />\n              <TR\n                title=\"Description\"\n                value={service.desc}\n              />\n              <TR\n                title=\"Category\"\n                value={service.category}\n              />\n              <TR\n                title=\"Eligibility\"\n                value={service.eligibility}\n              />\n              <TR\n                title=\"Available from\"\n                value={service.available_from}\n              />\n              <TR\n                title=\"Available until\"\n                value={service.available_to}\n              />\n              <TR\n                title=\"Languages\"\n                value={(service.languages || []).join(', ')}\n              />\n              <TR\n                title=\"Max Capacity\"\n                value={service.max_capacity}\n              />\n              <TR\n                title=\"Current capacity\"\n                value={service.current_capacity}\n              />\n              <TR\n                title=\"Frequency\"\n                value={service.frequency}\n              />\n              <TR\n                title=\"Billable\"\n                value={service.billable}\n              />\n              <TR\n                title=\"Price\"\n                value={service.price}\n              />\n              <TR\n                title=\"Method of delivery\"\n                value={service.method_of_delivery}\n              />\n              <TR\n                title=\"Method of registration\"\n                value={service.method_of_registration}\n              />\n              <TR\n                title=\"Registration\"\n                value={service.registration}\n              />\n              <TR\n                title=\"Contact Person Email\"\n                value={service.email}\n              />\n              <TR\n                title=\"Contact Person Phone\"\n                value={service.primary_phone_number}\n              />\n              <TR\n                title=\"Secondary Phone\"\n                value={service.alt_phone_number}\n              />\n              <tr>\n                <td><b>Location</b></td>\n                <td>{formatLocation(service.location)}</td>\n              </tr>\n\n              {_.keys(_.omit(service.eligibility_conditions, ['lower_age_limit', 'upper_age_limit'])) > 0 &&\n                <tr>\n                  <td><b>Eligibility Conditions</b></td>\n                  <td>\n                    {_.map(\n                        _.omit(service.eligibility_conditions, ['lower_age_limit', 'upper_age_limit']\n                      ), (value, type) => {\n                      return (\n                        <li key={type}>\n                          {formatEligibilityConditions(type, value)}\n                        </li>\n                      );\n                    })}\n                    {service.eligibility_conditions.lower_age_limit &&\n                      <li>\n                        {formatEligibilityConditions('Age greater than' , service.eligibility_conditions.lower_age_limit)}\n                      </li>\n                    }\n                    {service.eligibility_conditions.upper_age_limit &&\n                      <li>\n                        {formatEligibilityConditions('Age less than' , service.eligibility_conditions.upper_age_limit)}\n                      </li>\n                    }\n                  </td>\n                </tr>\n              }\n              <TR\n                title=\"Public?\"\n                value={service.is_public ? 'Yes': 'No'}\n              />\n              <TR\n                title=\"Share with\"\n                value={(service.share_with || []).join(', ')}\n              />\n              <TR\n                title=\"Notes\"\n                value={service.notes}\n              />\n              <tr>\n                <td><b>Provider</b></td>\n                <td>\n                  <Link to={`/provider/${service.provider.id}`}>\n                    {(service.provider.type === 'Organization') ?\n                      service.provider.company\n                    :\n                      `${service.provider.profile.first_name} ${service.provider.profile.last_name}`\n                    }\n                  </Link>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servicesById: state.services.byId,\n    serviceLoaded: state.services.indexLoaded\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(Service);\n","import { statusInCanadaOptions, genderOptions, educationLevelOptions, countryOptions, languageOptions, provinceOptions, incomeSourceOptions, maritalStatusOptions} from '../../store/defaults';\nimport React, { useEffect, useState, useMemo, useCallback, Comopnent } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport { fetchEligibilities } from '../../api/eligibilityApi';\nimport { serverHost } from '../../store/defaults';\n\n\n// export default function  something() {\n//   // const dispatch = useDispatch();\n//   const [state, setState] = useState({\n//     loading: true,\n//     languageOptions: [],\n//     all_ngo_conditions: [],\n//     stepNames: [],\n//     steps: [],\n//     client: null,\n//     dispatchErrorMsg: [],\n//     fieldErrorMsg: {},\n//   });\n  \n//   // useEffect(() => {\n//     const promises = [];\n//     promises.push(fetchOntologyCategories('languages')\n//       .then(data => setState(state => ({...state, languageOptions: data}))));\n//     promises.push(fetchEligibilities()\n//       .then(data => {\n//         setState(state => ({...state, all_ngo_conditions: data.map(data => data.title)}))\n//       }));\n//     Promise.all(promises).then(() => setState(state => ({...state, loading: false})));\n  \n//     // }, [dispatch]);\n\n//   return promises\n// }\n// const appRes = something()\n// console.log(\"conditionConfig:\", appRes)\n\n\n\n\n// const ontologyCategories = fetchOntologyCategories('languages')\n// console.log(\"conditionConfig: \", ontologyCategories)\n\n\n// const ngoEligibilities = fetchEligibilities('languages')\n// console.log(\"conditionConfig: \", all_ngo_conditions)\n// const all_ngo_conditions= ngoEligibilities.map(data => data.title)\n\n// const ontologyRes = retrieveOnotologyStoreConditionConfig()\n// console.log(\"conditionConfig\", ontologyRes)\n\n\n// const data = await fetchEligibilities().then(data => {return data=> data.title})\n// For reference\nconst conditions = [\"age\", \"alt_phone_number\", \"apt_number\", \"arrival_date\", \"birth_date\", \"city\", \"completed_education_level\",\n  \"country_of_last_residence\", \"country_of_origin\", \"current_education_level\", \"email\", \"first_language\", \"first_name\", \"gender\",\n  \"has_children\", \"immigration_doc_number\", \"income_source\", \"landing_date\", \"last_name\", \"lat\", \"lng\", \"marital_status\", \"middle_name\",\n  \"ngo_conditions\", \"num_of_children\", \"num_of_dependants\", \"other_languages\", \"phone_numbers\", \"postal_code\", \"pr_number\", \"preferred_name\",\n  \"primary_phone_number\", \"province\", \"service_set\", \"status_in_canada\", \"street_address\"]\n\nconst compareOps = ['<', '>', '<=', '>=', '=='];\nconst IN = ['in'];\nconst IS = ['=='];\n\nexport const TYPE = {\n  NUMBER: 1,\n  DATE: 2,  // use case? not implemented.\n  STRING: 3,\n  BOOLEAN: 4,  // use case? not implemented.\n  LIST: 5\n};\n\nexport const defaultConfig = {\n  operators: [...compareOps, ...IN],\n  type: TYPE.STRING\n};\n\nexport const eligibilityConditionHideItems = [\"alt_phone_number\", \"apt_number\", \"city\", \"landing_date\", \"last_name\", \"middle_name\",\n  \"phone_numbers\", \"postal_code\", \"pr_number\", \"preferred_name\", \"primary_phone_number\", \"service_set\", \"street_address\"\n]\n\nexport const eligibilityConditionConfigs = {\n  // NOTE: In alphabetic order\n  age: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  arrival_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  birth_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  completed_education_level: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: educationLevelOptions,\n    multipleSelect: true\n  },\n  // Where to retrieve coutry options?\n  country_of_last_residence: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: countryOptions,\n    multipleSelect: true\n  }, \n  country_of_origin: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: countryOptions,\n    multipleSelect: true\n  },\n  current_education_level: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: educationLevelOptions,\n    multipleSelect: true\n  },\n  // Where to retrieve language options, Ontology or default.js?\n  first_language: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: [],\n    multipleSelect: true\n  },\n  gender: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: genderOptions,\n    multipleSelect: true,\n  },\n  has_children: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: ['True', 'False'],\n    multipleSelect: true\n  },\n  income_source: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: incomeSourceOptions,\n    multipleSelect: true\n  },\n  landing_date: {\n    operators: compareOps,\n    type: TYPE.DATE\n  },\n  lat: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  lng: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  marital_status: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: maritalStatusOptions,\n    multipleSelect: true\n  },\n  // Get NGO condition\n  ngo_conditions: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: ['example'],\n    multipleSelect: true\n  },\n  num_of_children: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  num_of_dependants: {\n    operators: compareOps,  // operators\n    type: TYPE.NUMBER  // right operand data type\n  },\n  other_languages: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: languageOptions,\n    multipleSelect: true\n  },\n  province: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: provinceOptions,\n    multipleSelect: true\n  },\n  status_in_canada: {\n    operators: IN,\n    type: TYPE.LIST,\n    options: statusInCanadaOptions,  // only for list data type\n    multipleSelect: true  // is multiple select?\n  }\n};\n\n\nexport const nameFunc = () => {\n  const languagesUrl = serverHost + '/categories/languages/';\n  const promises = [];\n  promises.push(fetch(languagesUrl)\n    .then(response => response.json())\n    .then(data => {eligibilityConditionConfigs.first_language.options = data.categories;\n      eligibilityConditionConfigs.other_languages.options = data.categories}));\n  promises.push(fetchEligibilities()\n    .then(data => eligibilityConditionConfigs.ngo_conditions.options= data.map(data => data.title)));\n  Promise.all(promises)\n}\n// nameFunc()\n\n","import React, { useEffect, useState } from 'react';\nimport { Paper, TextField, Grid, Button, IconButton } from \"@material-ui/core\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport { Add as AddIcon, Delete as DeleteIcon } from '@material-ui/icons'\n\nimport { fetchFormulaFields } from \"../../api/formulaApi\";\nimport { escapeList, escapeString, titleCase, unescapeList, unescapeString } from \"../../helpers/formulaHelpers\";\nimport { eligibilityConditionConfigs, TYPE, defaultConfig, eligibilityConditionHideItems } from \"./conditionConfig\";\nimport { educationLevelOptions } from \"../../store/defaults\";\nimport MultiSelectField from \"../shared/fields/MultiSelectField\";\n\n\nexport function CustomEligibilityField({value, handleChange, fields, onDelete}) {\n\n  const [state, setState] = useState({\n    operator: value[1] || '', // duplicate state\n    ...(eligibilityConditionConfigs[value[0]] || defaultConfig)\n  });\n\n  const handleLeftOperandChange = e => {\n    const leftOperand = e.target.value;\n    const changes = {leftOperand, rightOperand: ''};\n\n    const config = eligibilityConditionConfigs[leftOperand] || defaultConfig;\n\n    const ops = config.operators;\n    if (!ops.includes(value[1])) {\n      changes.operator = ops[0];\n      setState(state => ({...state, operator: ops[0], ...config}));\n    } else {\n      setState(state => ({...state, ...config}));\n    }\n    handleChange(changes);\n    value[2] = '';\n  };\n  let rightOperand;\n  if (state.type === TYPE.STRING) {\n    rightOperand =\n      <TextField\n        style={{marginLeft: 20}}\n        label=\"Right Operand\"\n        defaultValue={unescapeString(value[2])}\n        onChange={e => handleChange({rightOperand: escapeString(e.target.value)})}/>;\n  } else if (state.type === TYPE.NUMBER) {\n    rightOperand =\n      <TextField\n        style={{marginLeft: 20}}\n        label=\"Right Operand\"\n        defaultValue={typeof + value[2] === \"number\" ? value[2] : 0}\n        onChange={e => handleChange({rightOperand: e.target.value})}/>;\n  } else if (state.type === TYPE.LIST && state.multipleSelect) {\n    rightOperand =\n      <MultiSelectField\n        label=\"Right Operand\"\n        options={state.options}\n        value={unescapeList(value[2]) || []} // warning: this is a list\n        onChange={e => handleChange({rightOperand: escapeList(e.target.value)})}\n        noDefaultStyle\n      />\n  } else if (state.type === TYPE.LIST && !state.multipleSelect) {\n    rightOperand =\n      <SelectField\n        style={{marginRight: 20}}\n        noEmpty\n        noDefaultStyle\n        options={state.options}\n        value={value[2]} // warning: this is a string\n        label=\"Right Operand\"\n        onChange={e => handleChange({rightOperand: e.target.value})}/>\n  } else {\n    rightOperand = 'Not implemented';\n  }\n\n  return (\n    <div style={{padding: 20}}>\n      <Grid container direction=\"row\" spacing={1}>\n        <SelectField\n          style={{marginRight: 20}}\n          noEmpty\n          noDefaultStyle\n          options={fields}\n          value={value[0]}\n          label=\"Field\"\n          onChange={handleLeftOperandChange}/>\n        <SelectField\n          style={{width: 60}}\n          noEmpty\n          noDefaultStyle\n          options={state.operators}\n          label=\"Operator\"\n          value={state.operator}\n          controlled\n          onChange={e => {\n            const operator = e.target.value;\n            setState(state => ({...state, operator}));\n            handleChange({operator});\n          }}/>\n        {rightOperand}\n        <IconButton onClick={onDelete} size=\"large\">\n          <DeleteIcon/>\n        </IconButton>\n      </Grid>\n    </div>\n  );\n}\n\nexport default function EligibilityCondition({value: originalValue, formValChange}) {\n  /**\n   * @type {[{condition_clauses: [field_name, clauses: [{left_operand, right_operand, operator}]]}]}\n   **/\n  const [value, setValue] = useState(originalValue);\n\n  const [fields, setFields] = useState({});\n\n  useEffect(() => {\n    fetchFormulaFields().then(({fields, dynamic_fields, functions}) => {\n      const fieldsObj = {};\n      console.log(fields)\n      fields.forEach(field => {\n        if (!eligibilityConditionHideItems.includes(field))\n          fieldsObj[field] = titleCase(field)\n      });\n      setFields(fieldsObj);\n    })\n  }, []);\n\n  const handleFieldChange = clause => ({leftOperand, operator, rightOperand}) => {\n    clause[0] = leftOperand || clause[0];\n    clause[1] = operator === undefined ? clause[1] : operator;\n    clause[2] = rightOperand || clause[2];\n  };\n\n  const handleAddField = idx => () => {\n    setValue(value => {\n      value[idx].push(['age', '==', '']);\n      formValChange({target: {value}});\n      return [...value];\n    })\n  };\n\n  const handleAddCondition = () => {\n    setValue(value => {\n      value.push([]);\n      formValChange({target: {value}});\n      return [...value];\n    })\n  };\n\n  const handleRemoveField = (conditionIdx, fieldIdx) => () => {\n    setValue(value => {\n      value[conditionIdx].splice(fieldIdx, 1);\n      formValChange({target: {value}});\n      return [...value]\n    })\n  };\n\n  const handleRemoveCondition = (conditionIdx) => () => {\n    setValue(value => {\n      value.splice(conditionIdx, 1);\n      formValChange({target: {value}});\n      return [...value]\n    })\n  };\n\n  const conditionComponents = [];\n  for (let conditionIdx = 0; conditionIdx < value.length; conditionIdx++) {\n    const condition = value[conditionIdx];\n    const field_components = [];\n    conditionComponents.push(field_components);\n\n    for (let fieldIdx = 0; fieldIdx < condition.length; fieldIdx++) {\n      const [leftOperand, operator, rightOperand] = condition[fieldIdx];\n      field_components.push(\n        <Grid item xs={12} key={fieldIdx}>\n          <CustomEligibilityField\n            value={condition[fieldIdx]}\n            handleChange={handleFieldChange(condition[fieldIdx])}\n            fields={fields}\n            onDelete={handleRemoveField(conditionIdx, fieldIdx)}\n          />\n        </Grid>\n      )\n\n    }\n  }\n\n  return (\n    <div>\n      {conditionComponents.map((field_components, idx) =>\n        <Paper variant=\"outlined\" key={idx}>\n          <Grid container>\n            {field_components}\n            <Grid item xs={12}>\n              <Button\n                onClick={handleRemoveCondition(idx)}\n                style={{margin: 12, float: 'right'}}\n                variant=\"contained\"\n                startIcon={<DeleteIcon/>}>\n                Remove\n              </Button>\n              <Button\n                style={{margin: 12, float: 'right'}}\n                variant=\"contained\"\n                startIcon={<AddIcon/>}\n                onClick={handleAddField(idx)}>\n                And\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>)}\n      <Button\n        style={{margin: 12}}\n        variant=\"contained\"\n        onClick={handleAddCondition}\n        startIcon={<AddIcon/>}>\n        OR\n      </Button>\n    </div>\n  );\n}\n","import { getJson } from \"./index\";\n\nexport function fetchFormulaFields() {\n  return getJson('/formula/fields/');\n}\n\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from '../shared';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport {\n  statusInCanadaOptions, educationLevelOptions,\n  serviceSharedWithOptions, serviceTypeOptions\n} from '../../store/defaults'\nimport GeneralField from '../shared/fields/GeneralField'\nimport SelectField from '../shared/fields/SelectField'\nimport RadioField from '../shared/fields/RadioField'\nimport MultiSelectField from '../shared/fields/MultiSelectField';\nimport { formatLocation } from '../../helpers/location_helpers.js';\nimport { Validator } from \"../../helpers/index.js\";\n\n// redux\nimport { connect } from 'react-redux'\nimport { createService, updateService } from '../../store/actions/serviceActions.js'\nimport { fetchProviders } from '../../store/actions/providerActions.js';\nimport { ACTION_SUCCESS } from '../../store/defaults.js';\n\nimport { Alert } from '@material-ui/core';\nimport { Container, Divider, Typography, Button } from \"@material-ui/core\";\nimport withStyles from '@material-ui/styles/withStyles';\nimport LocationFieldGroup from \"../shared/LocationFieldGroup\";\nimport EligibilityCondition from './EligibilityCondition'\nimport { transformToBackendType, transformToFrontendType } from '../../helpers/formulaHelpers';\n\nconst styles = {\n  root: {\n    width: '80%'\n  },\n  divider: {\n    margin: '20px 0',\n  },\n  errorText: {\n    color: '#e41919'\n  },\n  title: {\n    fontWeight: 600,\n  }\n};\n\nclass ServiceForm extends Component {\n  constructor(props) {\n    super(props);\n    let service = {};\n    if (this.props.match.params.id) {\n      service = this.props.servicesById[this.props.match.params.id];\n    }\n\n    this.state = {\n      errors: {},\n      serviceId: service.id,\n      mode: (service.id) ? 'edit' : 'new',\n      form: {\n        name: service.name || '',\n        type: service.type || '',\n        desc: service.desc || '',\n        category: service.category || '',\n        available_from: service.available_from || '',\n        available_to: service.available_to || '',\n        languages: service.languages || [],\n        max_capacity: service.max_capacity || '',\n        current_capacity: service.current_capacity || 0,\n        frequency: service.frequency || '',\n        billable: service.billable || 'No',\n        price: service.price || '',\n        method_of_delivery: service.method_of_delivery || '',\n        method_of_registration: service.method_of_registration || '',\n        registration: service.registration || '',\n        email: service.email || '',\n        primary_phone_number: service.primary_phone_number || '',\n        alt_phone_number: service.alt_phone_number || '',\n        location: Object.assign({\n          id: '',\n          street_address: '',\n          apt_number: '',\n          city: '',\n          province: '',\n          postal_code: ''\n        }, service.location),\n        location_same_as_provider: service.location_same_as_provider || false,\n        share_with: service.share_with || [],\n        notes: service.notes || '',\n        eligibility_conditions: Object.assign({\n          'upper_age_limit': '',\n          'lower_age_limit': '',\n          'immigration_status': [],\n          'current_education_level': [],\n          'completed_education_level': []\n        }, service.eligibility_conditions),\n        provider_id: (service.provider && service.provider.id) || '',\n        is_public: service.is_public || false,\n        /**\n         * @type {[{condition_clauses: [field_name, clauses: [{left_operand, right_operand, operator}]]}]}\n         **/\n        eligibility_criteria: transformToFrontendType(service.eligibility_criteria) || []\n      }\n    };\n\n    this.props.dispatch(fetchOntologyCategories('services'));\n    this.props.dispatch(fetchOntologyCategories('languages'));\n    this.props.dispatch(fetchProviders());\n  }\n\n  formValChange = (name, render) => e => {\n    const {value} = e.target;\n    const splits = name.split('.');\n    const {form} = this.state;\n    if (splits.length === 1) {\n      form[name] = value;\n    } else {\n      let parent = this.state.form;\n      for (let i = 0; i < splits.length - 1; i++) {\n        parent = parent[splits[i]];\n      }\n      parent[splits[splits.length - 1]] = value || '';\n    }\n    if (render) this.setState(state => ({form: {...state.form}}));\n  };\n\n  submit = () => {\n    console.log(this.state.form);\n    let form = Object.assign({}, this.state.form);\n    form['eligibility_conditions']['age'] = [\n      form['eligibility_conditions']['lower_age_limit'] || null,\n      form['eligibility_conditions']['upper_age_limit'] || null\n    ];\n    delete form['eligibility_conditions']['lower_age_limit'];\n    delete form['eligibility_conditions']['upper_age_limit'];\n\n    form.eligibility_criteria = transformToBackendType(form.eligibility_criteria);\n\n    if (this.validateForm()) {\n      if (this.state.mode === 'edit') {\n        this.props.dispatch(\n          updateService(this.state.serviceId, form, (status, err, serviceId) => {\n            if (status === ACTION_SUCCESS) {\n              this.props.history.push('/services');\n              this.forceUpdate()\n            }\n          }));\n      } else {\n        this.props.dispatch(\n          createService(this.state.form, (status, err, serviceId) => {\n            this.props.history.push('/services');\n            this.forceUpdate()\n          }));\n      }\n    }\n  };\n\n  validateForm = () => {\n\n    let errors = {};\n    let formIsValid = true;\n    if (!this.state.form.provider_id) {\n      formIsValid = false;\n      errors[\"provider_id\"] = \"*Please enter a provider.\";\n    }\n\n    if (!this.state.form.type) {\n      formIsValid = false;\n      errors[\"type\"] = \"*Please enter the type.\";\n    }\n\n    if (!this.state.form.name) {\n      formIsValid = false;\n      errors[\"name\"] = \"*Please enter the name.\";\n    }\n\n    if (!this.state.form.category) {\n      formIsValid = false;\n      errors[\"category\"] = \"*Please enter the category.\";\n    }\n\n    if (this.state.form.primary_phone_number) {\n      const errMsg = Validator.phone(this.state.form.primary_phone_number);\n      if (errMsg) {\n        errors['primary_phone_number'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.alt_phone_number) {\n      const errMsg = Validator.phone(this.state.form.alt_phone_number);\n      if (errMsg) {\n        errors['alt_phone_number'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.email) {\n      const errMsg = Validator.email(this.state.form.email);\n      if (errMsg) {\n        errors['email'] = \"*\" + errMsg;\n      }\n    }\n\n    if (this.state.form.location.postal_code) {\n      const errMsg = Validator.postalCode(this.state.form.location.postal_code);\n      if (errMsg) {\n        errors['postal_code'] = \"*\" + errMsg;\n      }\n    }\n\n    this.setState({\n      errors: errors\n    });\n\n    return formIsValid;\n\n  };\n\n  render() {\n    const {classes} = this.props;\n    const p = this.props;\n    const formTitle = (this.state.mode === 'edit') ?\n      'Edit Service Profile' : 'New Service';\n\n    let provider, provider_locations;\n    if (isInt(this.state.form.provider_id)) {\n      // assumption: this.state.form.provider_id should be an integer\n      // Delete this condition check if the assumption is no longer needed\n      provider = this.props.providersById && this.props.providersById.providersById[this.state.form.provider_id];\n      provider_locations = provider.other_addresses ? provider.other_addresses.concat([provider.main_address]) : []\n    }\n\n    const locations = {}, location2Obj = {};\n    if (provider_locations) provider_locations.forEach((address, index) => {\n      const loc = formatLocation(address);\n      locations[loc] = loc;\n      location2Obj[loc] = address;\n    });\n\n    return (\n      <Container className={classes.root}>\n        <Typography variant=\"h5\" className={classes.title}>\n          {formTitle}\n        </Typography>\n\n        {this.state.showAlert && this.state.error_messages.map((message, index) =>\n          <Alert key={index} severity=\"error\">{message}</Alert>)}\n\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Service Information\n        </Typography>\n        <SelectField\n          label=\"Provider\"\n          options={_.reduce(p.providers, (map, provider) => {\n            if (provider.type === 'Individual') {\n              map[provider.id] = provider.profile && provider.profile.first_name + \" \" + provider.profile.last_name;\n            } else {\n              map[provider.id] = provider.company\n            }\n            return map;\n          }, {})}\n          value={this.state.form.provider_id}\n          onChange={this.formValChange('provider_id')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.provider_id}</div>\n        <Link to={'/providers'} color>\n          <Typography>\n            Add new provider\n          </Typography>\n        </Link>\n        <SelectField\n          label=\"Type\"\n          options={serviceTypeOptions}\n          value={this.state.form.type}\n          onChange={this.formValChange('type')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.type}</div>\n        <GeneralField\n          label=\"Name\"\n          type=\"text\"\n          value={this.state.form.name}\n          onChange={this.formValChange('name')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.name}</div>\n        <GeneralField\n          label=\"Description\"\n          type=\"text\"\n          value={this.state.form.desc}\n          onChange={this.formValChange('desc')}\n        />\n        <SelectField\n          label=\"Category\"\n          options={p.servicesCategories}\n          value={this.state.form.category}\n          onChange={this.formValChange('category')}\n          required\n        />\n        <div className={classes.errorText}>{this.state.errors.category}</div>\n        <GeneralField\n          label=\"Available from\"\n          type=\"date\"\n          value={this.state.form.available_from}\n          onChange={this.formValChange('available_from')}\n        />\n        <GeneralField\n          label=\"Available until\"\n          type=\"date\"\n          value={this.state.form.available_to}\n          onChange={this.formValChange('available_to')}\n        />\n        <MultiSelectField\n          label=\"Languages\"\n          options={p.languagesCategories}\n          value={this.state.form.languages}\n          onChange={this.formValChange('languages')}\n        />\n        <GeneralField\n          label=\"Max Capacity\"\n          type=\"number\"\n          value={this.state.form.max_capacity}\n          min=\"0\"\n          onChange={this.formValChange('max_capacity')}\n        />\n        {parseInt(this.state.form.max_capacity, 10) > 0 &&\n        <GeneralField\n          label=\"Current Capacity\"\n          type=\"number\"\n          value={this.state.form.current_capacity}\n          min=\"0\"\n          onChange={this.formValChange('current_capacity')}\n        />\n        }\n        <SelectField\n          label=\"Frequency\"\n          value={this.state.form.frequency}\n          onChange={this.formValChange('frequency')}\n          options={['Weekly', 'Biweekly', 'Monthly', 'Non-repeated']}\n        />\n        <RadioField\n          label=\"Billable\"\n          value={this.state.form.billable}\n          onChange={this.formValChange('billable', true)}\n          options={{Yes: 'Yes', No: 'No'}}\n        >\n        </RadioField>\n\n        {this.state.form.billable === \"Yes\" &&\n        <GeneralField\n          label=\"Price\"\n          type=\"text\"\n          value={this.state.form.price}\n          onChange={this.formValChange('price')}\n        />}\n\n        <SelectField\n          label=\"Method of delivery\"\n          value={this.state.form.method_of_delivery}\n          onChange={this.formValChange('method_of_delivery')}\n          options={{\n            Online: 'Online',\n            'One on one (In person)': 'One on one (In person)',\n            Group: 'Group (In person)'\n          }} // In person\n        />\n\n        <SelectField\n          label=\"Method of registration\"\n          value={this.state.form.method_of_registration}\n          onChange={this.formValChange('method_of_registration')}\n          options={['Self registration', 'Registration by social worker', 'No registration']}\n        />\n\n        <SelectField\n          label=\"Registration\"\n          placeholder=\"select\"\n          value={this.state.form.registration}\n          onChange={this.formValChange('registration')}\n          options={['Online', 'In person', 'By phone']}\n        />\n\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Eligibility\n        </Typography>\n        <EligibilityCondition\n          value={this.state.form.eligibility_criteria}\n          formValChange={this.formValChange('eligibility_criteria')}\n        />\n        <MultiSelectField\n          label=\"Immigration Status\"\n          options={statusInCanadaOptions}\n          value={this.state.form.eligibility_conditions.immigration_status}\n          onChange={this.formValChange('eligibility_conditions.immigration_status')}\n        />\n        <GeneralField\n          label=\"Age greater than\"\n          type=\"text\"\n          value={this.state.form.eligibility_conditions.lower_age_limit}\n          onChange={this.formValChange('eligibility_conditions.lower_age_limit')}\n        />\n        <GeneralField\n          id=\"upper_age_limit\"\n          label=\"Age less than\"\n          type=\"text\"\n          value={this.state.form.eligibility_conditions.upper_age_limit}\n          onChange={this.formValChange('eligibility_conditions.upper_age_limit')}\n        />\n        <MultiSelectField\n          label=\"Current Education\"\n          options={educationLevelOptions}\n          value={this.state.form.eligibility_conditions.current_education_level}\n          onChange={this.formValChange('eligibility_conditions.current_education_level')}\n        />\n        <MultiSelectField\n          label=\"Completed Education Level\"\n          options={educationLevelOptions}\n          value={this.state.form.eligibility_conditions.completed_education_level}\n          onChange={this.formValChange('eligibility_conditions.completed_education_level')}\n        />\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Contact Information\n        </Typography>\n        <GeneralField\n          label=\"Contact Person Email\"\n          type=\"email\"\n          value={this.state.form.email}\n          onChange={this.formValChange('email')}\n        />\n        <div className={classes.errorText}>{this.state.errors.email}</div>\n        <GeneralField\n          label=\"Telephone\"\n          type=\"tel\"\n          value={this.state.form.primary_phone_number}\n          onChange={this.formValChange('primary_phone_number')}\n        />\n        <div className={classes.errorText}>{this.state.errors.primary_phone_number}</div>\n        <GeneralField\n          label=\"Alternative Phone Number\"\n          type=\"tel\"\n          value={this.state.form.alt_phone_number}\n          onChange={this.formValChange('alt_phone_number')}\n        />\n        <div className={classes.errorText}>{this.state.errors.alt_phone_number}</div>\n        <RadioField\n          label=\"Location\"\n          options={{'Same as provider': true, 'Other': false}}\n          onChange={this.formValChange('location_same_as_provider', true)}\n          value={this.state.form.location_same_as_provider}\n        />\n\n        {this.state.form.location_same_as_provider && this.state.form.provider_id &&\n        <div>\n          <RadioField\n            label=\"Select the location this service is provided at\"\n            value={this.state.form.location}\n            options={locations}\n            onChange={(e) => {\n              const {form} = this.state;\n              form.location = {...locations[e.target.value]};\n              this.formValChange('location');\n            }}\n          />\n          {!_.includes(_.map(provider_locations, 'id'), this.state.form.location.id) &&\n          <Typography style={{marginTop: 10}}>\n            {`The current location of service is at\n                          ${formatLocation(this.state.form.location)}, which has\n                          been removed from provider locations. Please select a\n                          new location.`}\n          </Typography>\n          }\n        </div>\n        }\n        {!this.state.form.location_same_as_provider &&\n        <LocationFieldGroup\n          key=\"address\"\n          address={this.state.form.location}\n          errMsg={this.state.errors}\n        />\n        }\n        <RadioField\n          label=\"Public?\"\n          options={{'Yes': true, 'No': false}}\n          onChange={this.formValChange('is_public')}\n          value={this.state.form.is_public}\n        />\n        <Divider className={classes.divider}/>\n        <Typography variant=\"h5\">\n          Other Information\n        </Typography>\n        <MultiSelectField\n          label=\"Share with\"\n          options={serviceSharedWithOptions}\n          value={this.state.form.share_with}\n          onChange={this.formValChange('share_with')}\n        />\n        <GeneralField\n          label=\"Notes\"\n          type=\"text\"\n          value={this.state.form.notes}\n          onChange={this.formValChange('notes')}\n          multiline\n          variant=\"outlined\"\n          fullWidth\n        />\n        <Button onClick={this.submit} variant=\"outlined\" color=\"primary\" style={{margin: '12px 0'}}>\n          Submit\n        </Button>\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servicesById: state.services.byId,\n    servicesCategories: state.ontology.services.categories,\n    categoriesLoaded: state.ontology.services.loaded,\n    languagesCategories: state.ontology.languages.categories,\n    languagesLoaded: state.ontology.languages.loaded,\n    providers: state.providers.filteredProviders || [],\n    providersById: state.providers.byId,\n    providersLoaded: state.providers.loaded,\n    providerIndex: state.providers.index\n  }\n};\n\nfunction isInt(value) {\n  return !isNaN(value) && \n         parseInt(Number(value)) === value && \n         !isNaN(parseInt(value, 10));\n}\n\nexport default connect(mapStateToProps)(withRouter(withStyles(styles)(ServiceForm)));\n","import React from 'react'\nimport { fetchGoods, deleteGood } from '../store/actions/goodActions.js'\nimport { GenericPage, Link } from \"./shared\";\n\nconst TYPE = 'goods';\n\nconst formatProvider = ({provider}) => {\n  return provider.type === 'Organization' ? provider.company\n    : (provider.profile ? `${provider.profile.first_name} ${provider.profile.last_name}` : 'Not provided')\n};\n\n// mui-table column configurations\n// TODO: Add custom print function for address\nconst columnsWithoutOptions = [\n  {\n    name: 'id',\n    options: {\n      sort: false,\n      viewColumns: false,\n      display: 'excluded',\n      searchable: false,\n      filter: false,\n    }\n  },\n  {\n    name: 'name',\n    label: 'Name',\n    options: {\n      sort: true,\n      customBodyRender: (data, {rowData}) => {\n        return <Link color to={`/${TYPE}/${rowData[0]}`}>{data}</Link>\n      }\n    }\n  },\n  {\n    name: 'provider',\n    label: 'Provider',\n    options: {\n      sort: true,\n      customBodyRender: provider => {\n        return (\n          <Link color to={`/${TYPE}/${provider.id}`}>\n            {formatProvider({provider})}\n          </Link>\n        );\n      }\n    }\n  },\n  {\n    name: 'desc',\n    label: 'Description',\n  },\n  {\n    name: 'category',\n    label: 'Category'\n  }\n];\n\nexport default function Goods() {\n\n  const nameFormatter = good => good.name;\n\n  const generateMarkers = (goods, pageNumber, rowsPerPage) => {\n    // TODO: verify this works as expected\n    goods.slice((pageNumber - 1) * rowsPerPage, pageNumber * rowsPerPage)\n      .map(good => ({\n        position: {lat: Number(good.location.lat), lng: Number(good.location.lng)},\n        title: nameFormatter(good),\n        link: `/${TYPE}/${good.id}`,\n        content: good.desc,\n      })).filter(client => client.position.lat && client.position.lng);\n  };\n\n  return (\n    <GenericPage\n      type={TYPE}\n      columnsWithoutOptions={columnsWithoutOptions}\n      fetchData={fetchGoods}\n      deleteItem={deleteGood}\n      generateMarkers={generateMarkers}\n      nameFormatter={nameFormatter}\n    />\n  )\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n// redux\nimport { connect } from 'react-redux'\nimport { fetchGood } from '../../store/actions/goodActions.js'\n\nimport { formatLocation } from '../../helpers/location_helpers'\n\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@material-ui/icons\";\n\nclass Good extends Component {\n  componentWillMount() {\n    const id = this.props.match.params.id\n    this.props.dispatch(fetchGood(id));\n  }\n\n  render() {\n    const p = this.props,\n          id = p.match.params.id,\n          good = p.goodsById[id];\n\n    return (\n      <div className=\"content client\">\n        <h3>Good Profile</h3>\n        <Link to={`/goods/${good.id}/edit`}>\n          <Button bsStyle=\"primary\">\n            Edit\n          </Button>\n        </Link>{' '}\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n\n        { good && good.goodsLoaded &&\n          <Table striped bordered condensed hover>\n            <tbody>\n              <tr>\n                <td><b>Name</b></td>\n                <td>{good.name}</td>\n              </tr>\n              <tr>\n                <td><b>Description</b></td>\n                <td>{good.desc}</td>\n              </tr>\n              <tr>\n                <td><b>Category</b></td>\n                <td>{good.category}</td>\n              </tr>\n              <tr>\n                <td><b>Available from</b></td>\n                <td>{good.available_from}</td>\n              </tr>\n              <tr>\n                <td><b>Available until</b></td>\n                <td>{good.available_to}</td>\n              </tr>\n              <tr>\n                <td><b>Transportation</b></td>\n                <td>{good.transportation}</td>\n              </tr>\n              <tr>\n                <td><b>Condition</b></td>\n                <td>{good.condition}</td>\n              </tr>\n              <tr>\n                <td><b>Material</b></td>\n                <td>{good.material}</td>\n              </tr>\n              <tr>\n                <td><b>Quantity</b></td>\n                <td>{good.quantity}</td>\n              </tr>\n              <tr>\n                <td><b>Length</b></td>\n                <td>{good.length}</td>\n              </tr>\n              <tr>\n                <td><b>Width</b></td>\n                <td>{good.width}</td>\n              </tr>\n              <tr>\n                <td><b>Height</b></td>\n                <td>{good.height}</td>\n              </tr>\n              <tr>\n                <td><b>Diameter</b></td>\n                <td>{good.diameter}</td>\n              </tr>\n              <tr>\n                <td><b>Contact Person Email</b></td>\n                <td>{good.email}</td>\n              </tr>\n              <tr>\n                <td><b>Contact Person Phone</b></td>\n                <td>{good.primary_phone_number}</td>\n              </tr>\n              <tr>\n                <td><b>Secondary Phone</b></td>\n                <td>{good.alt_phone_number}</td>\n              </tr>\n              <tr>\n                <td><b>Location</b></td>\n                <td>{formatLocation(good.location)}</td>\n              </tr>\n              <tr>\n                <td><b>Share with</b></td>\n                <td>{(good.share_with || []).join(', ')}</td>\n              </tr>\n              <tr>\n                <td><b>Notes</b></td>\n                <td>{good.notes}</td>\n              </tr>\n              <tr>\n                <td><b>Provider</b></td>\n                <td>\n                  <Link to={`/provider/${good.provider.id}`}>\n                    {`${good.provider.profile.first_name} ${good.provider.profile.last_name}`}\n                  </Link>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { \n    goodsById: state.goods.byId,\n    goodLoaded: state.goods.indexLoaded \n  }  \n}\n\nexport default connect(\n  mapStateToProps\n)(Good);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { fetchOntologyCategories } from '../../store/actions/ontologyActions.js';\nimport _ from 'lodash';\nimport { provinceOptions } from '../../store/defaults';\n\n// redux\nimport { connect } from 'react-redux'\nimport SelectField from '../shared/fields/SelectField'\nimport GeneralField from '../shared/fields/GeneralField'\nimport { createGood, updateGood, GOOD_SUCCESS } from '../../store/actions/goodActions.js'\nimport { fetchProviders } from '../../store/actions/providerActions.js'\nimport RadioField from '../shared/fields/RadioField'\nimport { formatLocation } from '../../helpers/location_helpers.js';\n\n\nimport { Button, Form, FormGroup, FormControl, FormLabel, Col, Row } from 'react-bootstrap';\n\nclass GoodForm extends Component {\n  constructor(props) {\n    super(props);\n    let good = {};\n    if (this.props.match.params.id) {\n      good = this.props.goodsById[this.props.match.params.id];\n    }\n\n    this.state = {\n      goodId: good.id,\n      mode: (good.id) ? 'edit' : 'new',\n      is_provider_location: false,\n      form: {\n        name: good.name || '',\n        desc: good.desc || '',\n        category: good.category || '',\n        available_from: good.available_from || '',\n        available_to: good.available_to || '',\n        transportation: good.transportation || '',\n        condition: good.condition || '',\n        material: good.material || '',\n        quantity: good.quantity || '',\n        length: good.length || '',\n        width: good.width || '',\n        height: good.height || '',\n        diameter: good.diameter || '',\n        email: good.email || '',\n        primary_phone_number: good.primary_phone_number || '',\n        alt_phone_number: good.alt_phone_number || '',\n        location: Object.assign({\n          street_address: '',\n          apt_number: '',\n          city: '',\n          province: '',\n          postal_code: ''\n        }, good.location),\n        share_with: good.share_with || '',\n        notes: good.notes || '',\n        provider_id: (good.provider && good.provider.id) || ''\n      }\n    }\n\n    this.formValChange = this.formValChange.bind(this);\n    this.locationChange = this.locationChange.bind(this);\n    this.submit = this.submit.bind(this);\n    this.indicatorChange = this.indicatorChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(fetchOntologyCategories('goods'));\n    this.props.dispatch(fetchProviders());\n  }\n\n  formValChange(e, id=e.target.id) {\n    let nextForm;\n    if (id === 'location') {\n      nextForm = {...this.state.form, [id]: JSON.parse(e.target.value)};\n    }\n    else {\n      nextForm = {...this.state.form, [id]: e.target.value};\n    }\n    this.setState({ form: nextForm });\n  }\n\n  locationChange(e) {\n    let nextForm = _.clone(this.state.form);\n    nextForm['location'][e.target.id] = e.target.value\n    this.setState({ form: nextForm });\n  }\n\n  indicatorChange(e, id) {\n    this.setState({ [id] : JSON.parse(e.target.value) });\n  }\n\n  submit() {\n    let form = Object.assign({}, this.state.form);\n    if (this.state.mode === 'edit') {\n      this.props.dispatch(\n        updateGood(this.state.goodId, form, (status, err, goodId) => {\n        if (status === GOOD_SUCCESS) {\n          this.props.history.push('/goods/')\n        } else {\n          const error_messages =\n            _.reduce(JSON.parse(err.message), (result, error_messages, field) => {\n              const titleizedField = (field.charAt(0).toUpperCase() + field.slice(1))\n                .split('_').join(' ')\n              _.each(error_messages, message => {\n                result.push(message.replace('This field', titleizedField))\n              })\n              return result;\n            }, [])\n          this.setState({ showAlert: true, error_messages: error_messages });\n        }\n      }));\n    } else {\n      this.props.dispatch(\n        createGood(this.state.form, (status, err, goodId) => {\n        if (status === GOOD_SUCCESS) {\n          this.props.history.push('/goods/')\n        } else {\n          const error_messages =\n            _.reduce(JSON.parse(err.message), (result, error_messages, field) => {\n              const titleizedField = (field.charAt(0).toUpperCase() + field.slice(1))\n                .split('_').join(' ')\n              _.each(error_messages, message => {\n                result.push(message.replace('This field', titleizedField))\n              })\n              return result;\n            }, [])\n          this.setState({ showAlert: true, error_messages: error_messages });\n        }\n      }));\n    }\n  }\n\n  render() {\n    const p = this.props;\n\n    const formTitle = (this.state.mode === 'edit') ?\n      'Edit Good Profile' : 'New Good'\n\n    let provider;\n    if (this.state.form.provider_id) {\n      provider = this.props.providersById && this.props.providersById[this.state.form.provider_id];\n    }\n\n    return (\n      <Row className=\"content\">\n        <Col sm={12}>\n          <h3>{formTitle}</h3>\n          <hr />\n        </Col>\n        <Col sm={12}>\n            <Form horizontal>\n            {this.state.showAlert &&\n              <Col sm={12} className=\"flash-error\">\n                {_.map(this.state.error_messages, (message, index) => {\n                  return (\n                    <li key={index}>\n                      {message}\n                    </li>\n                  );\n                })}\n              </Col>\n            }\n            <SelectField\n              id=\"provider_id\"\n              label=\"Provider\"\n              options={_.reduce(p.providers, (map, provider) => {\n                if (provider.type === 'Individual') {\n                  map[provider.id] = provider.profile.first_name + \" \" + provider.profile.last_name;\n                } else {\n                  map[provider.id] = provider.company\n                }\n                return map;\n              }, {})}\n              componentClass=\"select\"\n              value={this.state.form.provider_id}\n              onChange={this.formValChange}\n              required\n            />\n\n            <FormGroup>\n              <Col smOffset={3} sm={9}>\n                <Link to=\"/providers/new\">\n                  <Button>\n                    Add new provider\n                  </Button>\n                </Link>\n              </Col>\n            </FormGroup>\n\n            <GeneralField\n              id=\"name\"\n              label=\"Name\"\n              type=\"text\"\n              value={this.state.form.name}\n              onChange={this.formValChange}\n              required\n            />\n\n            <FormGroup controlId=\"desc\">\n              <Col componentClass={FormLabel} sm={3}>\n                Description\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.desc} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"category\">\n              <Col componentClass={FormLabel} sm={3}>\n                Category *\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  placeholder=\"select\"\n                  value={this.state.form.category}\n                  onChange={this.formValChange}\n                  required\n                >\n                  <option value=\"select\">-- Not Set --</option>\n                  <option value=\"Furniture\">Furniture</option>\n                  <option value=\"Food\">Food</option>\n                  <option value=\"Clothing\">Clothing</option>\n                  <option value=\"Utensils\">Utensils</option>\n                  <option value=\"Books\">Books</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"transportation\">\n              <Col componentClass={FormLabel} sm={3}>\n                Transportation\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.transportation} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"available_from\">\n              <Col componentClass={FormLabel} sm={3}>\n                Available from\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"date\"\n                  value={this.state.form.available_from}\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"available_to\">\n              <Col componentClass={FormLabel} sm={3}>\n                Available until\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"date\"\n                  value={this.state.form.available_to}\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"condition\">\n              <Col componentClass={FormLabel} sm={3}>\n                Condition\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.condition} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"material\">\n              <Col componentClass={FormLabel} sm={3}>\n                Material\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.material} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"quantity\">\n              <Col componentClass={FormLabel} sm={3}>\n                Quantity\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.quantity}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"length\">\n              <Col componentClass={FormLabel} sm={3}>\n                Length\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.length}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"width\">\n              <Col componentClass={FormLabel} sm={3}>\n                Width\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.width}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"height\">\n              <Col componentClass={FormLabel} sm={3}>\n                Height\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.height}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"diameter\">\n              <Col componentClass={FormLabel} sm={3}>\n                Diameter\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  type=\"text\"\n                  value={this.state.form.diameter}\n                  placeholder=\"\"\n                  onChange={this.formValChange}\n                />\n              </Col>\n            </FormGroup>\n\n            <GeneralField\n              id=\"email\"\n              label=\"Contact Person Email\"\n              type=\"email\"\n              value={this.state.form.email}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"primary_phone_number\"\n              label=\"Telephone\"\n              type=\"tel\"\n              value={this.state.form.primary_phone_number}\n              onChange={this.formValChange}\n              required\n            />\n            <GeneralField\n              id=\"alt_phone_number\"\n              label=\"Alternative Phone Number\"\n              type=\"tel\"\n              value={this.state.form.alt_phone_number}\n              onChange={this.formValChange}\n              required\n            />\n            <RadioField\n              id=\"is_provider_location\"\n              label=\"Location\"\n              options={{ 'Same as provider': true, 'Other': false }}\n              onChange={this.indicatorChange}\n              defaultChecked={this.state.is_provider_location}\n              required\n            />\n            {this.state.is_provider_location && this.state.form.provider_id &&\n              <div>\n                <FormGroup controlId=\"location\">\n                  <Col className=\"required\" componentClass={FormLabel} sm={3}>\n                    Select the location this good is provided at\n                  </Col>\n                  <Col sm={9}>\n                    <Form.Check\n                      name=\"provider_address\"\n                      value={JSON.stringify(provider.main_address)}\n                      onChange={(e) => this.formValChange(e, 'location')}\n                      type=\"radio\"\n                    >\n                      {formatLocation(provider.main_address)}\n                    </Form.Check>{' '}\n                    { provider.other_addresses.map((address, index) =>\n                    <Form.Check\n                      name=\"provider_address\"\n                      value={JSON.stringify(address)}\n                      onChange={(e) => this.formValChange(e, 'location')}\n                      key={index}\n                      type=\"radio\"\n                      >\n                      {formatLocation(address)}\n                    </Form.Check>\n                    )}\n                  </Col>\n                </FormGroup>\n              </div>\n            }\n            {!this.state.is_provider_location &&\n            <div>\n              <GeneralField\n                id=\"street_address\"\n                label=\"Street Address\"\n                type=\"text\"\n                value={this.state.form.location.street_address}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"apt_number\"\n                label=\"Apt. #\"\n                type=\"text\"\n                value={this.state.form.location.apt_number}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"city\"\n                label=\"City\"\n                type=\"text\"\n                value={this.state.form.location.city}\n                onChange={this.locationChange}\n              />\n              <SelectField\n                id=\"province\"\n                label=\"Province\"\n                options={provinceOptions}\n                componentClass=\"select\"\n                value={this.state.form.location.province}\n                onChange={this.locationChange}\n              />\n              <GeneralField\n                id=\"postal_code\"\n                label=\"Postal Code\"\n                type=\"text\"\n                value={this.state.form.location.postal_code}\n                onChange={this.locationChange}\n              />\n            </div>\n            }\n\n            <FormGroup controlId=\"share_with\">\n              <Col componentClass={FormLabel} sm={3}>\n                Share with\n              </Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  placeholder=\"select\"\n                  value={this.state.form.share_with}\n                  onChange={this.formValChange}\n                >\n                  <option value=\"select\">-- Not Set --</option>\n                  <option value=\"Private\">Private</option>\n                  <option value=\"Public\">Public</option>\n                  <option value=\"Boost Child & Youth Advocacy Centre\">Boost Child & Youth Advocacy Centre</option>\n                  <option value=\"Children's Aid Society of Toronto\">Children's Aid Society of Toronto</option>\n                  <option value=\"Abrigo Centre\">Abrigo Centre</option>\n                  <option value=\"Barbra Schlifer Commemorative Clinic\">Barbra Schlifer Commemorative Clinic</option>\n                  <option value=\"Durham Rape Crisis Centre\">Durham Rape Crisis Centre</option>\n                  <option value=\"Durham Children's Aid Society\">Durham Children's Aid Society</option>\n                  <option value=\"Alexandra Park Community Centre\">Alexandra Park Community Centre</option>\n                  <option value=\"Applegrove Community Complex\">Applegrove Community Complex</option>\n                  <option value=\"Albion Neighbourhood Goods\">Albion Neighbourhood Goods</option>\n                  <option value=\"Applegrove Community Complex\">Applegrove Community Complex</option>\n                  <option value=\"Kababayan Multicultural Centre\">Kababayan Multicultural Centre</option>\n                  <option value=\"Central Toronto Youth Goods\">Central Toronto Youth Goods</option>\n                  <option value=\"Covenant House Toronto\">Covenant House Toronto</option>\n                  <option value=\"Durham Youth Housing and Support Goods\">Durham Youth Housing and Support Goods</option>\n                  <option value=\"Eva's Initiatives\">Eva's Initiatives</option>\n                  <option value=\"Horizons for Youth\">Horizons for Youth</option>\n                  <option value=\"AIDS Committee of Durham Region\">AIDS Committee of Durham Region</option>\n                  <option value=\"Arab Community Centre of Toronto\">Arab Community Centre of Toronto</option>\n                  <option value=\"Pediatric Oncology Group of Ontario\">Pediatric Oncology Group of Ontario</option>\n                  <option value=\"Adventist community goods\">Adventist community goods</option>\n                  <option value=\"Aurora Food Pantry\">Aurora Food Pantry</option>\n                  <option value=\"Bluffs Food Bank\">Bluffs Food Bank</option>\n                  <option value=\"Brock Community Food Bank\">Brock Community Food Bank</option>\n                  <option value=\"Markham Food Bank\">Markham Food Bank</option>\n                  <option value=\"Parkdale Community Food Bank\">Parkdale Community Food Bank</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n\n            <FormGroup controlId=\"notes\">\n              <Col componentClass={FormLabel} sm={3}>\n                Notes\n              </Col>\n              <Col sm={9}>\n                <FormControl type=\"text\" value={this.state.form.notes} onChange={this.formValChange} />\n              </Col>\n            </FormGroup>\n\n            <FormGroup>\n              <Col smOffset={3} sm={9}>\n                <Button onClick={this.submit}>\n                  Submit\n                </Button>\n              </Col>\n            </FormGroup>\n          </Form>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    goodsById: state.goods.byId,\n    servicesCategories: state.ontology.services.categories,\n    categoriesLoaded: state.ontology.services.loaded,\n    providers: state.providers.filteredProviders || [],\n    providersById: state.providers.byId,\n    providersLoaded: state.providers.loaded,\n    providerIndex: state.providers.index\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(GoodForm));\n","import { getJson } from \"./index\";\n\nexport async function fetchAdminLogs() {\n  return getJson('/admin_logs/');\n}\n","import React, { useEffect, useState } from 'react';\n// redux\nimport { fetchAdminLogs } from '../api/adminLogApi';\nimport { Container } from \"@material-ui/core\";\nimport { Link, Loading, DataTable } from \"./shared\";\n\nfunction object_url(contentType, objectId) {\n  if (contentType === 'Person') {\n    return `/clients/${objectId}`\n  } else if (contentType === 'EligibilityCriteria') {\n    return `/eligibility-criteria/${objectId}`\n  }\n  return `/${contentType.toLowerCase()}s/${objectId}`\n}\n\nconst columns = [\n  {\n    label: 'Time',\n    body: ({action_time}) => new Date(action_time).toLocaleString()\n  },\n  {\n    label: 'Username',\n    body: ({user}) =>  <Link color to={`/users/${user.id}`}>\n      {user.username}\n    </Link>\n  },\n  {\n    label: 'Action',\n    body: ({action, object_id, object_repr}) => {\n      return (\n        <span>\n            {action + ' '}\n          <Link color to={object_url(object_repr, object_id)}>\n              {object_id}\n            </Link>\n          </span>\n      )\n    }\n  },\n  {\n    label: 'Message',\n    body: ({change_message: msg}) => {\n      if (msg) {\n        try {\n          msg = JSON.parse(msg);\n          if (msg.reason != null)\n            return 'Reason: ' + msg.reason;\n        } catch (e) {\n        }\n      }\n      return 'N/A';\n    }\n  }\n];\n\nexport default function AdminLogs() {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetchAdminLogs().then(data => {\n      setData(data);\n      setLoading(false);\n    });\n  }, []);\n\n  if (loading)\n    return <Loading message={`Loading admin logs...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Admin Logs\"}\n        data={data}\n        columns={columns}\n        idField=\"id\"\n      />\n    </Container>\n  );\n}\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Bar as BarChart, Pie as PieChart } from 'react-chartjs';\nimport { Table, Button } from 'react-bootstrap';\nimport { Print } from \"@material-ui/icons\";\nimport { serverHost } from '../store/defaults.js';\nimport SelectField from './shared/fields/SelectField';\n// styles\nimport '../stylesheets/Reporting.scss';\n\nconst START_YEARS = [1931, 1941, 1951, 1961, 1971, 1981, 1991, 2001, 2011]\n\nexport default class Report extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total_clients: 0,\n      number_of_clients_by_gender: {},\n      number_of_clients_by_birth_year: {},\n      number_of_clients_by_marital_status: {},\n      number_of_clients_by_language: {},\n      number_of_providers_by_status: {},\n      number_of_providers_by_type: {},\n      number_of_individual_providers_by_category: {},\n      selectedCategory: '',\n      selectedAttribute: '',\n    }\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n  }\n\n  componentWillMount() {\n    const url = serverHost + '/reporting?years=' + START_YEARS;\n    fetch(url, {\n        method: 'get',\n        headers: new Headers({\n          'Authorization': `JWT ${localStorage.getItem('jwt_token')}`\n        }),\n      }).then(response => response.json())\n      .then(data => {\n        this.setState({\n          total_clients: data.total_clients,\n          number_of_clients_by_gender: data.number_of_clients_by_gender,\n          number_of_clients_by_birth_year: data.number_of_clients_by_birth_year,\n          number_of_clients_by_marital_status: data.number_of_clients_by_marital_status,\n          number_of_clients_by_language: data.number_of_clients_by_language,\n          number_of_providers_by_status: data.number_of_providers_by_status,\n          number_of_providers_by_type: data.number_of_providers_by_type,\n          number_of_individual_providers_by_category: data.number_of_individual_providers_by_category\n        })\n      }\n    );\n  }\n\n  handleSelectChange(e) {\n    this.setState({ [e.target.id]: e.target.value })\n  }\n\n  render() {\n    const reportingCategoryOptions = ['Clients', 'Providers', 'Services', 'Matches']\n\n    const attributeOptions = {\n      'Clients': ['Birth Year', 'Gender', 'Language', 'Marital Status'],\n      'Providers': ['Individuals by Category', 'Status', 'Type'],\n      'Services': ['Category', 'Type'],\n      'Matches': ['Time between selected and matched', 'Time between selected and fulfilled']\n\n    }\n\n    const year_labels = _.map(START_YEARS, (start_year) => {\n      return `${start_year}-${start_year + 9}`\n    });\n\n    const barChartDataBirthYear = {\n      labels: year_labels,\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_birth_year),\n      }]\n    }\n\n    const barChartOptions = {\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero:true\n          }\n        }]\n      }\n    }\n\n    const barChartDataLanguage = {\n      labels: Object.keys(this.state.number_of_clients_by_language),\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_language),\n      }]\n    }\n\n    const pieChartDataGender = [\n      {\n        value: this.state.number_of_clients_by_gender[\"Female\"],\n        color:\"#F7464A\",\n        highlight: \"#FF5A5E\",\n        label: \"Female\"\n      },\n      {\n        value: this.state.number_of_clients_by_gender[\"Male\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Male\"\n      },\n      {\n        value: this.state.number_of_clients_by_gender[\"Other\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Other\"\n      }\n    ]\n\n    const pieChartDataProviderStatus = [\n      {\n        value: this.state.number_of_providers_by_status[\"Internal\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Internal\"\n      },\n      {\n        value: this.state.number_of_providers_by_status[\"External\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"External\"\n      }\n    ]\n\n        const pieChartDataIndividualProviderCategory = [\n      {\n        value: this.state.number_of_individual_providers_by_category[\"Volunteer/Goods Donor\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Volunteer/Goods Donor\"\n      },\n      {\n        value: this.state.number_of_individual_providers_by_category[\"Professional Service Provider\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Professional Service Provider\"\n      }\n    ]\n\n    const pieChartDataProviderType = [\n      {\n        value: this.state.number_of_providers_by_type[\"Individual\"],\n        color: \"#46BFBD\",\n        highlight: \"#5AD3D1\",\n        label: \"Individual\"\n      },\n      {\n        value: this.state.number_of_providers_by_type[\"Organization\"],\n        color: \"#FDB45C\",\n        highlight: \"#FFC870\",\n        label: \"Organization\"\n      }\n    ]\n\n    const barChartDataMaritalStatus = {\n      labels: Object.keys(this.state.number_of_clients_by_marital_status),\n      datasets: [{\n        data: Object.values(this.state.number_of_clients_by_marital_status),\n      }]\n    }\n\n    const pieChartOptions = {\n      maintainAspectRatio: false,\n      responsive: false,\n      legend: {\n        display: true,\n        position: 'right',\n        labels: {\n          boxWidth: 10\n        }\n      }\n    }\n\n    return (\n      <div className=\"content client\">\n        <Button bsStyle=\"primary\" onClick={() => window.print()} className=\"print-button\">\n          <Print fontSize=\"small\"/>\n        </Button>\n        <SelectField\n          id='selectedCategory'\n          componentClass=\"select\"\n          label='Get a report on'\n          value={this.state.selectedCategory}\n          options={reportingCategoryOptions}\n          onChange={this.handleSelectChange}\n        />\n        <br></br>\n        <br></br>\n        <SelectField\n          id='selectedAttribute'\n          componentClass=\"select\"\n          label='Select attribute'\n          value={this.state.selectedAttribute}\n          options={(this.state.selectedCategory !== '')\n            ? attributeOptions[this.state.selectedCategory]\n            : []}\n          onChange={this.handleSelectChange}\n        />\n        <br></br>\n        <br></br>\n        <br></br>\n        <br></br>\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Gender') &&\n          <GenderStats\n            data={pieChartDataGender}\n            options={pieChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByGender={this.state.number_of_clients_by_gender}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute ==='Language') &&\n          <LanguageStats\n            data={barChartDataLanguage}\n            options={barChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByLanguage={this.state.number_of_clients_by_language}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Marital Status') &&\n          <MaritalStatusStats\n            data={barChartDataMaritalStatus}\n            options={barChartOptions}\n            totalClientsCount={this.state.total_clients}\n            ClientsCountByMaritalStatus={this.state.number_of_clients_by_marital_status}\n          />\n        }\n        {(this.state.selectedCategory === 'Clients' && this.state.selectedAttribute === 'Birth Year') &&\n          <BirthYearStats\n            data={barChartDataBirthYear}\n            options={barChartOptions}\n            ClientsCountByBirthYear={this.state.number_of_clients_by_birth_year}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Status') &&\n          <ProviderStatusStats\n            data={pieChartDataProviderStatus}\n            options={pieChartOptions}\n            ProvidersCountByStatus={this.state.number_of_providers_by_status}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Type') &&\n          <ProviderTypeStats\n            data={pieChartDataProviderType}\n            options={pieChartOptions}\n            ProvidersCountByType={this.state.number_of_providers_by_type}\n          />\n        }\n        {(this.state.selectedCategory === 'Providers' && this.state.selectedAttribute === 'Individuals by Category') &&\n          <IndividualProviderCategoryStats\n            data={pieChartDataIndividualProviderCategory}\n            options={pieChartOptions}\n            IndividualProvidersCountByCategory={this.state.number_of_individual_providers_by_category}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nfunction GenderStats({ data, options, totalClientsCount, ClientsCountByGender}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Gender</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            <div>\n              <b>Total = {totalClientsCount}</b>\n            </div>\n            {\n              _.map(ClientsCountByGender, (count, gender) => {\n                return (\n                  <div key={gender}>\n                    <b>{gender} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction ProviderStatusStats({ data, options, ProvidersCountByStatus}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of providers by Status</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(ProvidersCountByStatus, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction IndividualProviderCategoryStats({ data, options, IndividualProvidersCountByCategory}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of individual providers by Category</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(IndividualProvidersCountByCategory, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction ProviderTypeStats({ data, options, ProvidersCountByType}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of providers by type</b></td>\n          <td>\n            <PieChart data={data} options={options} />\n            {\n              _.map(ProvidersCountByType, (count, status) => {\n                return (\n                  <div key={status}>\n                    <b>{status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction LanguageStats({ data, options, ClientsCountByLanguage}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Language</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByLanguage, (count, first_language) => {\n                return (\n                  <div key={first_language}>\n                    <b>{first_language} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\nfunction MaritalStatusStats({ data, options, ClientsCountByMaritalStatus}) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Breakdown of clients by Marital Status</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByMaritalStatus, (count, marital_status) => {\n                return (\n                  <div key={marital_status}>\n                    <b>{marital_status} = {count}</b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n\nfunction BirthYearStats({ data, options, ClientsCountByBirthYear }) {\n  return (\n    <Table bordered condensed className=\"profile-table\">\n      <tbody>\n        <tr>\n          <td><b>Distribution of clients by Birth Year</b></td>\n          <td>\n            <BarChart data={data} options={options} />\n            {\n              _.map(ClientsCountByBirthYear, (count, startYear) => {\n                return (\n                  <div key={startYear}>\n                    <b>\n                      Clients born between {startYear} and {parseInt(startYear, 10) + 9} = {count}\n                    </b>\n                  </div>\n                );\n              })\n            }\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { fetchEligibilities, deleteEligibility, createEligibility, updateEligibility } from '../../api/eligibilityApi';\nimport {\n  Chip, Container, IconButton, Dialog, DialogActions, DialogTitle, DialogContent,\n  Button, Box\n} from \"@material-ui/core\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon } from \"@material-ui/icons\";\nimport { DeleteModal, Loading, DataTable } from \"../shared\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    padding: 4\n  }\n}));\n\nconst ADD_TITLE = 'Add Eligibility Criteria';\nconst EDIT_TITLE = 'Edit Eligibility Criteria';\n\nfunction AddEditDialog({open, title, value, handleConfirm, handleClose}) {\n  const [err, setErr] = useState({\n    title: '',\n  });\n\n  /**\n   * @returns {boolean} true if passed.\n   */\n  const check = () => {\n    const newErr = {};\n    if (value.title === '')\n      newErr.title = 'This field is required';\n    setErr(newErr);\n    return value.title !== '';\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <GeneralField\n          autoFocus\n          label=\"Eligible criteria\"\n          value={value.title}\n          onChange={e => value.title = e.target.value}\n          error={!!err.title}\n          helperText={err.title}\n          fullWidth\n          InputLabelProps={{}}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            if (check()) {\n              handleConfirm();\n            }\n          }}\n          color=\"primary\">\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default function Eligibilities() {\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    value: {},\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n    dialogTitle: '',\n    showAddEditDialog: false,\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchEligibilities().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const shoeEditDialog = (title, id) => () => setState(state => ({\n    ...state,\n    selectedId: id,\n    value: {title, id},\n    showAddEditDialog: true,\n    dialogTitle: EDIT_TITLE,\n  }));\n\n  const showAddDialog = () => setState(state => ({\n    ...state,\n    value: {title: ''},\n    showAddEditDialog: true,\n    dialogTitle: ADD_TITLE,\n  }));\n\n  const handleAdd = async () => {\n    try {\n      const newItem = await createEligibility(state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: [...state.data, newItem]\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteEligibility(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleEdit = async () => {\n    try {\n      const newItem = await updateEligibility(state.value.id, state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: state.data.map(item => item.id === state.selectedId ? newItem : item),\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Title',\n      body: ({title}) => <Box sx={{width: '80%'}}>{title}</Box>\n    },\n    {\n      label: ' ',\n      body: ({id, title}) => {\n        return (\n          <span>\n              <IconButton\n                onClick={shoeEditDialog(title, id)}\n                className={classes.button}\n                size=\"large\">\n                <EditIcon fontSize=\"small\" color=\"primary\"/>\n              </IconButton>\n              <IconButton\n                onClick={showDeleteDialog(id, title)}\n                className={classes.button}\n                size=\"large\">\n                <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\n              </IconButton>\n            </span>\n        );\n      }\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading eligibilities...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Eligibility Criteria\"}\n        data={state.data}\n        columns={columns}\n        customToolbar={<Chip\n          onClick={showAddDialog}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n      <AddEditDialog\n        open={state.showAddEditDialog}\n        value={state.value}\n        title={state.dialogTitle}\n        handleClose={() => setState(state => ({...state, showAddEditDialog: false}))}\n        handleConfirm={state.dialogTitle === ADD_TITLE ? handleAdd : handleEdit}\n      />\n    </Container>\n  );\n}\n","import { deleteJson, getJson, postJson, putJson } from \"./index\";\n\nexport function createQuestion(params) {\n  return postJson('/questions/', params);\n}\n\nexport function updateQuestion(id, params) {\n  return putJson('/questions/' + id + '/', params);\n}\n\nexport function fetchQuestion(id) {\n  return getJson('/questions/' + id + '/');\n}\n\nexport function fetchQuestions() {\n  return getJson('/questions/');\n}\n\nexport async function deleteQuestion(id, params) {\n  const response = await deleteJson('/questions/' + id + '/', params);\n  if (response.status !== 204)\n    throw Error('Server does not return correct code.');\n}\n","/**\n * For how the drag and drop works, please check the library repository:\n * https://github.com/atlassian/react-beautiful-dnd\n */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport { useDispatch } from 'react-redux';\nimport { providerFields, allForms, providerFormTypes } from '../../constants/provider_fields.js'\nimport { clientFields } from \"../../constants/client_fields\";\nimport { fetchQuestions } from '../../api/questionApi';\nimport RadioField from '../shared/fields/RadioField';\nimport { Button, Container, Grid, TextField, Typography, Divider, IconButton } from \"@material-ui/core\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Close as Delete } from \"@material-ui/icons\";\nimport { fetchProviderFields, updateProviderFields } from \"../../api/settingApi\";\n\nimport { fetchClientFields, updateClientFields } from '../../api/mockedApi/clientFields';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: 8,\n  },\n  droppable: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  submitButton: {\n    margin: '10px 0'\n  }\n}));\n\nconst radioButtonOptions = {'Mandatory': true, 'Not mandatory': false};\n\nfunction StepFields({stepFields, fields, stepName, handleRadioChange, handleDeleteField}) {\n  return stepFields.map(({field, required, type}, index) => {\n    return (\n      <Draggable key={field} draggableId={field} index={index}>\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            style={{\n              backgroundColor: snapshot.isDragging ? '#bbb' : null,\n              ...provided.draggableProps.style\n            }}>\n            <RadioField\n              required noStar row\n              key={field}\n              label={(fields[field] && fields[field]['label']) || field}\n              onChange={handleRadioChange(field, stepName)}\n              options={radioButtonOptions}\n              value={required}\n            />\n            <IconButton\n              onClick={() => !snapshot.isDragging && handleDeleteField(index, stepName)}\n              size=\"large\">\n              <Delete/>\n            </IconButton>\n          </div>\n        )}\n      </Draggable>\n    );\n  });\n}\n\nexport default function ManageFields() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    category: '',\n    stepToAdd: '',\n    selectedStep: '',\n    selectedField: '',\n    questions: {},\n    /**\n     * @type {{organization: {form_structure: {}, steps_order: []}, }}\n     */\n    fields: {}\n  });\n\n  useEffect(() => {\n    fetchQuestions().then(questions => setState(state => ({...state, questions})));\n    // fetch provider fields\n    fetchProviderFields(false).then(fields => {\n      for (const category of Object.keys(fields)) {\n        const formStructure = fields[category].form_structure;\n        const stepsOrder = fields[category].steps_order;\n        for (const stepName of stepsOrder) {\n          const stepsList = [];\n          const steps = formStructure[stepName];\n          for (const [field, value] of Object.entries(steps)) {\n            stepsList.push({field, ...value});\n          }\n          fields[category].form_structure[stepName] = stepsList;\n        }\n      }\n      // server may not respond full list of provider options, add it manually\n      for (const providerCategory of Object.keys(providerFormTypes)) {\n        if (!fields[providerCategory])\n          fields[providerCategory] = {form_structure: [], steps_order: []};\n      }\n\n      setState(state => ({...state, fields: {...state.fields, ...fields}}));\n    });\n\n    // fetch clients fields\n    fetchClientFields().then(clientFields => {\n      const formStructure = clientFields.form_structure;\n      for (const stepName of Object.keys(formStructure)) {\n        const stepsList = [];\n        for (const [field, required] of Object.entries(formStructure[stepName])) {\n          stepsList.push({field, type: 'field', required});\n        }\n        formStructure[stepName] = stepsList;\n      }\n      setState(state => ({...state, fields: {...state.fields, client: clientFields}}));\n    })\n\n  }, [dispatch]);\n\n  const submit = async () => {\n    let form = {};\n    let submitFunction;\n    if (state.category === 'client') {\n      submitFunction = updateClientFields;\n      form = {\n        steps_order: state.fields.client.steps_order,\n        form_structure: {},\n      };\n      const formStructure = state.fields.client.form_structure;\n      for (const stepName of Object.keys(formStructure)) {\n        const newFormStructure = form.form_structure[stepName] = {};\n        for (const {field, required} of formStructure[stepName]) {\n          newFormStructure[field] = required\n        }\n      }\n    }\n    // providers\n    else {\n      submitFunction = updateProviderFields;\n      for (const category of Object.keys(state.fields)) {\n        form[category] = {\n          steps_order: state.fields[category].steps_order,\n          form_structure: {},\n        };\n        const formStructure = state.fields[category].form_structure;\n        for (const stepName of Object.keys(formStructure)) {\n          const newFormStructure = form[category].form_structure[stepName] = {};\n          for (const {field, required} of formStructure[stepName]) {\n            newFormStructure[field] = {type: 'field', required};\n          }\n        }\n      }\n      delete form.client;\n    }\n    console.log(form);\n    try {\n      await submitFunction(form);\n      history.push('/dashboard');\n    } catch (e) {\n      // TODO: show error message\n      console.error(e)\n    }\n  };\n\n  const initialOptions = useMemo(() => {\n    let fieldOptions = {};\n    const fields = state.category === 'client' ? clientFields : providerFields;\n    for (const [field, {label}] of Object.entries(fields)) {\n      fieldOptions[field] = label;\n    }\n    return fieldOptions;\n  }, [state.category]);\n\n  // this may not be efficient, but it is easier to implement...\n  const availableOptions = useMemo(() => {\n    if (!state.category) return {};\n    const options = {...initialOptions};\n    for (const steps of Object.values(state.fields[state.category].form_structure)) {\n      for (const {field} of steps) {\n        if (Object.keys(options).includes(field))\n          delete options[field];\n      }\n    }\n    return options;\n  }, [state.fields, state.category, initialOptions]);\n\n  const handleChange = useCallback(name => e => {\n    const value = e.target.value;\n    if (name === 'category') {\n      if (state.fields[value]) {\n        setState(state => ({\n          ...state, [name]: value, selectedField: '', selectedStep: '', stepToAdd: ''\n        }));\n      }\n    } else\n      setState(state => ({...state, [name]: value}));\n  }, [state.fields]);\n\n  const handleRadioChange = useCallback((field, stepName) => e => {\n    const fields = state.fields[state.category].form_structure[stepName];\n    for (const curr_field of fields) {\n      if (curr_field.field === field)\n        curr_field.required = e.target.value;\n    }\n  }, [state.fields, state.category]);\n\n  const handleDeleteField = useCallback((index, stepName) => {\n    const fields = [...state.fields[state.category].form_structure[stepName]];\n    fields.splice(index, 1);\n    state.fields[state.category].form_structure[stepName] = fields;\n    setState(state => ({...state, fields: {...state.fields}}));\n  }, [state.fields, state.category]);\n\n  const handleAddField = useCallback(() => {\n    const formStructure = state.fields[state.category].form_structure;\n    for (const steps of Object.values(formStructure)) {\n      for (const {field} of steps) {\n        if (field === state.selectedField)\n          return;\n      }\n    }\n    state.fields[state.category].form_structure[state.selectedStep].push({\n      field: state.selectedField,\n      type: 'field', // TODO: implement questions\n      required: false,\n    });\n    setState(state => ({...state, selectedField: '', fields: {...state.fields}}))\n  }, [state.fields, state.category, state.selectedStep, state.selectedField]);\n\n  const handleRemoveStep = useCallback((index, stepName) => () => {\n    state.fields[state.category].steps_order.splice(index, 1);\n    delete state.fields[state.category].form_structure[stepName];\n    setState(state => ({...state, fields: {...state.fields}}))\n  }, [state.fields, state.category]);\n\n  // a little function to help us with reordering the result\n  const reorder = (list, startIndex, endIndex) => {\n    const [removed] = list.splice(startIndex, 1);\n    list.splice(endIndex, 0, removed);\n  };\n\n  // invoked when something is dropped\n  const onDragEnd = ({source, destination}) => {\n\n    // dropped outside the list\n    if (!destination) {\n      return;\n    }\n    const targetStepName = destination.droppableId;\n    const sourceStepName = source.droppableId;\n\n    // moved to other steps\n    if (source.droppableId !== destination.droppableId) {\n      const sourceSteps = state.fields[state.category].form_structure[sourceStepName];\n      const targetSteps = state.fields[state.category].form_structure[targetStepName];\n      const [removed] = sourceSteps.splice(source.index, 1);\n      targetSteps.splice(destination.index, 0, removed);\n    }\n    // moved within a step\n    else {\n      reorder(\n        state.fields[state.category].form_structure[targetStepName],\n        source.index,\n        destination.index\n      );\n    }\n  };\n\n  const newStepComponent = useMemo(() => {\n    if (!state.category) return null;\n    return (\n      <Grid container alignItems=\"flex-end\" spacing={2} className={classes.root}>\n        <Grid item>\n          <TextField\n            label=\"New step name\"\n            value={state.stepToAdd}\n            onChange={handleChange('stepToAdd')}\n          />\n        </Grid>\n        <Grid item>\n          <Button variant=\"outlined\" color=\"primary\" disabled={!state.stepToAdd} onClick={() => {\n            setState(state => {\n              state.fields[state.category].form_structure[state.stepToAdd] = [];\n              state.fields[state.category].steps_order.push(state.stepToAdd);\n              return ({...state, fields: {...state.fields}});\n            });\n          }}>\n            Add Step\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }, [state.stepToAdd, state.category, classes.root, handleChange]);\n\n  const newFieldComponent = useMemo(() => {\n    if (!state.category) return null;\n    return (\n      <Grid container alignItems=\"flex-end\" spacing={2}>\n        <Grid item sm={3} xs={4}>\n          <SelectField\n            label=\"Choose step\"\n            value={state.selectedStep}\n            onChange={handleChange('selectedStep')}\n            options={state.fields[state.category].steps_order}\n            noDefaultStyle\n            formControlProps={{fullWidth: true}}\n            noEmpty\n            controlled\n          />\n        </Grid>\n        <Grid item sm={7} xs={8}>\n          <SelectField\n            label=\"Choose field\"\n            value={state.selectedField}\n            onChange={handleChange('selectedField')}\n            options={availableOptions}\n            noDefaultStyle\n            formControlProps={{fullWidth: true}}\n            noEmpty\n            controlled\n          />\n        </Grid>\n        <Grid item sm={2}>\n          <Button variant=\"outlined\" color=\"primary\" onClick={handleAddField}\n                  disabled={!state.selectedField || !state.selectedStep}>\n            Add Field\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }, [state.fields, state.category, handleChange, handleAddField, state.selectedField,\n    state.selectedStep, availableOptions]);\n\n  const fieldsComponents = useMemo(() => {\n    if (!state.fields[state.category]) return null;\n    const formStructure = state.fields[state.category].form_structure;\n    return Object.keys(formStructure).map((stepName, index) => {\n      return (\n        <div key={index} className={classes.root}>\n          <Typography variant=\"h6\" color=\"textSecondary\">\n            {stepName}\n            <IconButton onClick={handleRemoveStep(index, stepName)} size=\"large\">\n              <Delete/>\n            </IconButton>\n          </Typography>\n          <Droppable droppableId={stepName} className={classes.droppable}>\n            {(provided, snapshot) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                <StepFields\n                  stepName={stepName}\n                  stepFields={formStructure[stepName]}\n                  handleRadioChange={handleRadioChange}\n                  handleDeleteField={handleDeleteField}\n                  fields={state.category === 'client' ? clientFields : providerFields}\n                />\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n          <Divider/>\n        </div>\n      );\n    });\n  }, [state.fields, state.category, classes.root, classes.droppable,\n    handleRadioChange, handleDeleteField, handleRemoveStep]);\n\n  return (\n    <Container>\n      <Typography variant=\"h5\">\n        Manage Fields\n      </Typography>\n      <SelectField\n        label=\"Please select\"\n        value={state.category}\n        onChange={handleChange('category')}\n        options={allForms}\n        noEmpty\n      />\n      {newStepComponent}\n      {newFieldComponent}\n      <DragDropContext onDragEnd={onDragEnd}>\n        {fieldsComponents}\n      </DragDropContext>\n      {state.category &&\n      <Button variant=\"outlined\" color=\"primary\" onClick={submit} className={classes.submitButton}>\n        Submit\n      </Button>}\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { fetchQuestions, updateQuestion, deleteQuestion, createQuestion } from '../../api/questionApi';\nimport {\n  Chip, Container, IconButton, Dialog, DialogActions, DialogTitle, DialogContent,\n  Button, Box\n} from \"@material-ui/core\";\nimport makeStyles from '@material-ui/styles/makeStyles';\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon } from \"@material-ui/icons\";\nimport { DeleteModal, Loading, DataTable } from \"../shared\";\nimport SelectField from \"../shared/fields/SelectField\";\nimport GeneralField from \"../shared/fields/GeneralField\";\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    padding: 4\n  },\n  formControl: {\n    margin: null,\n  },\n}));\n\nconst ADD_TITLE = 'Add Question';\nconst EDIT_TITLE = 'Edit Question';\nconst contentTypeOptions = {\n  provider: 'Provider',\n};\n\nfunction AddEditDialog({open, title, value, objectId, handleConfirm, handleClose}) {\n  const [err, setErr] = useState({\n    type: '',\n    value: '',\n  });\n\n  /**\n   * @returns {boolean} true if passed.\n   */\n  const check = () => {\n    const newErr = {};\n    if (value.content_type === '')\n      newErr.content_type = 'This field is required';\n    if (value.text === '')\n      newErr.text = 'This field is required';\n    setErr(newErr);\n    return value.content_type !== '' && value.text !== '';\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <Box sx={{mt: 2}}/>\n        <SelectField\n          label={'Content type'}\n          value={value.content_type}\n          options={contentTypeOptions}\n          onChange={(e) => value.content_type = e.target.value}\n          disabled={title === EDIT_TITLE}\n          formControlProps={{fullWidth: true}}\n          error={!!err.content_type}\n          helperText={err.content_type}\n          required noDefaultStyle noEmpty\n        />\n        <GeneralField\n          label=\"Question\"\n          value={value.text}\n          onChange={e => value.text = e.target.value}\n          error={!!err.text}\n          helperText={err.text}\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            if (check()) {\n              handleConfirm();\n            }\n          }}\n          color=\"primary\">\n          Confirm\n        </Button>\n        <Button onClick={handleClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default function Questions() {\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    value: {},\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n    dialogTitle: '',\n    showAddEditDialog: false,\n  });\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchQuestions().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const showEditDialog = (text, type, id) => () => setState(state => ({\n    ...state,\n    value: {id, text, content_type: type},\n    selectedId: id,\n    showAddEditDialog: true,\n    dialogTitle: EDIT_TITLE,\n  }));\n\n  const showAddDialog = () => setState(state => ({\n    ...state,\n    value: {text: '', content_type: ''},\n    showAddEditDialog: true,\n    dialogTitle: ADD_TITLE,\n  }));\n\n  const handleAdd = async () => {\n    try {\n      const newItem = await createQuestion(state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: [...state.data, newItem]\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteQuestion(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const handleEdit = async () => {\n    try {\n      const newItem = await updateQuestion(state.value.id, state.value);\n      setState(state => ({\n        ...state, showAddEditDialog: false,\n        data: state.data.map(item => item.id === state.selectedId ? newItem : item),\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Text',\n      body: ({text}) => <Box sx={{width: '60%'}}>{text}</Box>\n    },\n    {\n      label: 'Content type',\n      body: ({content_type}) => content_type\n    },\n    {\n      label: ' ',\n      body: ({id, text, content_type: type}) => {\n        return (\n          <span>\n              <IconButton\n                onClick={showEditDialog(text, type, id)}\n                className={classes.button}\n                size=\"large\">\n                <EditIcon fontSize=\"small\" color=\"primary\"/>\n              </IconButton>\n              <IconButton\n                onClick={showDeleteDialog(id, text)}\n                className={classes.button}\n                size=\"large\">\n                <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\n              </IconButton>\n            </span>\n        );\n      }\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading questions...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Questions\"}\n        data={state.data}\n        columns={columns}\n        customToolbar={<Chip\n          onClick={showAddDialog}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n      <AddEditDialog\n        open={state.showAddEditDialog}\n        value={state.value}\n        objectId={state.selectedId}\n        title={state.dialogTitle}\n        handleClose={() => setState(state => ({...state, showAddEditDialog: false}))}\n        handleConfirm={state.dialogTitle === ADD_TITLE ? handleAdd : handleEdit}\n      />\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Switch } from 'react-router';\nimport { Route } from 'react-router-dom';\n\n// components\nimport Landing from './components/Landing';\nimport Login from './components/Login';\nimport LoginPane from './components/LoginPane';\nimport Dashboard from './components/Dashboard';\nimport Clients from './components/Clients';\nimport Client from './components/clients/Client';\nimport ClientForm from './components/clients/ClientForm'\nimport Users from './components/Users';\nimport User from './components/users/User';\nimport UserForm from './components/users/UserForm'\nimport NeedForm from './components/client_needs/NeedForm'\nimport Need from './components/client_needs/Need'\nimport PrivateRoute from './components/routes/PrivateRoute'\nimport AdminRoute from './components/routes/AdminRoute'\nimport Providers from './components/Providers';\nimport AddServicePrompt from './components/providers/AddServicePrompt'\nimport ProviderForm from './components/providers/ProviderForm'\nimport ProviderProfile from './components/providers/ProviderProfile'\nimport ProviderRatingForm from './components/providers/ProviderRatingForm.js';\nimport Services from './components/Services';\nimport Service from './components/services/Service';\nimport ServiceForm from './components/services/ServiceForm'\nimport Goods from './components/Goods';\nimport Good from './components/goods/Good';\nimport GoodForm from './components/goods/GoodForm'\nimport AdminLogs from './components/AdminLogs';\nimport Reporting from './components/Reporting';\nimport Eligibilities from './components/additionalFIelds/Eligibilities';\nimport ManageFields from './components/settings/ManageFields';\nimport Questions from './components/additionalFIelds/Questions';\n\nconst routes = (\n  <Switch>\n    <Route exact path='/' component={Landing} />\n    <Route path='/login' component={Login} />\n    <Route path='/login-pane' component={LoginPane} />\n    <PrivateRoute path='/dashboard' component={Dashboard} />\n\n    <PrivateRoute path='/clients/:id/edit' component={ClientForm} />\n    <PrivateRoute path='/clients/:id/needs/new' component={NeedForm} />\n    <PrivateRoute path='/clients/new' component={ClientForm} />\n    <PrivateRoute path='/clients/:id' component={Client} />\n    <PrivateRoute path='/clients' component={Clients} />\n\n    <AdminRoute path='/users/:id/edit' component={UserForm} />\n    <AdminRoute path='/users/new' component={UserForm} />\n    <AdminRoute path='/users/:id' component={User} />\n    <AdminRoute path='/users' component={Users} />\n    <AdminRoute path='/admin-logs' component={AdminLogs} />\n\n    <PrivateRoute path='/needs/:need_id/edit' component={NeedForm} />\n    <PrivateRoute path='/needs/:need_id' component={Need} />\n\n    <PrivateRoute path='/providers/:id/rate' component={ProviderRatingForm} />\n    <PrivateRoute path='/providers/new/add-service' component={AddServicePrompt} />\n    <PrivateRoute path='/providers/:formType/new' component={ProviderForm} />\n    <PrivateRoute path='/providers/:id/edit/' component={ProviderForm} />\n    <PrivateRoute path='/providers/:id' component={ProviderProfile} />\n    <PrivateRoute path='/providers' component={Providers} />\n\n    <PrivateRoute path='/services/:id/edit' component={ServiceForm} />\n    <PrivateRoute path='/services/new' component={ServiceForm} />\n    <PrivateRoute path='/services/:id' component={Service} />\n    <PrivateRoute path='/services' component={Services} />\n\n    <PrivateRoute path='/goods/:id/edit' component={GoodForm} />\n    <PrivateRoute path='/goods/new' component={GoodForm} />\n    <PrivateRoute path='/goods/:id' component={Good} />\n    <PrivateRoute path='/goods' component={Goods} />\n\n    <PrivateRoute path='/reporting' component={Reporting} />\n\n    <PrivateRoute path='/eligibility-criteria' component={Eligibilities} />\n\n    <PrivateRoute path='/questions' component={Questions} />\n\n    <AdminRoute path='/settings/manage-fields' component={ManageFields} />\n  </Switch>\n);\n\nexport default routes;\n","import React, { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { Container, Typography } from \"@material-ui/core\";\nimport Button from '@material-ui/core/Button'\nimport { Edit, Print } from '@material-ui/icons';\nimport { Link } from '../shared'\nimport Alert from '@material-ui/core/Alert';\n\nimport ClientNeeds from '../ClientNeeds';\nimport ClientInfoTable from './client_table/ClientInfoTable';\nimport AppointmentRow from '../appointments/AppointmentRow';\n\nimport { fetchClient } from '../../store/actions/clientActions.js'\nimport { fetchClientFields } from \"../../api/mockedApi/clientFields\";\nimport { clientFields } from '../../constants/client_fields.js'\n\n//Table\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nexport default function Client() {\n  //redux hooks\n  const dispatch = useDispatch();\n  const {id} = useParams();\n\n  const [state, setState] = useState({\n    data: null,\n    CF: null,\n    CN: null\n  });\n\n\n  useEffect(() => {\n      dispatch(fetchClient(id)).then(data => {\n        setState(state => ({\n          ...state,\n          data\n        }))\n      })\n  }, [dispatch, id]);\n\n  useEffect(() => {\n      if (state.CF == null) {\n        fetchClientFields().then(json => {\n          setState(state => ({\n            ...state,\n            CF: json\n          }))\n        })\n      }\n    }, [dispatch, state.CF]\n  );\n\n\n  if (state.data && state.CF) {\n    const client = state.data;\n    const CF = state.CF;\n    const formStructure = CF['form_structure'];\n\n    if (client.family) {\n      let members = _.clone(client.family.members);\n      _.remove(members, {\n        person: { id: id }\n      });\n    }\n\n    return (\n      <Container>\n        <Typography variant=\"h3\" paddingY={2}>Client Profile</Typography>\n        <div>\n          <Link to={`/clients/${id}/edit/`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n          &nbsp;\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => window.print()}\n            startIcon={<Print/>}>\n            Print\n          </Button>\n\n          <div>\n            {client.is_deleted &&\n            <Alert variant=\"filled\" severity=\"error\">\n              The client has been deleted\n            </Alert>\n            }\n            {/*Client info tables*/}\n            {_.map(formStructure, (infoFields, step) => {\n              return (\n                <ClientInfoTable\n                  key={step}\n                  step={step}\n                  client={client}\n                  infoFields={_.keys(_.omit(infoFields, 'family'))}\n                  clientFields={clientFields}\n                />\n              )\n            })}\n\n            {/*Family*/}\n            {/*TODO: have family tested*/}\n            {(client.family && client.family.members.length > 0) &&\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow >\n                      <TableCell>First name</TableCell>\n                      <TableCell>Last name</TableCell>\n                      <TableCell>Date of Birth</TableCell>\n                      <TableCell>Gender</TableCell>\n                      <TableCell>Relationship</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  {_.map(_.filter(client.family.members, member => {\n                    return member.person.id !== client.id\n                  }), (member, index) => {\n                    return (\n                      <clientFamilyTableRow\n                        member = {member}\n                        index = {index}\n                      />\n                      )\n                  })}\n                </Table>\n              </TableContainer>\n            }\n          </div>\n\n          {/*TODO： client needs*/}\n          <Typography variant=\"h4\" paddingY={2}>Needs</Typography>\n          <Link to={`/clients/${client.id}/needs/new`}>\n            <Button variant=\"contained\">\n              Add need\n            </Button>\n          </Link>\n          { client && client.need_groups.length > 0 &&\n          <ClientNeeds\n            clientId={client.id}\n            needGroups={client.need_groups}\n          />\n          }\n\n          <Typography variant=\"h4\" paddingY={2}>Appointments</Typography>\n          { client && client.appointments.length > 0 &&\n          <TableContainer>\n            <Table>\n              <TableHead>\n                <TableRow >\n                  <TableCell>Category</TableCell>\n                  <TableCell>Date</TableCell>\n                  <TableCell>Time</TableCell>\n                  <TableCell>Description</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {client.appointments.map(appointment => {\n                  return (\n                    <AppointmentRow\n                      key={appointment.id}\n                      appointment={appointment}\n                    />\n                  )\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          }\n          <hr />\n\n        </div>\n      </Container>\n    )\n  } else {\n    return null;\n  }\n}\n\nfunction clientFamilyTableRow({member, index}) {\n  return (\n    <TableRow key={member.person.id}>\n      <TableCell component=\"th\" scope=\"row\">\n        Family member #{index + 1}\n      </TableCell>\n      <TableCell align=\"left\">{member.person.first_name}</TableCell>\n      <TableCell align=\"left\">{member.person.last_name}</TableCell>\n      <TableCell align=\"left\">{member.person.birth_date}</TableCell>\n      <TableCell align=\"left\">{member.person.gender}</TableCell>\n      <TableCell align=\"left\">{member.relationship}</TableCell>\n    </TableRow>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport TR from '../shared/TR'\nimport { fetchUser } from '../../api/userApi'\nimport { useParams } from \"react-router\";\nimport { Link, Loading } from \"../shared\";\nimport { Container, Paper, Table, Typography, TableBody, Button } from \"@material-ui/core\";\n\nexport default function User() {\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  const {id} = useParams();\n  useEffect(() => {\n    fetchUser(id).then(user => {\n      setUser(user);\n      setLoading(false);\n    });\n  }, [id]);\n\n  if (loading)\n    return <Loading message={`Loading user...`}/>;\n\n  return (\n    <Container>\n      <Typography variant=\"h5\" gutterBottom>\n        User profile\n      </Typography>\n      <Link to={`/users/${id}/edit`}>\n        <Button color=\"primary\" variant=\"contained\" style={{marginBottom: 12}}>\n          Edit\n        </Button>\n      </Link>\n\n      <Paper elevation={4}>\n        <Table>\n          <TableBody>\n            <TR\n              title=\"First Name\"\n              value={user.first_name}\n            />\n            <TR\n              title=\"Last Name\"\n              value={user.last_name}\n            />\n            <TR\n              title=\"Username\"\n              value={user.username}\n            />\n            <TR\n              title=\"Email\"\n              value={user.email}\n            />\n            <TR\n              title=\"Role\"\n              value={user.is_superuser ? 'Admin' : 'User'}\n            />\n            <TR\n              title=\"Phone Number\"\n              value={user.primary_phone_number}\n            />\n            <TR\n              title=\"Alternative Phone Number\"\n              value={user.alt_phone_number}\n            />\n          </TableBody>\n        </Table>\n      </Paper>\n    </Container>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { Chip, Container } from \"@material-ui/core\";\nimport { Add as AddIcon, Check as YesIcon } from \"@material-ui/icons\";\nimport { DeleteModal, DropdownMenu, Link, Loading, DataTable } from \"./shared\";\nimport { deleteUser, fetchUsers } from \"../api/userApi\";\nimport { useHistory } from \"react-router\";\nimport { formatPhoneNumber } from \"../helpers/phone_number_helpers\";\n\nexport default function Users() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    loading: true,\n    data: [],\n    selectedId: null,\n    deleteDialogTitle: '',\n    showDeleteDialog: false,\n  });\n\n  useEffect(() => {\n    fetchUsers().then(data => {\n      setState(state => ({...state, loading: false, data}));\n    });\n  }, []);\n\n  const showDeleteDialog = (id, title) => () => {\n    setState(state => ({\n      ...state, selectedId: id, showDeleteDialog: true,\n      deleteDialogTitle: 'Delete ' + title + ' ?'\n    }));\n  };\n\n  const handleDelete = async (id, form) => {\n    try {\n      await deleteUser(id, form);\n      setState(state => ({\n        ...state, showDeleteDialog: false,\n        data: state.data.filter(item => item.id !== state.selectedId)\n      }));\n    } catch (e) {\n      // TODO: show error\n      console.error(e);\n    }\n  };\n\n  const columns = [\n    {\n      label: 'Username',\n      body: ({id, username}) => {\n        return <Link color to={`/users/${id}`}>\n          {username}\n        </Link>\n      }\n    },\n    {\n      label: 'Email',\n      body: ({email}) => email\n    },\n    {\n      label: 'First name',\n      body: ({first_name}) => first_name\n    },\n    {\n      label: 'Last name',\n      body: ({last_name}) => last_name\n    },\n    {\n      label: 'Primary phone',\n      body: ({primary_phone_number}) => {\n        if (primary_phone_number)\n          return formatPhoneNumber(primary_phone_number);\n        return 'Not Provided';\n      },\n    },\n    {\n      label: 'Primary phone',\n      body: ({secondary_phone_number}) => {\n        if (secondary_phone_number)\n          return formatPhoneNumber(secondary_phone_number);\n        return 'Not Provided';\n      },\n    },\n    {\n      label: 'Admin',\n      body: ({is_superuser}) => {\n        if (is_superuser)\n          return <YesIcon color=\"primary\"/>\n      }\n    },\n    {\n      label: ' ',\n      body: ({username, id}) =>\n        <DropdownMenu urlPrefix={'users'} objectId={id}\n                      handleDelete={() => showDeleteDialog(id, username)}/>\n    }\n  ];\n\n  if (state.loading)\n    return <Loading message={`Loading users...`}/>;\n\n  return (\n    <Container>\n      <DataTable\n        title={\"Users\"}\n        data={state.data}\n        columns={columns}\n        idField=\"id\"\n        customToolbar={<Chip\n          onClick={() => history.push('/users/new')}\n          color=\"primary\"\n          icon={<AddIcon/>}\n          label=\"Add\"\n          variant=\"outlined\"/>}\n      />\n      <DeleteModal\n        objectId={state.selectedId}\n        title={state.deleteDialogTitle}\n        show={state.showDeleteDialog}\n        onHide={() => setState(state => ({...state, showDeleteDialog: false}))}\n        delete={handleDelete}\n      />\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { Container } from \"@material-ui/core\";\nimport Button from '@material-ui/core/Button'\nimport { Edit, RateReview, Print } from '@material-ui/icons';\nimport { Link } from '../shared'\nimport Rating from '@material-ui/core/Rating';\nimport Box from '@material-ui/core/Box';\n\nimport { providerFields } from '../../constants/provider_fields.js'\n\n// components\nimport ProviderInfoTable from './provider_table/ProviderInfoTable';\n\n\nimport { fetchProvider } from '../../store/actions/providerActions.js'\nimport { fetchProviderFields } from '../../api/settingApi';\n\nexport default function ProviderProfile() {\n  //redux hooks\n  const dispatch = useDispatch();\n  const {id} = useParams();\n\n  const [state, setState] = useState({\n    data: null,\n    formSetting: null\n  });\n\n\n  useEffect(() => {\n      dispatch(fetchProvider(id)).then(data => {\n        setState(state => ({\n          ...state,\n          data\n        }))\n      })\n    }, [dispatch, id]\n  );\n\n  useEffect(() => {\n      if (state.formSetting == null) {\n        fetchProviderFields(false).then(json => {\n          setState(state => ({\n            ...state,\n            formSetting: json\n          }))\n        })\n      }\n    }, [dispatch, state.formSetting]\n  );\n  if (state.data && state.formSetting) {\n    const {provider} = state.data;\n    const {formSetting} = state;\n\n    let formType;\n    if (provider.type === 'Organization') {\n      formType = 'organization'\n    } else if (provider.type === 'Individual') {\n      formType = provider.category.split(' ').join('_').toLowerCase()\n    }\n    const reviewValue = ((provider.reviews.map(review => review.rating))\n      .reduce((first, second) => first + second, 0)) / provider.reviews.length;\n    return (\n      <Container>\n        <h3>Provider Profile</h3>\n        <div>\n          <Link to={`/providers/${id}/edit/`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<Edit/>}>\n              Edit\n            </Button>\n          </Link>\n          &nbsp;\n          <Link to={`/providers/${id}/rate`}>\n            <Button\n              variant=\"contained\"\n              startIcon={<RateReview/>}>\n              Rate Provider\n            </Button>\n          </Link>\n          {' '}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => window.print()}\n            startIcon={<Print/>}>\n            Print\n          </Button>\n\n          {formSetting[formType] &&\n          _.map(formSetting[formType].form_structure, (infoFields, step) => {\n            return (\n              <ProviderInfoTable\n                key={step}\n                step={step}\n                provider={provider}\n                providerFields={providerFields}\n                infoFields={infoFields}\n              />\n            )\n          })\n          }\n\n          <h3> Reviews </h3>\n          <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n            <Rating size=\"large\" name = \"provider-rating\" value={reviewValue}/>\n          </Box>\n\n          <h3>Services</h3>\n          <Link to=\"/services/new\">\n            <Button variant=\"contained\">\n              Add Service\n            </Button>\n          </Link>\n\n        </div>\n      </Container>\n    )\n  } else {\n    return '';\n  }\n}\n","import React from 'react';\n\n// components\nimport TopNavbar from './components/layouts/TopNavbar'\nimport Footer from './components/layouts/Footer'\nimport { createTheme } from '@material-ui/core/styles';\nimport { blue, pink } from '@material-ui/core/colors'\nimport { ThemeProvider, StyledEngineProvider } from '@material-ui/core';\n\nimport routes from \"./routes\";\n\n// style\nimport './stylesheets/App.scss';\n\nconst theme = createTheme({\n  palette: {\n    primary: {main: blue[700]},\n    secondary: pink,\n  },\n});\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <StyledEngineProvider injectFirst>\n        <ThemeProvider theme={theme}>\n          <TopNavbar/>\n          <div style={{paddingTop: 50, paddingBottom: 22}}>\n            {/*<Breadcurum/>*/}\n            {routes}\n          </div>\n          <Footer/>\n        </ThemeProvider>\n      </StyledEngineProvider>\n    </div>\n  );\n}\n","// import 'bootstrap/dist/css/bootstrap.css';\n// import 'bootstrap/dist/css/bootstrap-theme.css';\n\nimport configureStore from './store.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nimport App from './App';\n\nconst { store, persistor } = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}